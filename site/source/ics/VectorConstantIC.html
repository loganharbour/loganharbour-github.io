<!DOCTYPE html><head><meta charset="UTF-8"><title>VectorConstantIC.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="81cd17ba-2123-4a5a-aa22-f61993157e7e"><i class="material-icons">menu</i></a><ul class="sidenav" id="81cd17ba-2123-4a5a-aa22-f61993157e7e"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">ics</span><a href="#" class="breadcrumb">VectorConstantIC</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="b856d210-359c-45d6-8a97-3941d26bcd52" data-section-level="1" data-section-text="VectorConstantIC"><h1 id="vectorconstantic">VectorConstantIC</h1><p>The <code>VectorConstantIC</code> class is used to set initial values of components of a vector variable. The x component can be set through the <code>x_value</code> parameter, the y component through <code>y_value</code>, and the z component through <code>z_value</code>. Note that <code>x_value</code> is required. If <code>y_value</code> or <code>z_value</code> are not supplied, they are defaulted to zero.</p><p>Sets constant component values for a vector field variable.</p><section class="scrollspy" id="19a28e0e-3b34-4c90-8e47-ad4b66155ae6" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="921aa1b0-431a-4c33-adcf-1cbb8797d14e" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">variable</span><span class="moose-parameter-header-description">The variable this initial condition is supposed to provide values for.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>VariableName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The variable this initial condition is supposed to provide values for.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">x_value</span><span class="moose-parameter-header-description">The x value to be set in IC</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The x value to be set in IC</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="194e9b99-249b-4a67-8cdd-e5d4ca40ea83" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block</span><span class="moose-parameter-header-description">The list of block ids (SubdomainID) that this object will be applied</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<SubdomainName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The list of block ids (SubdomainID) that this object will be applied</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">boundary</span><span class="moose-parameter-header-description">The list of boundary IDs from the mesh where this boundary condition applies</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<BoundaryName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The list of boundary IDs from the mesh where this boundary condition applies</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">y_value</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The y value to be set in IC</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The y value to be set in IC</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">z_value</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The z value to be set in IC</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The z value to be set in IC</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="4d104ac8-99bb-4395-b678-bb5cd0ef3f4d" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">ignore_uo_dependency</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">When set to true, a UserObject retrieved by this IC will not be executed before the this IC</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>When set to true, a UserObject retrieved by this IC will not be executed before the this IC</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="5d147342-4ba3-4f1d-9ce8-5c0bda273fb3" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#90abc3c8-6a0b-4ebb-87d9-53b4204542f1" class="modal-trigger">modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized.i</a></li><li><a href="#6529a727-5766-4c13-be88-d71b7051ff10" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_steady_stabilized.i</a></li><li><a href="#288a7268-87fd-493b-80d4-7b734a5f04cb" class="modal-trigger">modules/navier_stokes/test/tests/ins/coupled-force/steady-function.i</a></li><li><a href="#20fe7f22-c66a-44a7-9dc3-1904db159e83" class="modal-trigger">test/tests/kernels/transient_vector_diffusion/transient_vector_diffusion.i</a></li><li><a href="#367ce5d0-8d1f-4cb8-b29d-dbd28c7c3ec8" class="modal-trigger">modules/navier_stokes/test/tests/ins/coupled-force/gravity-object.i</a></li><li><a href="#1f4b3692-3e4d-4647-a7da-22030874da79" class="modal-trigger">modules/navier_stokes/test/tests/ins/energy_source/steady.i</a></li><li><a href="#0e2ac896-3b49-485d-8f62-505fe2abe801" class="modal-trigger">modules/navier_stokes/test/tests/ins/wall_convection/steady.i</a></li><li><a href="#4a30bb8c-99c4-4bc7-b3a5-3e54f48868d7" class="modal-trigger">modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized_with_temp.i</a></li><li><a href="#27e80a63-00fc-47fb-903f-b72a1f49ecf8" class="modal-trigger">test/tests/kernels/ad_transient_diffusion/ad_transient_vector_diffusion.i</a></li><li><a href="#5593cb0a-4671-4bc4-96a8-703a25bce5f1" class="modal-trigger">modules/navier_stokes/test/tests/ins/coupled-force/gravity-through-coupled-force-action.i</a></li><li><a href="#5557c511-3a3b-4cee-a934-5cdd7eea6999" class="modal-trigger">modules/navier_stokes/test/tests/ins/boussinesq/boussinesq_stabilized.i</a></li><li><a href="#a976fb2b-324a-4b4c-8492-0436ec1e9dff" class="modal-trigger">modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized_with_temp_transient.i</a></li><li><a href="#4b27990b-5925-4c81-a0ad-ea3d60f33aaf" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_steady_stabilized_second_order.i</a></li><li><a href="#ff74a53f-19e1-4d1a-8c09-08176421b87f" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_no_parts_steady_stabilized_second_order.i</a></li><li><a href="#f8a96a95-e1f3-4255-b3a5-874b27ce404c" class="modal-trigger">test/tests/ics/vector_constant_ic/vector_constant_ic.i</a></li><li><a href="#3e82f9ee-b8d9-45a8-a139-627511d53a31" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_stab_jac_test.i</a></li><li><a href="#9abc348f-2566-456f-8836-1b747b1bd512" class="modal-trigger">modules/navier_stokes/test/tests/ins/coupled-force/gravity-through-coupled-force.i</a></li><li><a href="#794b23fb-0374-4beb-bf4a-e35657f20090" class="modal-trigger">modules/navier_stokes/test/tests/ins/energy_source/steady-var.i</a></li><li><a href="#5d133047-a3af-4f65-b614-df81504ac001" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_no_parts_steady_stabilized.i</a></li><li><a href="#e18fd579-7a10-4258-8922-3ba4f7f2998d" class="modal-trigger">modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_traction_steady_stabilized.i</a></li><li><a href="#0f55b9ce-61dd-4415-983b-93c0dd5eee48" class="modal-trigger">modules/navier_stokes/test/tests/ins/coupled-force/steady.i</a></li></ul><div class="modal moose-modal" id="90abc3c8-6a0b-4ebb-87d9-53b4204542f1"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 64
    ny = 64
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
    alpha = .1
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_abs_tol = 1e-13
  nl_max_its = 6
  l_tol = 1e-6
  l_max_its = 500
[]

[Outputs]
  exodus = true
  file_base = lid_driven_stabilized_out
[]

[Postprocessors]
  [lin]
    type = NumLinearIterations
  []
  [nl]
    type = NumNonlinearIterations
  []
  [lin_tot]
    type = CumulativeValuePostprocessor
    postprocessor = &#x27;lin&#x27;
  []
  [nl_tot]
    type = CumulativeValuePostprocessor
    postprocessor = &#x27;nl&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6529a727-5766-4c13-be88-d71b7051ff10"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_steady_stabilized.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = FIRST
  integrate_p_by_parts = true
[]

[Mesh]
  file = &#x27;2d_cone.msh&#x27;
[]

[Problem]
  coord_type = RZ
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
[]

# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = &#x27;inlet_func&#x27;
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
[]

[Functions]
  [./inlet_func]
    type = ParsedFunction
    value = &#x27;-4 * x^2 + 1&#x27;
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;bjacobi  ilu          4&#x27;

  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  csv = true
  console = true
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./flow_in]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;bottom&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./flow_out]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;top&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="288a7268-87fd-493b-80d4-7b734a5f04cb"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/coupled-force/steady-function.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [u]
    family = LAGRANGE_VEC
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [momentum_coupled_force]
    type = INSADMomentumCoupledForce
    variable = velocity
    vector_function = &#x27;vector_func&#x27;
  []

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

  [u_diff]
    type = VectorDiffusion
    variable = u
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left top&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [u_left]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function_x = 1
    function_y = 1
  []

  [u_right]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    function_x = -1
    function_y = -1
  []
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]

[Functions]
  [vector_func]
    type = ParsedVectorFunction
    value_x = &#x27;-2*x + 1&#x27;
    value_y = &#x27;-2*x + 1&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="20fe7f22-c66a-44a7-9dc3-1904db159e83"><div class="modal-content"><h4>test/tests/kernels/transient_vector_diffusion/transient_vector_diffusion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  [../]
  [./block1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 -1&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./block2]
    type = SubdomainBoundingBoxGenerator
    input = block1
    bottom_left = &#x27;0.33 0.33 -1&#x27;
    top_right = &#x27;0.67 0.67 1&#x27;
    block_id = 2
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE_VEC
  [../]
[]

[ICs]
  [./u]
    type = VectorConstantIC
    variable = u
    x_value = 1
    y_value = 2
    z_value = 3
    block = 2
  [../]
[]

[Kernels]
  [./diff]
    type = VectorDiffusion
    variable = u
  [../]
  [./time]
    type = VectorTimeDerivative
    variable = u
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 20
  dt = 0.01
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="367ce5d0-8d1f-4cb8-b29d-dbd28c7c3ec8"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/coupled-force/gravity-object.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [u]
    family = LAGRANGE_VEC
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [momentum_coupled_force]
    type = INSADMomentumCoupledForce
    variable = velocity
    coupled_vector_var = u
  []

  [gravity]
    type = INSADGravityForce
    variable = velocity
    gravity = &#x27;0 -9.81 0&#x27;
  []

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

  [u_diff]
    type = VectorDiffusion
    variable = u
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left top&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [u_left]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function_x = 1
    function_y = 1
  []

  [u_right]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    function_x = -1
    function_y = -1
  []
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1f4b3692-3e4d-4647-a7da-22030874da79"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/energy_source/steady.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [temperature][]
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

 [./temperature_advection]
   type = INSADEnergyAdvection
   variable = temperature
 [../]

  [./temperature_conduction]
    type = ADHeatConduction
    variable = temperature
    thermal_conductivity = &#x27;k&#x27;
  [../]

  [temperature_source]
    type = INSADEnergySource
    variable = temperature
    source_function = 1
  []

  [temperature_supg]
    type = INSADEnergySUPG
    variable = temperature
    velocity = velocity
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [./temperature_hot]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;bottom&#x27;
    value = 1
  [../]

  [./temperature_cold]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;top&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu cp k&#x27;
    prop_values = &#x27;1  1  1  .01&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temperature
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0e2ac896-3b49-485d-8f62-505fe2abe801"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/wall_convection/steady.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [temperature][]
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

 [./temperature_advection]
   type = INSADEnergyAdvection
   variable = temperature
 [../]

  [./temperature_conduction]
    type = ADHeatConduction
    variable = temperature
    thermal_conductivity = &#x27;k&#x27;
  [../]

  [temperature_ambient_convection]
    type = INSADEnergyAmbientConvection
    variable = temperature
    alpha = 1
    T_ambient = 0.5
  []

  [temperature_supg]
    type = INSADEnergySUPG
    variable = temperature
    velocity = velocity
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [./temperature_hot]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;bottom&#x27;
    value = 1
  [../]

  [./temperature_cold]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;top&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu cp k&#x27;
    prop_values = &#x27;1  1  1  .01&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temperature
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4a30bb8c-99c4-4bc7-b3a5-3e54f48868d7"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized_with_temp.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [temperature][]
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

 [./temperature_advection]
   type = INSADEnergyAdvection
   variable = temperature
 [../]

 [./temperature_conduction]
   type = ADHeatConduction
   variable = temperature
   thermal_conductivity = &#x27;k&#x27;
 [../]

  [temperature_supg]
    type = INSADEnergySUPG
    variable = temperature
    velocity = velocity
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [./temperature_hot]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;bottom&#x27;
    value = 1
  [../]

  [./temperature_cold]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;top&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu cp k&#x27;
    prop_values = &#x27;1  1  1  .01&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temperature
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="27e80a63-00fc-47fb-903f-b72a1f49ecf8"><div class="modal-content"><h4>test/tests/kernels/ad_transient_diffusion/ad_transient_vector_diffusion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  [../]
  [./block1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 -1&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./block2]
    type = SubdomainBoundingBoxGenerator
    input = block1
    bottom_left = &#x27;0.33 0.33 -1&#x27;
    top_right = &#x27;0.67 0.67 1&#x27;
    block_id = 2
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE_VEC
  [../]
[]

[ICs]
  [./u]
    type = VectorConstantIC
    variable = u
    x_value = 1
    y_value = 2
    z_value = 3
    block = 2
  [../]
[]

[Kernels]
  [./diff]
    type = ADVectorDiffusion
    variable = u
  [../]
  [./time]
    type = ADVectorTimeDerivative
    variable = u
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 20
  dt = 0.01
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5593cb0a-4671-4bc4-96a8-703a25bce5f1"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/coupled-force/gravity-through-coupled-force-action.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
[]

[Variables]
  [u]
    family = LAGRANGE_VEC
  []
[]

[AuxVariables]
  [gravity]
    family = LAGRANGE_VEC
  []
[]

[ICs]
  [gravity]
    type = VectorConstantIC
    x_value = &#x27;0&#x27;
    y_value = &#x27;-9.81&#x27;
    variable = gravity
  []
[]

[Modules]
  [IncompressibleNavierStokes]
    equation_type = steady-state

    velocity_boundary = &#x27;bottom right top left&#x27;
    velocity_function = &#x27;0 0    0 0   0 0 0 0&#x27;
    add_standard_velocity_variables_for_ad = false

    pressure_pinned_node = 0

    density_name = rho
    dynamic_viscosity_name = mu

    use_ad = true
    laplace = true
    family = LAGRANGE
    order = FIRST

    supg = true
    pspg = true

    has_coupled_force = true
  []
[]

[Kernels]
  [u_diff]
    type = VectorDiffusion
    variable = u
  []
[]

[BCs]
  [u_left]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function_x = 1
    function_y = 1
  []

  [u_right]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    function_x = -1
    function_y = -1
  []
[]

[Materials]
  [const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  []
[]

[Preconditioning]
  [SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  [out]
    type = Exodus
    hide = &#x27;gravity&#x27;
  []
[]

[Functions]
  [vector_func]
    type = ParsedVectorFunction
    value_x = &#x27;-2*x + 1&#x27;
    value_y = &#x27;-2*x + 1&#x27;
  []
  [vector_gravity_func]
    type = ParsedVectorFunction
    value_x = &#x27;0&#x27;
    value_y = &#x27;-9.81&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5557c511-3a3b-4cee-a934-5cdd7eea6999"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/boussinesq/boussinesq_stabilized.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = .05
    ymax = .05
    nx = 20
    ny = 20
    elem_type = QUAD9
  []
  [./bottom_left]
    type = ExtraNodesetGenerator
    new_boundary = corner
    coord = &#x27;0 0&#x27;
    input = gen
  [../]
[]


[Preconditioning]
  [./Newton_SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  nl_rel_tol = 1e-12
  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;bjacobi  lu           NONZERO                   200&#x27;
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  [out]
    type = Exodus
    execute_on = &#x27;final&#x27;
  []
[]

[Variables]
  [velocity]
    family = LAGRANGE_VEC
  []
  [p][]
  [temp]
    initial_condition = 340
    scaling = 1e-4
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[BCs]
  [./velocity_dirichlet]
    type = VectorDirichletBC
    boundary = &#x27;left right bottom top&#x27;
    variable = velocity
    # The third entry is to satisfy RealVectorValue
    values = &#x27;0 0 0&#x27;
  [../]
  # Even though we are integrating by parts, because there are no integrated
  # boundary conditions on the velocity p doesn&#x27;t appear in the system of
  # equations. Thus we must pin the pressure somewhere in order to ensure a
  # unique solution
  [./p_zero]
    type = DirichletBC
    boundary = corner
    variable = p
    value = 0
  [../]
  [./cold]
    type = DirichletBC
    variable = temp
    boundary = left
    value = 300
  [../]
  [./hot]
    type = DirichletBC
    variable = temp
    boundary = right
    value = 400
  [../]
[]


[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]
  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  []
  [./buoyancy]
    type = INSADBoussinesqBodyForce
    variable = velocity
    temperature = temp
    gravity = &#x27;0 -9.81 0&#x27;
  [../]
  [./gravity]
    type = INSADGravityForce
    variable = velocity
    gravity = &#x27;0 -9.81 0&#x27;
  [../]
  [supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []

  [temp_advection]
    type = INSADEnergyAdvection
    variable = temp
  []
  [temp_conduction]
    type = ADHeatConduction
    variable = temp
    thermal_conductivity = &#x27;k&#x27;
  [../]
  [temp_supg]
    type = INSADEnergySUPG
    variable = temp
    velocity = velocity
  []
[]

[Materials]
  [./ad_const]
    type = ADGenericConstantMaterial
    # alpha = coefficient of thermal expansion where rho  = rho0 -alpha * rho0 * delta T
    prop_names =  &#x27;mu        rho   alpha   k        cp&#x27;
    prop_values = &#x27;30.74e-6  .5757 2.9e-3  46.38e-3 1054&#x27;
  [../]
  [./const]
    type = GenericConstantMaterial
    prop_names =  &#x27;temp_ref&#x27;
    prop_values = &#x27;900&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temp
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a976fb2b-324a-4b4c-8492-0436ec1e9dff"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/lid_driven/ad_lid_driven_stabilized_with_temp_transient.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [temperature]
    [InitialCondition]
      type = ConstantIC
      value = 1.0
    []
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_time]
    type = INSADMomentumTimeDerivative
    variable = velocity
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

 [./temperature_advection]
   type = INSADEnergyAdvection
   variable = temperature
 [../]

 [temperature_time]
   type = INSADHeatConductionTimeDerivative
   variable = temperature
 []

 [./temperature_conduction]
   type = ADHeatConduction
   variable = temperature
   thermal_conductivity = &#x27;k&#x27;
 [../]

  [temperature_supg]
    type = INSADEnergySUPG
    variable = temperature
    velocity = velocity
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [./temperature_hot]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;bottom&#x27;
    value = 1
  [../]

  [./temperature_cold]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;top&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu cp k&#x27;
    prop_values = &#x27;1  1  1  .01&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temperature
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  # Run for 100+ timesteps to reach steady state.
  num_steps = 5
  dt = .5
  dtmin = .5
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_abs_tol =  1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4b27990b-5925-4c81-a0ad-ea3d60f33aaf"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_steady_stabilized_second_order.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = SECOND
  integrate_p_by_parts = true
[]

[Mesh]
  file = &#x27;2d_cone.msh&#x27;
[]

[Problem]
  coord_type = RZ
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
    order = FIRST
  [../]
[]

# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = &#x27;inlet_func&#x27;
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
[]

[Functions]
  [./inlet_func]
    type = ParsedFunction
    value = &#x27;-4 * x^2 + 1&#x27;
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;bjacobi  ilu          4&#x27;

  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  csv = true
  console = true
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./flow_in]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;bottom&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./flow_out]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;top&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ff74a53f-19e1-4d1a-8c09-08176421b87f"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_no_parts_steady_stabilized_second_order.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = SECOND
  integrate_p_by_parts = false
[]

[Mesh]
  file = &#x27;2d_cone.msh&#x27;
[]

[Problem]
  coord_type = RZ
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
    order = FIRST
  [../]
[]

# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [p_corner]
    type = DirichletBC
    boundary = top_right
    value = 0
    variable = p
  []
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = &#x27;inlet_func&#x27;
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
[]

[Functions]
  [./inlet_func]
    type = ParsedFunction
    value = &#x27;-4 * x^2 + 1&#x27;
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;bjacobi  ilu          4&#x27;

  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  csv = true
  console = true
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./flow_in]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;bottom&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./flow_out]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;top&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f8a96a95-e1f3-4255-b3a5-874b27ce404c"><div class="modal-content"><h4>test/tests/ics/vector_constant_ic/vector_constant_ic.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 2
  ny = 2
  nz = 2
[]

[Problem]
  solve = false
  kernel_coverage_check = false
[]

[Variables]
  [./A]
    family = LAGRANGE_VEC
    order = FIRST
  [../]
[]

[ICs]
  [./A]
    type = VectorConstantIC
    variable = A
    x_value = 2
    y_value = 3
    z_value = 4
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3e82f9ee-b8d9-45a8-a139-627511d53a31"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_stab_jac_test.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = SECOND
  integrate_p_by_parts = true
[]

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
    xmin = 0
    xmax = 1.1
    ymin = -1.1
    ymax = 1.1
    elem_type = QUAD9
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Problem]
  coord_type = RZ
[]

[Preconditioning]
  [./SMP_PJFNK]
    type = SMP
    full = true
    solve_type = NEWTON
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1.1
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
    order = FIRST
  [../]
[]


# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_time]
    type = INSADMomentumTimeDerivative
    variable = velocity
  []
  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = 1
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
  [outlet]
    type = INSADMomentumNoBCBC
    variable = velocity
    p = p
    boundary = &#x27;top&#x27;
  []
  # When the NoBCBC is applied on the outlet boundary then there is nothing
  # constraining the pressure. Thus we must pin the pressure somewhere to ensure
  # that the problem is not singular. If the below BC is not applied then
  # -pc_type svd -pc_svd_monitor reveals a singular value
  [p_corner]
    type = DirichletBC
    boundary = pinned_node
    value = 0
    variable = p
  []
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1.1 1.1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9abc348f-2566-456f-8836-1b747b1bd512"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/coupled-force/gravity-through-coupled-force.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [u]
    family = LAGRANGE_VEC
  []
[]

[AuxVariables]
  [gravity]
    family = LAGRANGE_VEC
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
  [gravity]
    type = VectorConstantIC
    x_value = &#x27;0&#x27;
    y_value = &#x27;-9.81&#x27;
    variable = gravity
  []
[]

[Kernels]
  inactive = &#x27;momentum_coupled_forces_two_vars momentum_coupled_forces_two_funcs&#x27;

  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [momentum_coupled_forces_var_and_func]
    type = INSADMomentumCoupledForce
    variable = velocity
    coupled_vector_var = u
    vector_function = &#x27;vector_gravity_func&#x27;
  []

  [momentum_coupled_forces_two_vars]
    type = INSADMomentumCoupledForce
    variable = velocity
    coupled_vector_var = &#x27;u gravity&#x27;
  []

  [momentum_coupled_forces_two_funcs]
    type = INSADMomentumCoupledForce
    variable = velocity
    vector_function = &#x27;vector_func vector_gravity_func&#x27;
  []

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

  [u_diff]
    type = VectorDiffusion
    variable = u
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left top&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [u_left]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function_x = 1
    function_y = 1
  []

  [u_right]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    function_x = -1
    function_y = -1
  []
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  [out]
    type = Exodus
    hide = &#x27;gravity&#x27;
  []
[]

[Functions]
  [vector_func]
    type = ParsedVectorFunction
    value_x = &#x27;-2*x + 1&#x27;
    value_y = &#x27;-2*x + 1&#x27;
  []
  [vector_gravity_func]
    type = ParsedVectorFunction
    value_x = &#x27;0&#x27;
    value_y = &#x27;-9.81&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="794b23fb-0374-4beb-bf4a-e35657f20090"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/energy_source/steady-var.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[AuxVariables]
  [u]
    initial_condition = 1
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [temperature][]
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

 [./temperature_advection]
   type = INSADEnergyAdvection
   variable = temperature
 [../]

  [./temperature_conduction]
    type = ADHeatConduction
    variable = temperature
    thermal_conductivity = &#x27;k&#x27;
  [../]

  [temperature_source]
    type = INSADEnergySource
    variable = temperature
    source_variable = u
  []

  [temperature_supg]
    type = INSADEnergySUPG
    variable = temperature
    velocity = velocity
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left&#x27;
  [../]

  [./lid]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;top&#x27;
    function_x = &#x27;lid_function&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [./temperature_hot]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;bottom&#x27;
    value = 1
  [../]

  [./temperature_cold]
    type = DirichletBC
    variable = temperature
    boundary = &#x27;top&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu cp k&#x27;
    prop_values = &#x27;1  1  1  .01&#x27;
  [../]
  [ins_mat]
    type = INSADStabilized3Eqn
    velocity = velocity
    pressure = p
    temperature = temperature
  []
[]

[Functions]
  [./lid_function]
    # We pick a function that is exactly represented in the velocity
    # space so that the Dirichlet conditions are the same regardless
    # of the mesh spacing.
    type = ParsedFunction
    value = &#x27;4*x*(1-x)&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  [out]
    type = Exodus
    hide = &#x27;u&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5d133047-a3af-4f65-b614-df81504ac001"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_no_parts_steady_stabilized.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = FIRST
  integrate_p_by_parts = false
[]

[Mesh]
  file = &#x27;2d_cone.msh&#x27;
[]

[Problem]
  coord_type = RZ
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
[]

# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [p_corner]
    type = DirichletBC
    boundary = top_right
    value = 0
    variable = p
  []
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = &#x27;inlet_func&#x27;
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
[]

[Functions]
  [./inlet_func]
    type = ParsedFunction
    value = &#x27;-4 * x^2 + 1&#x27;
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;bjacobi  ilu          4&#x27;

  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  csv = true
  console = true
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./flow_in]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;bottom&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./flow_out]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;top&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e18fd579-7a10-4258-8922-3ba4f7f2998d"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/RZ_cone/ad_rz_cone_by_parts_traction_steady_stabilized.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = FIRST
  integrate_p_by_parts = true
  viscous_form = &#x27;traction&#x27;
[]

[Mesh]
  file = &#x27;2d_cone.msh&#x27;
[]

[Problem]
  coord_type = RZ
[]

[AuxVariables]
  [vel_x]
  []
  [vel_y]
  []
[]

[AuxKernels]
  [vel_x]
    type = VectorVariableComponentAux
    variable = vel_x
    vector_variable = velocity
    component = &#x27;x&#x27;
  []
  [vel_y]
    type = VectorVariableComponentAux
    variable = vel_y
    vector_variable = velocity
    component = &#x27;y&#x27;
  []
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
[]

# Need to set a non-zero initial condition because we have a velocity norm in
# the denominator for the tau coefficient of the stabilization term
[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [mass_pspg]
    type = INSADMassPSPG
    variable = p
  []

  [momentum_advection]
    type = INSADMomentumAdvection
    variable = velocity
  []
  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
  [../]
  [momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  []
[]

[BCs]
  [inlet]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom&#x27;
    function_x = 0
    function_y = &#x27;inlet_func&#x27;
  [../]
  [wall]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;right&#x27;
    function_x = 0
    function_y = 0
  []
  [axis]
    type = ADVectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;left&#x27;
    set_y_comp = false
    function_x = 0
  []
[]

[Functions]
  [./inlet_func]
    type = ParsedFunction
    value = &#x27;-4 * x^2 + 1&#x27;
  [../]
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;bjacobi  ilu          4&#x27;

  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  csv = true
  console = true
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./flow_in]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;bottom&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./flow_out]
    type = VolumetricFlowRate
    vel_x = vel_x
    vel_y = vel_y
    boundary = &#x27;top&#x27;
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0f55b9ce-61dd-4415-983b-93c0dd5eee48"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/coupled-force/steady.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1.0
    ymin = 0
    ymax = 1.0
    nx = 16
    ny = 16
  []
  [./corner_node]
    type = ExtraNodesetGenerator
    new_boundary = &#x27;pinned_node&#x27;
    nodes = &#x27;0&#x27;
    input = gen
  [../]
[]

[Variables]
  [./velocity]
    family = LAGRANGE_VEC
  [../]
  [./p]
  [../]
  [u]
    family = LAGRANGE_VEC
  []
[]

[ICs]
  [velocity]
    type = VectorConstantIC
    x_value = 1e-15
    y_value = 1e-15
    variable = velocity
  []
[]

[Kernels]
  [./mass]
    type = INSADMass
    variable = p
  [../]
  [./mass_pspg]
    type = INSADMassPSPG
    variable = p
  [../]

  [./momentum_convection]
    type = INSADMomentumAdvection
    variable = velocity
  [../]

  [./momentum_viscous]
    type = INSADMomentumViscous
    variable = velocity
  [../]

  [./momentum_pressure]
    type = INSADMomentumPressure
    variable = velocity
    p = p
    integrate_p_by_parts = true
  [../]

  [momentum_coupled_force]
    type = INSADMomentumCoupledForce
    variable = velocity
    coupled_vector_var = u
  []

  [./momentum_supg]
    type = INSADMomentumSUPG
    variable = velocity
    velocity = velocity
  [../]

  [u_diff]
    type = VectorDiffusion
    variable = u
  []
[]

[BCs]
  [./no_slip]
    type = VectorFunctionDirichletBC
    variable = velocity
    boundary = &#x27;bottom right left top&#x27;
  [../]

  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]

  [u_left]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function_x = 1
    function_y = 1
  []

  [u_right]
    type = VectorFunctionDirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    function_x = -1
    function_y = -1
  []
[]

[Materials]
  [./const]
    type = ADGenericConstantMaterial
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
  [ins_mat]
    type = INSADTauMaterial
    velocity = velocity
    pressure = p
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_factor_levels -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm      6                     200&#x27;
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  nl_max_its = 6
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section class="scrollspy" id="ce2106f3-524d-4b30-addc-8564275d7227" data-section-level="2" data-section-text="References"><h2 id="references">References</h2><div class="moose-bibliography"><ol></ol></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#19a28e0e-3b34-4c90-8e47-ad4b66155ae6" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#5d147342-4ba3-4f1d-9ce8-5c0bda273fb3" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li><li><a href="#ce2106f3-524d-4b30-addc-8564275d7227" class="tooltipped" data-position="left" data-tooltip="References">References</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>