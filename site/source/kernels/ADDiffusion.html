<!DOCTYPE html><head><meta charset="UTF-8"><title>ADDiffusion.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="949e2687-3bd7-4117-915b-a2bbc9fe2428"><i class="material-icons">menu</i></a><ul class="sidenav" id="949e2687-3bd7-4117-915b-a2bbc9fe2428"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">kernels</span><a href="#" class="breadcrumb">ADDiffusion</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="ba291d15-1abd-4cde-8356-c54935cec0db" data-section-level="1" data-section-text="ADDiffusion"><h1 id="addiffusion">ADDiffusion</h1><section class="scrollspy" id="206442c6-1a81-4f65-9977-1bec7162ec1d" data-section-level="2" data-section-text="Description"><h2 id="description">Description</h2><p>The steady-state diffusion equation on a domain <span tex="\Omega" bookmark="moose-equation-27ac7865-5194-4e6c-b781-2f0899f49b99" recursive="True" class="moose-katex-inline-equation" id="moose-equation-27ac7865-5194-4e6c-b781-2f0899f49b99"><script>var element = document.getElementById("moose-equation-27ac7865-5194-4e6c-b781-2f0899f49b99");katex.render("\\Omega", element, {displayMode:false,throwOnError:false});</script></span> is defined as <span class="moose-katex-block-equation"><span tex="-\nabla \cdot \nabla u = 0 \in \Omega." bookmark="moose-equation-06f131b8-c8cd-4764-a139-4c8354e4e29b" recursive="True" class="moose-katex-equation table-cell" id="moose-equation-06f131b8-c8cd-4764-a139-4c8354e4e29b"></span><script>var element = document.getElementById("moose-equation-06f131b8-c8cd-4764-a139-4c8354e4e29b");katex.render("-\\nabla \\cdot \\nabla u = 0 \\in \\Omega.", element, {displayMode:true,throwOnError:false});</script></span></p><p>The weak form of this equation, in inner-product notation, is given by:</p><p><span class="moose-katex-block-equation"><span tex="R_i(u_h) = (\nabla \psi_i, \nabla u_h) = 0 \quad \forall  \psi_i," bookmark="moose-equation-28930b8c-f5c8-4f63-82a4-c0d90ad9ca10" recursive="True" class="moose-katex-equation table-cell" id="moose-equation-28930b8c-f5c8-4f63-82a4-c0d90ad9ca10"></span><script>var element = document.getElementById("moose-equation-28930b8c-f5c8-4f63-82a4-c0d90ad9ca10");katex.render("R_i(u_h) = (\\nabla \\psi_i, \\nabla u_h) = 0 \\quad \\forall  \\psi_i,", element, {displayMode:true,throwOnError:false});</script></span> where <span tex="\psi_i" bookmark="moose-equation-7d69e4a3-7c26-48ed-b043-08a3a77d7cf7" recursive="True" class="moose-katex-inline-equation" id="moose-equation-7d69e4a3-7c26-48ed-b043-08a3a77d7cf7"><script>var element = document.getElementById("moose-equation-7d69e4a3-7c26-48ed-b043-08a3a77d7cf7");katex.render("\\psi_i", element, {displayMode:false,throwOnError:false});</script></span> are the test functions and <span tex="u_h \in \mathcal{S}^h" bookmark="moose-equation-f8d02b59-0e1e-49b1-a00e-bdd27d4078cd" recursive="True" class="moose-katex-inline-equation" id="moose-equation-f8d02b59-0e1e-49b1-a00e-bdd27d4078cd"><script>var element = document.getElementById("moose-equation-f8d02b59-0e1e-49b1-a00e-bdd27d4078cd");katex.render("u_h \\in \\mathcal{S}^h", element, {displayMode:false,throwOnError:false});</script></span> is the finite element solution of the weak formulation.</p><p>The Jacobian in <code>ADDiffusion</code> is computed using forward automatic differentiation.</p></section><section class="scrollspy" id="4ccf99c3-e29a-4c15-9ca7-b463ef6f99ee" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="9e70f4d6-2702-46cc-8774-1f827dc4eb48" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">variable</span><span class="moose-parameter-header-description">The name of the variable that this Kernel operates on</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>NonlinearVariableName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of the variable that this Kernel operates on</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="bb315a37-1f3c-4209-8188-dd8648509c68" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block</span><span class="moose-parameter-header-description">The list of block ids (SubdomainID) that this object will be applied</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<SubdomainName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The list of block ids (SubdomainID) that this object will be applied</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">displacements</span><span class="moose-parameter-header-description">The displacements</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<VariableName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The displacements</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="5c76a28a-c0cd-428e-858b-b447a15ace9b" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">diag_save_in</span><span class="moose-parameter-header-description">The name of auxiliary variables to save this Kernel's diagonal Jacobian contributions to. Everything about that variable must match everything about this variable (the type, what blocks it's on, etc.)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<AuxVariableName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of auxiliary variables to save this Kernel's diagonal Jacobian contributions to. Everything about that variable must match everything about this variable (the type, what blocks it's on, etc.)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">implicit</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Determines whether this object is calculated using an implicit or explicit form</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Determines whether this object is calculated using an implicit or explicit form</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">save_in</span><span class="moose-parameter-header-description">The name of auxiliary variables to save this Kernel's residual contributions to.  Everything about that variable must match everything about this variable (the type, what blocks it's on, etc.)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<AuxVariableName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of auxiliary variables to save this Kernel's residual contributions to.  Everything about that variable must match everything about this variable (the type, what blocks it's on, etc.)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">seed</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The seed for the master random number generator</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The seed for the master random number generator</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_displaced_mesh</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not this object should use the displaced mesh for computation. Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not this object should use the displaced mesh for computation. Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section><section id="364cb77e-e612-4981-9fab-8c00f956eab6" data-section-level="3" data-section-text="Tagging Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">extra_matrix_tags</span><span class="moose-parameter-header-description">The extra tags for the matrices this Kernel should fill</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<TagName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The extra tags for the matrices this Kernel should fill</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">extra_vector_tags</span><span class="moose-parameter-header-description">The extra tags for the vectors this Kernel should fill</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<TagName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The extra tags for the vectors this Kernel should fill</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">matrix_tags</span><span class="moose-parameter-header-default">system</span><span class="moose-parameter-header-description">The tag for the matrices this Kernel should fill</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>system</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>nontime system</p><p class="moose-parameter-description"><span>Description:</span>The tag for the matrices this Kernel should fill</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">vector_tags</span><span class="moose-parameter-header-default">nontime</span><span class="moose-parameter-header-description">The tag for the vectors this Kernel should fill</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>nontime</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>nontime time</p><p class="moose-parameter-description"><span>Description:</span>The tag for the vectors this Kernel should fill</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Tagging Parameters</h3></summary></details></section></section><section class="scrollspy" id="1715fff4-d76d-4b0d-bad2-4fbefa1b0601" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#655b0c6a-7437-4c30-bf3a-985a53d74fc7" class="modal-trigger">test/tests/multiapps/full_solve_multiapp_reset/sub.i</a></li><li><a href="#ec3d648b-783b-46e4-848d-b8b37b884e95" class="modal-trigger">examples/ex14_pps/ex14.i</a></li><li><a href="#98df8e7d-4c85-4dcf-9f22-6c633474baba" class="modal-trigger">test/tests/misc/displaced_mesh_coupling/ad.i</a></li><li><a href="#bcfed945-f842-481f-8c7e-a489533ba02f" class="modal-trigger">test/tests/outputs/xml/xml_iterations.i</a></li><li><a href="#99985793-4bb4-4f1f-94ec-c0df7367fb0d" class="modal-trigger">python/mms/test/mms_temporal.i</a></li><li><a href="#805419ad-bcce-4989-b1e4-a41891d7e537" class="modal-trigger">modules/stochastic_tools/test/tests/multiapps/batch_full_solve_multiapp/sub.i</a></li><li><a href="#5fc613c2-cb9c-4a26-9316-8de43516ef27" class="modal-trigger">test/tests/kernels/jxw_grad_test_dep_on_displacements/jxw-cylindrical.i</a></li><li><a href="#7b0e30d3-1569-4cd8-82be-0af8ca2b88d1" class="modal-trigger">test/tests/kernels/kernel_precompute/adkernel_precompute_test.i</a></li><li><a href="#8a959b29-c24e-4fca-9829-7713518924a1" class="modal-trigger">tutorials/darcy_thermo_mech/step01_diffusion/problems/step1.i</a></li><li><a href="#325897e8-35ec-42cc-a0a6-d86434b7c687" class="modal-trigger">test/tests/preconditioners/auto_smp/ad_coupled_convection.i</a></li><li><a href="#d31fa659-9d46-460b-bee0-a5784df1971d" class="modal-trigger">test/tests/materials/derivative_sum_material/ad_random_ic.i</a></li><li><a href="#e49c9e98-5591-4b00-a285-33201e1901db" class="modal-trigger">test/tests/kernels/ad_2d_diffusion/2d_diffusion_neumannbc_test.i</a></li><li><a href="#8cf12c4a-df4e-48d6-92fa-3a9db9e1dda9" class="modal-trigger">test/tests/bcs/ad_function_dirichlet_bc/test.i</a></li><li><a href="#edb93b77-a95b-4c2a-b46e-18ad404984ea" class="modal-trigger">test/tests/tag/tag_ad_kernels.i</a></li><li><a href="#04e735a6-0ee7-43a3-bdd0-54fd71c99043" class="modal-trigger">test/tests/kernels/ad_max_dofs_per_elem_error/ad_max_dofs_per_elem.i</a></li><li><a href="#a860dd37-4177-46c2-a0c6-db5ecbb7ba7c" class="modal-trigger">modules/combined/test/tests/ad_cavity_pressure/rz.i</a></li><li><a href="#9e8879e9-ef77-4933-aba9-8487b58e7149" class="modal-trigger">test/tests/kernels/ad_2d_diffusion/2d_diffusion_test.i</a></li><li><a href="#13c3056f-cc03-4c4c-ac70-af13618e31b4" class="modal-trigger">modules/stochastic_tools/examples/batch/sub.i</a></li><li><a href="#57c60e86-3c32-4b83-87dc-adfd558712b9" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_linear_elasticity/tensor.i</a></li><li><a href="#7d3a79da-640b-4cd4-a87b-2b570605d929" class="modal-trigger">test/tests/kernels/ad_simple_diffusion/ad_simple_diffusion.i</a></li><li><a href="#aa436936-97f2-4b12-aa81-18c79d08621a" class="modal-trigger">test/tests/bcs/ad_penalty_dirichlet_bc/function_penalty_dirichlet_bc_test.i</a></li><li><a href="#6dd9544c-52c9-4674-a35d-dec3aaebb73e" class="modal-trigger">test/tests/materials/ad_piecewise_linear_interpolation_material/piecewise_linear_interpolation_material.i</a></li><li><a href="#119ebcb1-cff9-41ec-8745-cf5d945afcb5" class="modal-trigger">modules/heat_conduction/test/tests/ad_convective_heat_flux/equilibrium.i</a></li><li><a href="#9b7925c4-771e-4666-abd2-cb190ae95d7a" class="modal-trigger">test/tests/kernels/ad_vector_couple/ad_vector_couple.i</a></li><li><a href="#f560aa1e-f7ed-4cef-b412-fdfb5ccf628f" class="modal-trigger">test/tests/bcs/ad_bc_preset_nodal/bc_preset_nodal.i</a></li><li><a href="#0720177a-bfbe-431d-a4ca-bab419cc6a94" class="modal-trigger">modules/combined/test/tests/ad_cavity_pressure/initial_temperature.i</a></li><li><a href="#48d687b9-169a-4f0f-bb18-34ae89d7114e" class="modal-trigger">test/tests/bcs/ad_penalty_dirichlet_bc/penalty_dirichlet_bc_test.i</a></li><li><a href="#742279e4-4953-4059-b794-52d58e1ff90a" class="modal-trigger">test/tests/kernels/ad_coupled_value/ad_aux_coupled_time_value.i</a></li><li><a href="#852976d9-10f2-4422-8ddf-65c681462af0" class="modal-trigger">modules/heat_conduction/test/tests/ad_heat_conduction/test.i</a></li><li><a href="#2a8f3ceb-a4d6-4b57-81c4-c252e16cde82" class="modal-trigger">test/tests/misc/max_var_n_dofs_per_elem/max_var_n_dofs_per_elem.i</a></li><li><a href="#8f5709d0-c4dc-487d-bebb-cc93d72d7d3f" class="modal-trigger">modules/phase_field/examples/anisotropic_interfaces/ad_snow.i</a></li><li><a href="#ed637571-e690-4323-935f-71ad2c509245" class="modal-trigger">test/tests/kernels/ad_vector_couple/ad_vector_couple_default.i</a></li><li><a href="#cd2494c3-97af-40f5-af0f-b33dbc149ba6" class="modal-trigger">test/tests/materials/derivative_material_interface/ad_construction_order.i</a></li><li><a href="#17be394e-0ff2-4c54-b237-571d1e188d9e" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_viscoplasticity_stress_update/lps_dual.i</a></li><li><a href="#48efe3ad-bc92-478c-a206-cbfbf413e3da" class="modal-trigger">modules/misc/test/tests/kernels/thermo_diffusion/ad_thermo_diffusion.i</a></li><li><a href="#b1ec4153-b217-4026-9a4d-798bf4d43706" class="modal-trigger">modules/combined/test/tests/ad_cavity_pressure/multiple_postprocessors.i</a></li><li><a href="#c1df3dda-c92b-4666-91d5-9527f7466503" class="modal-trigger">test/tests/kernels/jxw_grad_test_dep_on_displacements/not-handling-jxw.i</a></li><li><a href="#b852f1fa-4907-4987-8d63-a3b648321e68" class="modal-trigger">modules/phase_field/test/tests/anisotropic_interfaces/adkobayashi.i</a></li><li><a href="#479ff260-e5cc-4122-8acf-d79c0670f936" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_linear_elasticity/linear_elastic_material.i</a></li><li><a href="#e1f5f520-c14d-4202-8547-3f6b0e0754ba" class="modal-trigger">test/tests/kernels/ad_coupled_convection/ad_coupled_convection.i</a></li><li><a href="#bacfd3e5-27fc-49ba-bb81-210e27d101cb" class="modal-trigger">modules/stochastic_tools/test/tests/transfers/batch_sampler_transfer/sub.i</a></li><li><a href="#985fcd21-1d90-47ad-abec-4ccd7487939d" class="modal-trigger">test/tests/bcs/ad_bcs/ad_bc.i</a></li><li><a href="#66fc6a99-95a3-40b6-af68-74d5ed3807d6" class="modal-trigger">modules/combined/test/tests/thermal_elastic/ad-thermal_elastic.i</a></li><li><a href="#b854152f-4d3c-4ab3-8cc7-ce865ca8abad" class="modal-trigger">python/mms/test/mms_spatial.i</a></li><li><a href="#2383cca1-7efb-416d-a44e-fa69cd31ef86" class="modal-trigger">test/tests/geomsearch/quadrature_nearest_node_locator/qnnl_ad.i</a></li><li><a href="#10465197-a3b9-4dc4-9038-93220b858430" class="modal-trigger">test/tests/bcs/ad_bc_preset_nodal/bc_function_preset.i</a></li><li><a href="#b782ab6c-5a32-4026-b3f4-22410646973f" class="modal-trigger">test/tests/kernels/ad_vector_couple/ad_grad_vector_couple.i</a></li><li><a href="#0935426d-d72c-4cec-9890-58d3b582e62c" class="modal-trigger">modules/combined/test/tests/ad_cavity_pressure/3d.i</a></li><li><a href="#840fcc2e-9122-4e97-b9c3-2bdb6b262cc4" class="modal-trigger">test/tests/kernels/jxw_grad_test_dep_on_displacements/jxw-spherical.i</a></li><li><a href="#e5fb366e-1ba2-4ab3-81c9-73b8c523191b" class="modal-trigger">test/tests/kernels/ad_2d_diffusion/2d_diffusion_bodyforce_test.i</a></li><li><a href="#585857d7-afc5-4390-babf-cfe3aec4c50d" class="modal-trigger">modules/combined/test/tests/ad_cavity_pressure/additional_volume.i</a></li><li><a href="#cf140b77-6fa3-458e-acf0-8b41bbfe0b78" class="modal-trigger">modules/combined/test/tests/thermo_mech/ad-youngs_modulus_function_temp.i</a></li></ul><div class="modal moose-modal" id="655b0c6a-7437-4c30-bf3a-985a53d74fc7"><div class="modal-content"><h4>test/tests/multiapps/full_solve_multiapp_reset/sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  [../]
  [td]
    type = ADTimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 4
  dt = 0.25
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ec3d648b-783b-46e4-848d-b8b37b884e95"><div class="modal-content"><h4>examples/ex14_pps/ex14.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 32
  ny = 32
  xmin = 0.0
  xmax = 1.0
  ymin = 0.0
  ymax = 1.0
[]

[Variables]
  [forced]
    order = FIRST
    family = LAGRANGE
  []
[]

[Functions]
  # A ParsedFunction allows us to supply analytic expressions directly in the input file
  [exact]
    type = ParsedFunction
    value = sin(alpha*pi*x)
    vars = alpha
    vals = 16
  []

  # This function is an actual compiled function
  [force]
    type = ExampleFunction
    alpha = 16
  []
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = forced
  []

  # This Kernel can take a function name to use
  [forcing]
    type = ADBodyForce
    variable = forced
    function = force
  []
[]

[BCs]
  # The BC can take a function name to use
  [all]
    type = FunctionDirichletBC
    variable = forced
    boundary = &#x27;bottom right top left&#x27;
    function = exact
  []
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [h]
    type = AverageElementSize
  []
  [error]
    type = ElementL2Error
    variable = forced
    function = exact
  []
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="98df8e7d-4c85-4dcf-9f22-6c633474baba"><div class="modal-content"><h4>test/tests/misc/displaced_mesh_coupling/ad.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;u&#x27;
[]

[Mesh]
  type = GeneratedMesh
  dim = 1
[]

[Variables]
  [./u]
  [../]
  [./v]
  [../]
[]

[Kernels]
  [./u]
    type = ADDiffusion
    use_displaced_mesh = true
    variable = u
  [../]
  [./v]
    type = ADDiffusion
    use_displaced_mesh = false
    variable = v
  [../]
[]

[BCs]
  [./no_x]
    type = ADNeumannBC
    variable = u
    boundary = left
    value = 1.0e-3
    use_displaced_mesh = true
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
  [./lright]
    type = DirichletBC
    variable = v
    boundary = right
    value = 1
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bcfed945-f842-481f-8c7e-a489533ba02f"><div class="modal-content"><h4>test/tests/outputs/xml/xml_iterations.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 10
[]

[Variables/u]
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [time]
    type = ADTimeDerivative
    variable = u
  []
[]

[Functions/function]
  type = ParsedFunction
  value = 2*x
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 2
  []
[]

[Executioner]
  type = Transient
  num_steps = 2
  solve_type = NEWTON
[]

[VectorPostprocessors]
  [line]
    type = LineFunctionSampler
    functions = function
    start_point = &#x27;0 0 0&#x27;
    end_point = &#x27;1 0 0&#x27;
    num_points = 5
    sort_by = x
    execute_on = &#x27;LINEAR&#x27;
  []
[]

[Outputs]
  [out]
    type = XMLOutput
    execute_on = &#x27;LINEAR NONLINEAR&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="99985793-4bb4-4f1f-94ec-c0df7367fb0d"><div class="modal-content"><h4>python/mms/test/mms_temporal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 8
  ny = 8
[]

[Variables]
  [u][]
[]

[Kernels]
  [time]
    type = ADTimeDerivative
    variable = u
  []
  [diff]
    type = ADDiffusion
    variable = u
  []
  [force]
    type = BodyForce
    variable = u
    function = force
  []
[]

[Functions]
  [exact]
    type = ParsedFunction
    value = &#x27;t^3*x*y&#x27;
  []
  [force]
    type = ParsedFunction
    value = &#x27;3*x*y*t^2&#x27;
  []
[]

[BCs]
  [all]
    type = FunctionDirichletBC
    variable = u
    function = exact
    boundary = &#x27;left right top bottom&#x27;
  []
[]

[Postprocessors]
  [error]
    type = ElementL2Error
    function = exact
    variable = u
  []
  [h]
    type = AverageElementSize
  []
[]

[Executioner]
  type = Transient
  dt = 1
  end_time = 3
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="805419ad-bcce-4989-b1e4-a41891d7e537"><div class="modal-content"><h4>modules/stochastic_tools/test/tests/multiapps/batch_full_solve_multiapp/sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [time]
    type = ADTimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Postprocessors]
  [average]
    type = AverageNodalVariableValue
    variable = u
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.25
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5fc613c2-cb9c-4a26-9316-8de43516ef27"><div class="modal-content"><h4>test/tests/kernels/jxw_grad_test_dep_on_displacements/jxw-cylindrical.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_r disp_z&#x27;
  order = SECOND
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 3
  ny = 3
  elem_type = QUAD9
[]

[Problem]
  coord_type = RZ
[]

[Variables]
  [./disp_r]
  [../]
  [./disp_z]
  [../]
  [./u]
    order = FIRST
  [../]
  [./v]
  [../]
[]

[Kernels]
  [./disp_r]
    type = Diffusion
    variable = disp_r
  [../]
  [./disp_z]
    type = Diffusion
    variable = disp_z
  [../]
  [./u]
    type = ADDiffusion
    variable = u
    use_displaced_mesh = true
  [../]
  [./v]
    type = ADDiffusion
    variable = v
    use_displaced_mesh = true
  [../]
[]

[BCs]
  # BCs cannot be preset due to Jacobian tests
  [./u_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = u
  [../]
  [./u_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = u
  [../]
  [./v_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = v
  [../]
  [./v_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = v
  [../]
  [./disp_r_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = disp_r
  [../]
  [./disp_r_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = disp_r
  [../]
  [./disp_z_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;bottom&#x27;
    variable = disp_z
  [../]
  [./disp_z_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;top&#x27;
    variable = disp_z
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  [./dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  [../]
  exodus = true
[]

[ICs]
  [./disp_r]
    type = RandomIC
    variable = disp_r
    min = 0.01
    max = 0.09
  [../]
  [./disp_z]
    type = RandomIC
    variable = disp_z
    min = 0.01
    max = 0.09
  [../]
  [./u]
    type = RandomIC
    variable = u
    min = 0.1
    max = 0.9
  [../]
  [./v]
    type = RandomIC
    variable = v
    min = 0.1
    max = 0.9
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7b0e30d3-1569-4cd8-82be-0af8ca2b88d1"><div class="modal-content"><h4>test/tests/kernels/kernel_precompute/adkernel_precompute_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  nz = 0
  zmin = 0
  zmax = 0
  elem_type = QUAD4
[]

[Variables]
  [./convected]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = convected
  [../]

  [./conv]
    type = ADConvectionPrecompute
    variable = convected
    velocity = &#x27;1.0 0.0 0.0&#x27;
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = convected
    preset = false
    boundary = &#x27;left&#x27;
    value = 0
  [../]

  [./top]
    type = DirichletBC
    variable = convected
    preset = false
    boundary = &#x27;right&#x27;
    value = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  file_base = out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8a959b29-c24e-4fca-9829-7713518924a1"><div class="modal-content"><h4>tutorials/darcy_thermo_mech/step01_diffusion/problems/step1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh # Can generate simple lines, rectangles and rectangular prisms
  dim = 2              # Dimension of the mesh
  nx = 100             # Number of elements in the x direction
  ny = 10              # Number of elements in the y direction
  xmax = 0.304         # Length of test chamber
  ymax = 0.0257        # Test chamber radius
[]

[Variables]
  [pressure]
    # Adds a Linear Lagrange variable by default
  []
[]

[Kernels]
  [diffusion]
    type = ADDiffusion  # Laplacian operator using automatic differentiation
    variable = pressure # Operate on the &quot;pressure&quot; variable from above
  []
[]

[BCs]
  [inlet]
    type = DirichletBC  # Simple u=value BC
    variable = pressure # Variable to be set
    boundary = left     # Name of a sideset in the mesh
    value = 4000        # (Pa) From Figure 2 from paper.  First data point for 1mm spheres.
  []
  [outlet]
    type = DirichletBC
    variable = pressure
    boundary = right
    value = 0           # (Pa) Gives the correct pressure drop from Figure 2 for 1mm spheres
  []
[]

[Problem]
  type = FEProblem  # This is the &quot;normal&quot; type of Finite Element Problem in MOOSE
  coord_type = RZ   # Axisymmetric RZ
  rz_coord_axis = X # Which axis the symmetry is around
[]

[Executioner]
  type = Steady       # Steady state problem
  solve_type = NEWTON # Perform a Newton solve, uses AD to compute Jacobian terms
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27; # PETSc option pairs with values below
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true # Output Exodus format
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="325897e8-35ec-42cc-a0a6-d86434b7c687"><div class="modal-content"><h4>test/tests/preconditioners/auto_smp/ad_coupled_convection.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 4
  ny = 4
[]

[Variables]
  [u][]
  [v][]
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [convection]
    type = ADCoupledConvection
    variable = u
    velocity_vector = v
    scale = 100
  []
  [diff_v]
    type = ADDiffusion
    variable = v
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    preset = false
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    preset = false
    boundary = right
    value = 1
  []
  [left_v]
    type = DirichletBC
    variable = v
    preset = false
    boundary = left
    value = 0
  []
  [right_v]
    type = DirichletBC
    variable = v
    preset = false
    boundary = right
    value = 1
  []
[]

[Preconditioning/smp]
  # this block is part of what is being tested, see &quot;tests&quot; file
  type = SMP
  full = true
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
  nl_abs_tol = 1e-10           # needed to get non-preconditioned version to fail
  auto_preconditioning = false # this is part of what is being tested, see &quot;tests&quot; file
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d31fa659-9d46-460b-bee0-a5784df1971d"><div class="modal-content"><h4>test/tests/materials/derivative_sum_material/ad_random_ic.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  xmax = 250
  ymax = 250
  elem_type = QUAD4
[]

[Variables]
  [./c]
    [./InitialCondition]
      type = RandomIC
    [../]
  [../]
[]

[Kernels]
  [./w_res]
    type = ADDiffusion
    variable = c
  [../]
  [./time]
    type = ADTimeDerivative
    variable = c
  [../]
[]

[Materials]
  [./free_energy1]
    type = ADDerivativeParsedMaterial
    f_name = Fa
    args = &#x27;c&#x27;
    function = (c-0.1)^4*(1-0.1-c)^4
  [../]
  [./free_energy2]
    type = ADDerivativeParsedMaterial
    f_name = Fb
    args = &#x27;c&#x27;
    function = -0.25*(c-0.1)^4*(1-0.1-c)^4
  [../]

  # Fa+Fb+Fb == Fc
  [./free_energy3]
    type = ADDerivativeParsedMaterial
    f_name = Fc
    args = &#x27;c&#x27;
    function = 0.5*(c-0.1)^4*(1-0.1-c)^4
    outputs = all
  [../]
  [./dfree_energy3]
    type = ADDerivativeParsedMaterial
    f_name = dFc
    args = &#x27;c&#x27;
    material_property_names = &#x27;F:=D[Fc,c]&#x27;
    function = F
    outputs = all
  [../]
  [./d2free_energy3]
    type = ADDerivativeParsedMaterial
    f_name = d2Fc
    args = &#x27;c&#x27;
    material_property_names = &#x27;F:=D[Fc,c,c]&#x27;
    function = F
    outputs = all
  [../]

  [./free_energy]
    type = ADDerivativeSumMaterial
    f_name = F_sum
    sum_materials = &#x27;Fa Fb Fb&#x27;
    args = &#x27;c&#x27;
    outputs = all
  [../]
  [./dfree_energy]
    type = ADDerivativeParsedMaterial
    f_name = dF_sum
    material_property_names = &#x27;F:=D[F_sum,c]&#x27;
    function = F
    args = &#x27;c&#x27;
    outputs = all
  [../]
  [./d2free_energy]
    type = ADDerivativeParsedMaterial
    f_name = d2F_sum
    material_property_names = &#x27;F:=D[F_sum,c,c]&#x27;
    function = F
    args = &#x27;c&#x27;
    outputs = all
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
[]

[Postprocessors]
  [./F_sum]
    type = ElementAverageValue
    variable = F_sum
  [../]
  [./F_check]
    type = ElementAverageValue
    variable = Fc
  [../]
  [./dF_sum]
    type = ElementAverageValue
    variable = dF_sum
  [../]
  [./dF_check]
    type = ElementAverageValue
    variable = dFc
  [../]
  [./d2F_sum]
    type = ElementAverageValue
    variable = d2F_sum
  [../]
  [./d2F_check]
    type = ElementAverageValue
    variable = d2Fc
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e49c9e98-5591-4b00-a285-33201e1901db"><div class="modal-content"><h4>test/tests/kernels/ad_2d_diffusion/2d_diffusion_neumannbc_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./square]
    type = GeneratedMeshGenerator
    nx = 2
    ny = 2
    dim = 2
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 0
  [../]

  [./right]
    type = ADNeumannBC
    variable = u
    boundary = 1
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  file_base = neumannbc_out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8cf12c4a-df4e-48d6-92fa-3a9db9e1dda9"><div class="modal-content"><h4>test/tests/bcs/ad_function_dirichlet_bc/test.i</h4><pre class="moose-pre"><code class="language-text">###########################################################
# This is a test of Boundary Condition System. The
# FunctionDirichletBC is used to contribute the residuals
# to the boundary term operators in the weak form.
#
# @Requirement F3.40
###########################################################

[Mesh]
  [./square]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 32
    ny = 32
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Functions]
  [./ff_1]
    type = ParsedFunction
    value = alpha*alpha*pi
    vars = &#x27;alpha&#x27;
    vals = &#x27;16&#x27;
  [../]

  [./ff_2]
    type = ParsedFunction
    value = pi*sin(alpha*pi*x)
    vars = &#x27;alpha&#x27;
    vals = &#x27;16&#x27;
  [../]

  [./forcing_func]
    type = CompositeFunction
    functions = &#x27;ff_1 ff_2&#x27;
  [../]

  [./bc_func]
    type = ParsedFunction
    value = sin(alpha*pi*x)
    vars = &#x27;alpha&#x27;
    vals = &#x27;16&#x27;
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
  [./forcing]
    type = ADBodyForce
    variable = u
    function = forcing_func
  [../]
[]

[BCs]
  [./all]
    type = ADFunctionDirichletBC
    variable = u
    boundary = &#x27;left right&#x27;
    function = bc_func
  [../]
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-12
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="edb93b77-a95b-4c2a-b46e-18ad404984ea"><div class="modal-content"><h4>test/tests/tag/tag_ad_kernels.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1 vec_tag2&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Problem]
  type = TagTestProblem
  test_tag_vectors =  &#x27;nontime residual vec_tag1 vec_tag2&#x27;
  test_tag_matrices = &#x27;mat_tag1 mat_tag2&#x27;

  extra_tag_matrices = &#x27;mat_tag1 mat_tag2&#x27;
  extra_tag_vectors  = &#x27;vec_tag1 vec_tag2&#x27;
[]


[Executioner]
  type = Steady

  solve_type = &#x27;Newton&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;

  l_tol = 1e-10
  nl_rel_tol = 1e-9
  nl_max_its = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="04e735a6-0ee7-43a3-bdd0-54fd71c99043"><div class="modal-content"><h4>test/tests/kernels/ad_max_dofs_per_elem_error/ad_max_dofs_per_elem.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  elem_type = HEX27
  dim = 3
[]

[Variables]
  [u]
    order = SECOND
  []
  [v]
    order = SECOND
  []
[]

[Kernels]
  [u_diff]
    type = ADDiffusion
    variable = u
  []
  [v_diff]
    type = ADDiffusion
    variable = v
  []
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a860dd37-4177-46c2-a0c6-db5ecbb7ba7c"><div class="modal-content"><h4>modules/combined/test/tests/ad_cavity_pressure/rz.i</h4><pre class="moose-pre"><code class="language-text">#
# Cavity Pressure Test
#
# This test is designed to compute an internal pressure based on
#   p = n * R * T / V
# where
#   p is the pressure
#   n is the amount of material in the volume (moles)
#   R is the universal gas constant
#   T is the temperature
#   V is the volume
#
# The mesh is composed of one block (2) with an interior cavity of volume 8.
#   Block 1 sits in the cavity and has a volume of 1.  Thus, the total
#   initial volume is 7.
# The test adjusts T in the following way:
#   T =&gt; T0 + beta * t
# with
#   beta = T0
#   T0 = 240.54443866068704
#   V0 = 7
#   n0 = f(p0)
#   p0 = 100
#   R = 8.314472 J * K^(-1) * mol^(-1)
#
# So, n0 = p0 * V0 / R / T0 = 100 * 7 / 8.314472 / 240.544439
#        = 0.35
#
# At t = 1, p = 200.

[Problem]
  coord_type = RZ
[]

[GlobalParams]
  displacements = &#x27;disp_r disp_z&#x27;
[]

[Mesh]
  file = rz.e
[]

[Functions]
  [./temperature]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;1 2&#x27;
    scale_factor = 240.54443866068704
  [../]
[]

[Variables]
  [./disp_r]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 240.54443866068704
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
  [./heat]
    type = ADDiffusion
    variable = temp
    use_displaced_mesh = true
  [../]
[]

[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_r
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./temperatureInterior]
    type = ADFunctionDirichletBC
    preset = false
    boundary = 2
    function = temperature
    variable = temp
  [../]
  [./CavityPressure]
    [./1]
      boundary = 2
      initial_pressure = 100
      R = 8.314472
      temperature = aveTempInterior
      volume = internalVolume
      startup_time = 0.5
      output = ppress
      use_automatic_differentiation = true
    [../]
  [../]
[]

[Materials]
  [./elastic_tensor1]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0.3
    block = 1
  [../]
  [./strain1]
    type = ADComputeAxisymmetricRZFiniteStrain
    block = 1
  [../]
  [./stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./elastic_tensor2]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0.3
    block = 2
  [../]
  [./strain2]
    type = ADComputeAxisymmetricRZFiniteStrain
    block = 2
  [../]
  [./stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -sub_pc_type&#x27;
  petsc_options_value = &#x27;asm       lu&#x27;

  nl_abs_tol = 1e-10

  l_max_its = 20

  dt = 0.5
  end_time = 1.0
[]

[Postprocessors]
  [./internalVolume]
    type = InternalVolume
    boundary = 2
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./aveTempInterior]
    type = SideAverageValue
    boundary = 2
    variable = temp
    execute_on = &#x27;initial linear&#x27;
  [../]
[]

[Outputs]
  exodus = true
  [./checkpoint]
    type = Checkpoint
    num_files = 1
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9e8879e9-ef77-4933-aba9-8487b58e7149"><div class="modal-content"><h4>test/tests/kernels/ad_2d_diffusion/2d_diffusion_test.i</h4><pre class="moose-pre"><code class="language-text">###########################################################
# This is a simple test of the Kernel System.
# It solves the Laplacian equation on a small 2x2 grid.
# The &quot;Diffusion&quot; kernel is used to calculate the
# residuals of the weak form of this operator.
#
# @Requirement F3.30
###########################################################

[Mesh]
  [./square]
    type = GeneratedMeshGenerator
    nx = 2
    ny = 2
    dim = 2
  [../]
[]

[Variables]
  active = &#x27;u&#x27;

  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  active = &#x27;diff&#x27;

  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  active = &#x27;left right&#x27;

  [./left]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 0
  [../]

  [./right]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  file_base = out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="13c3056f-cc03-4c4c-ac70-af13618e31b4"><div class="modal-content"><h4>modules/stochastic_tools/examples/batch/sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 10
  ny = 10
  nz = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [time]
    type = ADTimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Postprocessors]
  [average]
    type = AverageNodalVariableValue
    variable = u
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.25
  solve_type = NEWTON
[]

[Controls]
  [receiver]
    type = SamplerReceiver
  []
[]

[Outputs]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57c60e86-3c32-4b83-87dc-adfd558712b9"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_linear_elasticity/tensor.i</h4><pre class="moose-pre"><code class="language-text"># This input file is designed to test the RankTwoAux and RankFourAux
# auxkernels, which report values out of the Tensors used in materials
# properties.

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  xmax = 2
  ymax = 2
[]

[Variables]
  [./diffused]
     [./InitialCondition]
      type = RandomIC
     [../]
  [../]
[]

[AuxVariables]
  [./C11]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C12]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C13]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C14]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C15]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C16]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C22]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C23]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C24]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C25]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C26]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C33]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C34]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C35]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C36]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C44]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C45]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C46]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C55]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C56]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./C66]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Modules/TensorMechanics/Master/All]
  strain = SMALL
  add_variables = true
  generate_output = &#x27;stress_xx stress_yy stress_zz stress_xy stress_yz stress_zx&#x27;
  use_automatic_differentiation = true
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = diffused
  [../]
[]

[AuxKernels]
  [./matl_C11]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 0
    index_l = 0
    variable = C11
  [../]
  [./matl_C12]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 1
    index_l = 1
    variable = C12
  [../]
  [./matl_C13]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 2
    index_l = 2
    variable = C13
  [../]
  [./matl_C14]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 1
    index_l = 2
    variable = C14
  [../]
  [./matl_C15]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 0
    index_l = 2
    variable = C15
  [../]
  [./matl_C16]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 0
    index_k = 0
    index_l = 1
    variable = C16
  [../]
  [./matl_C22]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 1
    index_k = 1
    index_l = 1
    variable = C22
  [../]
  [./matl_C23]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 1
    index_k = 2
    index_l = 2
    variable = C23
  [../]
  [./matl_C24]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 1
    index_k = 1
    index_l = 2
    variable = C24
  [../]
  [./matl_C25]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 1
    index_k = 0
    index_l = 2
    variable = C25
  [../]
  [./matl_C26]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 1
    index_k = 0
    index_l = 1
    variable = C26
  [../]
 [./matl_C33]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 2
    index_j = 2
    index_k = 2
    index_l = 2
    variable = C33
  [../]
  [./matl_C34]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 2
    index_j = 2
    index_k = 1
    index_l = 2
    variable = C34
  [../]
  [./matl_C35]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 2
    index_j = 2
    index_k = 0
    index_l = 2
    variable = C35
  [../]
  [./matl_C36]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 2
    index_j = 2
    index_k = 0
    index_l = 1
    variable = C36
  [../]
  [./matl_C44]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 2
    index_k = 1
    index_l = 2
    variable = C44
  [../]
  [./matl_C45]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 2
    index_k = 0
    index_l = 2
    variable = C45
  [../]
  [./matl_C46]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 1
    index_j = 2
    index_k = 0
    index_l = 1
    variable = C46
  [../]
  [./matl_C55]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 2
    index_k = 0
    index_l = 2
    variable = C55
  [../]
  [./matl_C56]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 2
    index_k = 0
    index_l = 1
    variable = C56
  [../]
  [./matl_C66]
    type = ADRankFourAux
    rank_four_tensor = elasticity_tensor
    index_i = 0
    index_j = 1
    index_k = 0
    index_l = 1
    variable = C66
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeElasticityTensor
    fill_method = symmetric21
    C_ijkl =&#x27;1111 1122 1133 1123 1113 1112 2222 2233 2223 2213 2212 3333 3323 3313 3312 2323 2313 2312 1313 1312 1212&#x27;
  [../]
  [./stress]
    type = ADComputeLinearElasticStress
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = diffused
    boundary = &#x27;right&#x27;
    value = 1
  [../]
  [./top]
    type = DirichletBC
    variable = diffused
    boundary = &#x27;top&#x27;
    value = 0
  [../]
  [./disp_x_BC]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;bottom top&#x27;
    value = 0.5
  [../]
  [./disp_x_BC2]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;left right&#x27;
    value = 0.01
  [../]
  [./disp_y_BC]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;bottom top&#x27;
    value = 0.8
  [../]
  [./disp_y_BC2]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;left right&#x27;
    value = 0.02
  [../]
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7d3a79da-640b-4cd4-a87b-2b570605d929"><div class="modal-content"><h4>test/tests/kernels/ad_simple_diffusion/ad_simple_diffusion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  # Preconditioned JFNK (default)
  solve_type = &#x27;Newton&#x27;


  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;

  l_tol = 1e-10
  nl_rel_tol = 1e-9
  nl_max_its = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="aa436936-97f2-4b12-aa81-18c79d08621a"><div class="modal-content"><h4>test/tests/bcs/ad_penalty_dirichlet_bc/function_penalty_dirichlet_bc_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = -1
  xmax = 1
  ymin = -1
  ymax = 1
  nx = 10
  ny = 10
  elem_type = QUAD9
[]

[Functions]
  [./forcing_fn]
    type = ParsedFunction
    value = -4+x*x+y*y
  [../]

  [./solution]
    type = ParsedGradFunction
    value = x*x+y*y
    grad_x = 2*x
    grad_y = 2*y
  [../]
[]

[Variables]
  [./u]
    order = SECOND
    family = HIERARCHIC
  [../]
[]

[Kernels]
  active = &#x27;diff forcing reaction&#x27;
  [./diff]
    type = ADDiffusion
    variable = u
  [../]

  [./reaction]
    type = Reaction
    variable = u
  [../]

  [./forcing]
    type = ADBodyForce
    variable = u
    function = forcing_fn
  [../]
[]

[BCs]
  active = &#x27;bc_all&#x27;
  [./bc_all]
    type = ADFunctionPenaltyDirichletBC
    variable = u
    function = solution
    boundary = &#x27;top left right bottom&#x27;
    penalty = 1e6
  [../]
[]

[Postprocessors]
  [./dofs]
    type = NumDOFs
  [../]

  [./h]
    type = AverageElementSize
  [../]

  [./L2error]
    type = ElementL2Error
    variable = u
    function = solution
  [../]
  [./H1error]
    type = ElementH1Error
    variable = u
    function = solution
  [../]
  [./H1Semierror]
    type = ElementH1SemiError
    variable = u
    function = solution
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;NEWTON&#x27;
  nl_rel_tol = 1e-14
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6dd9544c-52c9-4674-a35d-dec3aaebb73e"><div class="modal-content"><h4>test/tests/materials/ad_piecewise_linear_interpolation_material/piecewise_linear_interpolation_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 3
  ny = 3
  nz = 0
  elem_type = QUAD4
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff1]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  [./left_u]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]

  [./right_u]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./m1]
    type = ADPiecewiseLinearInterpolationMaterial
    property = m1
    variable = u
    xy_data = &#x27;0 0
               1 1&#x27;
    block = 0
    outputs = all
  [../]

  [./m2]
    type = ADPiecewiseLinearInterpolationMaterial
    property = m2
    variable = u
    x = &#x27;0 1&#x27;
    y = &#x27;0 1&#x27;
    block = 0
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="119ebcb1-cff9-41ec-8745-cf5d945afcb5"><div class="modal-content"><h4>modules/heat_conduction/test/tests/ad_convective_heat_flux/equilibrium.i</h4><pre class="moose-pre"><code class="language-text">
[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 10
[]

[Variables]
  [./temp]
    initial_condition = 200.0
  [../]
[]

[Kernels]
  [./heat_dt]
    type = ADTimeDerivative
    variable = temp
  [../]
  [./heat_conduction]
    type = ADDiffusion
    variable = temp
  [../]
[]

[BCs]
  [./right]
    type = ADConvectiveHeatFluxBC
    variable = temp
    boundary = &#x27;right&#x27;
    T_infinity = 100.0
    heat_transfer_coefficient = 1
  [../]
[]

[Postprocessors]
  [./left_temp]
    type = SideAverageValue
    variable = temp
    boundary = left
    execute_on = &#x27;TIMESTEP_END initial&#x27;
  [../]
  [./right_temp]
    type = SideAverageValue
    variable = temp
    boundary = right
  [../]
  [./right_flux]
    type = SideFluxAverage
    variable = temp
    boundary = right
    diffusivity = 1
  [../]
[]

[Executioner]
  type = Transient

  num_steps = 10
  dt = 1e1

  nl_abs_tol = 1e-12
[]

[Outputs]
  [./out]
    type = CSV
    interval = 10
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9b7925c4-771e-4666-abd2-cb190ae95d7a"><div class="modal-content"><h4>test/tests/kernels/ad_vector_couple/ad_vector_couple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [u]
    family = LAGRANGE
    order = FIRST
  []
  [v]
    family = LAGRANGE_VEC
    order = FIRST
  []
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [diff]
    type = ADDiffusion
    variable = u
  []
  [convection]
    type = ADCoupledVectorConvection
    variable = u
    velocity_vector = v
  []
  [diff_v]
    type = ADVectorDiffusion
    variable = v
  []
[]

[BCs]
  [left]
    type = ADFunctionDirichletBC
    variable = u
    function = 1
    boundary = &#x27;left&#x27;
  []
  [right]
    type = ADFunctionDirichletBC
    variable = u
    function = 2
    boundary = &#x27;bottom&#x27;
  []

  [left_v]
    type = ADVectorFunctionDirichletBC
    variable = v
    function_x = 1
    function_y = 2
    boundary = &#x27;left&#x27;
  []
  [right_v]
    type = ADVectorFunctionDirichletBC
    variable = v
    function_x = 4
    function_y = 8
    boundary = &#x27;top&#x27;
  []
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  num_steps = 10
  dt = 0.05
[]

[Outputs]
  execute_on = TIMESTEP_END
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f560aa1e-f7ed-4cef-b412-fdfb5ccf628f"><div class="modal-content"><h4>test/tests/bcs/ad_bc_preset_nodal/bc_preset_nodal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  nz = 0
  zmin = 0
  zmax = 0
  elem_type = QUAD4
[]

[Variables]
  active = &#x27;u&#x27;

  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  active = &#x27;diff&#x27;

  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  active = &#x27;left right&#x27;

  # We will use preset BCs
  [./left]
    type = ADDirichletBC
    variable = u
    boundary = 3
    value = 0
  [../]

  [./right]
    type = ADDirichletBC
    variable = u
    boundary = 1
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  file_base = bc_preset_out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0720177a-bfbe-431d-a4ca-bab419cc6a94"><div class="modal-content"><h4>modules/combined/test/tests/ad_cavity_pressure/initial_temperature.i</h4><pre class="moose-pre"><code class="language-text">#
# Cavity Pressure Test
#
# This test is designed to compute an internal pressure based on
#   p = n * R * T / V
# where
#   p is the pressure
#   n is the amount of material in the volume (moles)
#   R is the universal gas constant
#   T is the temperature
#   V is the volume
#
# The mesh is composed of one block (1) with an interior cavity of volume 8.
#   Block 2 sits in the cavity and has a volume of 1.  Thus, the total
#   initial volume is 7.
# The test adjusts n, T, and V in the following way:
#   n =&gt; n0 + alpha * t
#   T =&gt; T0 + beta * t
#   V =&gt; V0 + gamma * t
# with
#   alpha = n0
#   beta = T0 / 2
#   gamma = -(0.003322259...) * V0
#   T0 = 240.54443866068704
#   V0 = 7
#   n0 = f(p0)
#   p0 = 100
#   R = 8.314472 J * K^(-1) * mol^(-1)
#
# So, n0 = p0 * V0 / R / T0 = 100 * 7 / 8.314472 / 240.544439
#        = 0.35
#
# The parameters combined at t = 1 gives p = 301.
#
# This test sets the initial temperature to 500, but the CavityPressure
#   is told that that initial temperature is T0.  Thus, the final solution
#   is unchanged.

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  file = 3d.e
[]

[GlobalParams]
  volumetric_locking_correction = true
[]

[Functions]
  [./displ_positive]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.0029069767441859684&#x27;
  [../]
  [./displ_negative]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 -0.0029069767441859684&#x27;
  [../]
  [./temp1]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;1 1.5&#x27;
    scale_factor = 240.54443866068704
  [../]
  [./material_input_function]
    type = PiecewiseLinear
    x = &#x27;0    1&#x27;
    y = &#x27;0 0.35&#x27;
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 500
  [../]
  [./material_input]
  [../]
[]

[AuxVariables]
  [./pressure_residual_x]
  [../]
  [./pressure_residual_y]
  [../]
  [./pressure_residual_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
  [./heat]
    type = ADDiffusion
    variable = temp
    use_displaced_mesh = true
  [../]
  [./material_input_dummy]
    type = ADDiffusion
    variable = material_input
    use_displaced_mesh = true
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 0
    variable = stress_xx
  [../]
  [./stress_yy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 1
    variable = stress_yy
  [../]
  [./stress_zz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_zz
  [../]
  [./stress_xy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 1
    variable = stress_xy
  [../]
  [./stress_yz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 2
    variable = stress_yz
  [../]
  [./stress_zx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 0
    variable = stress_zx
  [../]
[]

[BCs]
  [./no_x_exterior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;7 8&#x27;
    value = 0.0
  [../]
  [./no_y_exterior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;9 10&#x27;
    value = 0.0
  [../]
  [./no_z_exterior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./prescribed_left]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 13
    function = displ_positive
  [../]
  [./prescribed_right]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 14
    function = displ_negative
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;15 16&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;17 18&#x27;
    value = 0.0
  [../]
  [./no_x_interior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./no_y_interior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;3 4&#x27;
    value = 0.0
  [../]
  [./no_z_interior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;5 6&#x27;
    value = 0.0
  [../]
  [./temperatureInterior]
    type = ADFunctionDirichletBC
    boundary = 100
    function = temp1
    variable = temp
  [../]
  [./MaterialInput]
    type = ADFunctionDirichletBC
    boundary = &#x27;100 13 14 15 16&#x27;
    function = material_input_function
    variable = material_input
  [../]
  [./CavityPressure]
    [./1]
      boundary = 100
      initial_pressure = 100
      material_input = materialInput
      R = 8.314472
      temperature = aveTempInterior
      initial_temperature = 240.54443866068704
      volume = internalVolume
      startup_time = 0.5
      output = ppress
      save_in = &#x27;pressure_residual_x pressure_residual_y pressure_residual_z&#x27;
      use_automatic_differentiation = true
    [../]
  [../]
[]

[Materials]
  [./elast_tensor1]
    type = ADComputeElasticityTensor
    C_ijkl = &#x27;0 5&#x27;
    fill_method = symmetric_isotropic
    block = 1
  [../]
  [./strain1]
    type = ADComputeFiniteStrain
    block = 1
  [../]
  [./stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./elast_tensor2]
    type = ADComputeElasticityTensor
    C_ijkl = &#x27;0 5&#x27;
    fill_method = symmetric_isotropic
    block = 2
  [../]
  [./strain2]
    type = ADComputeFiniteStrain
    block = 2
  [../]
  [./stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -sub_pc_type&#x27;
  petsc_options_value = &#x27;asm       lu&#x27;

  nl_rel_tol = 1e-12
  l_tol = 1e-12

  l_max_its = 20

  dt = 0.5
  end_time = 1.0
[]

[Postprocessors]
  [./internalVolume]
    type = InternalVolume
    boundary = 100
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./aveTempInterior]
    type = SideAverageValue
    boundary = 100
    variable = temp
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./materialInput]
    type = SideAverageValue
    boundary = &#x27;7 8 9 10 11 12&#x27;
    variable = material_input
    execute_on = linear
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48d687b9-169a-4f0f-bb18-34ae89d7114e"><div class="modal-content"><h4>test/tests/bcs/ad_penalty_dirichlet_bc/penalty_dirichlet_bc_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = -1
  xmax = 1
  ymin = -1
  ymax = 1
  nx = 10
  ny = 10
  elem_type = QUAD9
[]

[Functions]
  [./forcing_fn]
    type = ParsedFunction
    value = -2*(x*x+y*y-2)+(1-x*x)*(1-y*y)
  [../]

  [./solution]
    type = ParsedGradFunction
    value = (1-x*x)*(1-y*y)
    grad_x = 2*(x*y*y-x)
    grad_y = 2*(x*x*y-y)
  [../]
[]

[Variables]
  [./u]
    order = SECOND
    family = HIERARCHIC
  [../]
[]

[Kernels]
  active = &#x27;diff forcing reaction&#x27;
  [./diff]
    type = ADDiffusion
    variable = u
  [../]

  [./reaction]
    type = Reaction
    variable = u
  [../]

  [./forcing]
    type = ADBodyForce
    variable = u
    function = forcing_fn
  [../]
[]

[BCs]
  active = &#x27;bc_all&#x27;
  [./bc_all]
    type = ADPenaltyDirichletBC
    variable = u
    value = 0
    boundary = &#x27;top left right bottom&#x27;
    penalty = 1e5
  [../]
[]

[Postprocessors]
  [./dofs]
    type = NumDOFs
  [../]

  [./h]
    type = AverageElementSize
  [../]

  [./L2error]
    type = ElementL2Error
    variable = u
    function = solution
  [../]
  [./H1error]
    type = ElementH1Error
    variable = u
    function = solution
  [../]
  [./H1Semierror]
    type = ElementH1SemiError
    variable = u
    function = solution
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
  nl_rel_tol = 1e-14
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="742279e4-4953-4059-b794-52d58e1ff90a"><div class="modal-content"><h4>test/tests/kernels/ad_coupled_value/ad_aux_coupled_time_value.i</h4><pre class="moose-pre"><code class="language-text">###########################################################
# This is a simple test of coupling an aux variable into the
# ADCoupledTimeDerivative kernel.
# The expected solution for the variable v is
# v(x) = 1/2 * (x^2 + x)
###########################################################

[Mesh]
  type = GeneratedMesh
  nx = 5
  ny = 5
  dim = 2
[]

[Variables]
  [./v]
  [../]
[]

[AuxVariables]
  [./u]
  [../]
[]

[Functions]
  [./u]
    type = ParsedFunction
    value = &#x27;t&#x27;
  [../]
[]

[AuxKernels]
  [./u]
    type = FunctionAux
    variable = u
    function = u
  [../]
[]

[Kernels]
  [./time_v]
    type = ADCoupledTimeDerivative
    variable = v
    v = u
  [../]
  [./diff_v]
    type = ADDiffusion
    variable = v
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = v
    boundary = &#x27;left&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./l2]
    type = ElementL2Error
    variable = v
    function = &#x27;1/2 * (x^2 + x)&#x27;
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="852976d9-10f2-4422-8ddf-65c681462af0"><div class="modal-content"><h4>modules/heat_conduction/test/tests/ad_heat_conduction/test.i</h4><pre class="moose-pre"><code class="language-text"># This test solves a 1D transient heat equation with a complicated thermal
# conductivity in order to verify jacobian calculation via AD

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 5
  ny = 5
  xmax = 0.001
  ymax = 0.001
[]

[Variables]
  [./T]
    initial_condition = 1.5
  [../]
  [./c]
    initial_condition = 1.5
  [../]
[]

[Kernels]
  [./HeatDiff]
    type = ADHeatConduction
    variable = T
    thermal_conductivity = thermal_conductivity
  [../]
  [./heat_dt]
    type = ADHeatConductionTimeDerivative
    variable = T
    specific_heat = thermal_conductivity
    density_name = thermal_conductivity
  [../]
  [./c]
    type = ADDiffusion
    variable = c
  [../]
[]

[Kernels]
  [./c_dt]
    type = TimeDerivative
    variable = c
  [../]
[]

[BCs]
  [./left_c]
    type = DirichletBC
    variable = c
    boundary = left
    value = 2
  [../]
  [./right_c]
    type = DirichletBC
    variable = c
    boundary = right
    value = 1
  [../]
  [./left_T]
    type = DirichletBC
    variable = T
    boundary = top
    value = 1
  [../]
  [./right_T]
    type = DirichletBC
    variable = T
    boundary = bottom
    value = 2
  [../]
[]

[Materials]
  [./k]
    type = ADThermalConductivityTest
    c = c
    temperature = T
  [../]
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2a8f3ceb-a4d6-4b57-81c4-c252e16cde82"><div class="modal-content"><h4>test/tests/misc/max_var_n_dofs_per_elem/max_var_n_dofs_per_elem.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  nz = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  # Preconditioned JFNK (default)
  solve_type = &#x27;PJFNK&#x27;


  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./max_dofs]
    type = MaxVarNDofsPerElemPP
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8f5709d0-c4dc-487d-bebb-cc93d72d7d3f"><div class="modal-content"><h4>modules/phase_field/examples/anisotropic_interfaces/ad_snow.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 14
  ny = 14
  xmax = 9
  ymax = 9
  uniform_refine = 3
[]

[Variables]
  [./w]
  [../]
  [./T]
  [../]
[]

[ICs]
  [./wIC]
    type = SmoothCircleIC
    variable = w
    int_width = 0.1
    x1 = 4.5
    y1 = 4.5
    radius = 0.07
    outvalue = 0
    invalue = 1
  [../]
[]

[Kernels]
  [./w_dot]
    type = ADTimeDerivative
    variable = w
  [../]
  [./anisoACinterface1]
    type = ADACInterfaceKobayashi1
    variable = w
    mob_name = adM
  [../]
  [./anisoACinterface2]
    type = ADACInterfaceKobayashi2
    variable = w
    mob_name = adM
  [../]
  [./AllenCahn]
    type = AllenCahn
    variable = w
    mob_name = M
    f_name = fbulk
    args = T
  [../]
  [./T_dot]
    type = ADTimeDerivative
    variable = T
  [../]
  [./CoefDiffusion]
    type = ADDiffusion
    variable = T
  [../]
  [./w_dot_T]
    type = ADCoefCoupledTimeDerivative
    variable = T
    v = w
    coef = -1.8
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    f_name = fbulk
    args = &#x27;w T&#x27;
    constant_names = pi
    constant_expressions = 4*atan(1)
    function = &#x27;m:=0.9 * atan(10 * (1 - T)) / pi; 1/4*w^4 - (1/2 - m/3) * w^3 + (1/4 - m/2) * w^2&#x27;
    derivative_order = 2
    outputs = exodus
  [../]
  [./material]
    type = ADInterfaceOrientationMaterial
    op = w
  [../]
  [./consts1]
    type = ADGenericConstantMaterial
    prop_names  = &#x27;adM&#x27;
    prop_values = &#x27;3333.333&#x27;
  [../]
  [./consts2]
    type = GenericConstantMaterial
    prop_names  = &#x27;M&#x27;
    prop_values = &#x27;3333.333&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2
  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu   &#x27;

  nl_abs_tol = 1e-10
  nl_rel_tol = 1e-08
  l_max_its = 30

  end_time = 1

  [./TimeStepper]
    type = IterationAdaptiveDT
    optimal_iterations = 6
    iteration_window = 2
    dt = 0.0005
    growth_factor = 1.1
    cutback_factor = 0.75
  [../]
  [./Adaptivity]
    initial_adaptivity = 3 # Number of times mesh is adapted to initial condition
    refine_fraction = 0.7 # Fraction of high error that will be refined
    coarsen_fraction = 0.1 # Fraction of low error that will coarsened
    max_h_level = 5 # Max number of refinements used, starting from initial mesh (before uniform refinement)
    weight_names = &#x27;w T&#x27;
    weight_values = &#x27;1 0.5&#x27;
  [../]
[]

[Outputs]
  interval = 5
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ed637571-e690-4323-935f-71ad2c509245"><div class="modal-content"><h4>test/tests/kernels/ad_vector_couple/ad_vector_couple_default.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [u]
    family = LAGRANGE
    order = FIRST
  []
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [diff]
    type = ADDiffusion
    variable = u
  []
  [convection]
    type = ADCoupledVectorConvection
    variable = u
    velocity_vector = &#x27;0 1&#x27;
  []
[]

[BCs]
  [left]
    type = ADFunctionDirichletBC
    variable = u
    function = 1
    boundary = &#x27;left&#x27;
  []
  [right]
    type = ADFunctionDirichletBC
    variable = u
    function = 2
    boundary = &#x27;bottom&#x27;
  []
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  num_steps = 10
  dt = 0.1
[]

[Outputs]
  execute_on = TIMESTEP_END
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cd2494c3-97af-40f5-af0f-b33dbc149ba6"><div class="modal-content"><h4>test/tests/materials/derivative_material_interface/ad_construction_order.i</h4><pre class="moose-pre"><code class="language-text">#
# Test the the getDefaultMaterialProperty in DerivativeMaterialInterface.
# This test should only pass, if the construction order of the Materials
# using this interface does not influence the outcome.
#

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 5
  ny = 1
  xmin = 0
  xmax = 1
  ymin = 0
  ymax = 0.1
  elem_type = QUAD4
[]

[GlobalParams]
  derivative_order = 2
[]

[Variables]
  [./c]
    [./InitialCondition]
      type = FunctionIC
      function = x
    [../]
  [../]
[]

[Kernels]
  [./dummy1]
    type = ADDiffusion
    variable = c
  [../]
  [./dummy2]
    type = ADTimeDerivative
    variable = c
  [../]
[]

[Materials]
  # derivatives used both before and after being declared
  [./sum_a_1]
    type = ADDerivativeSumMaterial
    f_name = Fa1
    sum_materials = &#x27;Fa&#x27;
    args = &#x27;c&#x27;
    outputs = exodus
  [../]
  [./free_energy_a]
    type = ADDerivativeParsedMaterial
    f_name = Fa
    args = &#x27;c&#x27;
    function = &#x27;c^4&#x27;
  [../]
  [./sum_a_2]
    type = ADDerivativeSumMaterial
    f_name = Fa2
    sum_materials = &#x27;Fa&#x27;
    args = &#x27;c&#x27;
    outputs = exodus
  [../]

  # derivatives declared after being used
  [./sum_b_1]
    type = ADDerivativeSumMaterial
    f_name = Fb1
    sum_materials = &#x27;Fb&#x27;
    args = &#x27;c&#x27;
    outputs = exodus
  [../]
  [./free_energy_b]
    type = ADDerivativeParsedMaterial
    f_name = Fb
    args = &#x27;c&#x27;
    function = &#x27;c^4&#x27;
  [../]

  # derivatives declared before being used
  [./free_energy_c]
    type = ADDerivativeParsedMaterial
    f_name = Fc
    args = &#x27;c&#x27;
    function = &#x27;c^4&#x27;
  [../]
  [./sum_c_2]
    type = ADDerivativeSumMaterial
    f_name = Fc2
    sum_materials = &#x27;Fc&#x27;
    args = &#x27;c&#x27;
    outputs = exodus
  [../]

  # non-existing derivatives
  [./free_energy_d]
    type = ADParsedMaterial
    f_name = Fd
    args = &#x27;c&#x27;
    function = &#x27;c^4&#x27;
  [../]
  [./sum_d_1]
    type = ADDerivativeSumMaterial
    f_name = Fd1
    sum_materials = &#x27;Fd&#x27;
    args = &#x27;c&#x27;
    outputs = exodus
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2

  solve_type = &#x27;NEWTON&#x27;
  num_steps = 1
  dt = 1e-5
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="17be394e-0ff2-4c54-b237-571d1e188d9e"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_viscoplasticity_stress_update/lps_dual.i</h4><pre class="moose-pre"><code class="language-text"># This test provides an example of combining two LPS viscoplasticity models with different stress
# exponents.

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 1
  ny = 1
  xmax = 0.002
  ymax = 0.002
[]

[Variables]
  [./temp]
    initial_condition = 1000
  [../]
[]

[Kernels]
  [./dt]
    type = ADTimeDerivative
    variable = temp
  [../]
  [./diff]
    type = ADDiffusion
    variable = temp
  [../]
[]

[Modules/TensorMechanics/Master/All]
  strain = FINITE
  add_variables = true
  generate_output = &#x27;strain_xx strain_yy strain_xy hydrostatic_stress vonmises_stress&#x27;
  use_automatic_differentiation = true
[]

[Functions]
  [./pull]
    type = PiecewiseLinear
    x = &#x27;0 0.1&#x27;
    y = &#x27;0 1e-5&#x27;
  [../]
  [./tot_effective_viscoplasticity]
    type = ParsedFunction
    vals = &#x27;lps_1_eff_creep_strain lps_3_eff_creep_strain&#x27;
    vars = &#x27;lps_1_eff_creep_strain lps_3_eff_creep_strain&#x27;
    value = &#x27;lps_1_eff_creep_strain+lps_3_eff_creep_strain&#x27;
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.3
  [../]
  [./stress]
    type = ADComputeMultiplePorousInelasticStress
    inelastic_models = &#x27;one two&#x27;
    initial_porosity = 0.1
    outputs = all
  [../]

  [./one]
    type = ADViscoplasticityStressUpdate
    coefficient = &#x27;coef_3&#x27;
    power = 3
    base_name = &#x27;lps_1&#x27;
    outputs = all
    relative_tolerance = 1e-11
  [../]
  [./two]
    type = ADViscoplasticityStressUpdate
    coefficient = 1e-10
    power = 1
    base_name = &#x27;lps_3&#x27;
    outputs = all
    relative_tolerance = 1e-11
  [../]
  [./coef]
    type = ADParsedMaterial
    f_name = coef_3
    # Example of creep power law
    args = temp
    function = &#x27;0.5e-18 * exp(-4e4 / 1.987 / temp)&#x27;
  [../]
[]

[BCs]
  [./no_disp_x]
    type = ADDirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./no_disp_y]
    type = ADDirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./pull_disp_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = top
    function = pull
  [../]
  [./temp_ramp]
    type = ADFunctionDirichletBC
    boundary = right
    function = &#x27;1000 + 400 * t / 0.12&#x27;
    variable = temp
  [../]
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  dt = 0.01
  end_time = 0.12
[]

[Postprocessors]
  [./disp_x]
    type = SideAverageValue
    variable = disp_x
    boundary = right
  [../]
  [./disp_y]
    type = SideAverageValue
    variable = disp_y
    boundary = top
  [../]
  [./avg_hydro]
    type = ElementAverageValue
    variable = hydrostatic_stress
  [../]
  [./avg_vonmises]
    type = ElementAverageValue
    variable = vonmises_stress
  [../]
  [./dt]
    type = TimestepSize
  [../]
  [./num_lin]
    type = NumLinearIterations
    outputs = console
  [../]
  [./num_nonlin]
    type = NumNonlinearIterations
    outputs = console
  [../]
  [./lps_1_eff_creep_strain]
    type = ElementAverageValue
    variable = lps_1_effective_viscoplasticity
  [../]
  [./lps_3_eff_creep_strain]
    type = ElementAverageValue
    variable = lps_3_effective_viscoplasticity
  [../]
  [./lps_1_gauge_stress]
    type = ElementAverageValue
    variable = lps_1_gauge_stress
  [../]
  [./lps_3_gauge_stress]
    type = ElementAverageValue
    variable = lps_3_gauge_stress
  [../]
  [./eff_creep_strain_tot]
    type = FunctionValuePostprocessor
    function = tot_effective_viscoplasticity
  [../]
  [./porosity]
    type = ElementAverageValue
    variable = porosity
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48efe3ad-bc92-478c-a206-cbfbf413e3da"><div class="modal-content"><h4>modules/misc/test/tests/kernels/thermo_diffusion/ad_thermo_diffusion.i</h4><pre class="moose-pre"><code class="language-text"># Steady-state test for the ThermoDiffusion kernel.
#
# This test applies a constant temperature gradient to drive thermo-diffusion
# in the variable u. At steady state, the thermo-diffusion is balanced by
# diffusion due to Fick&#x27;s Law, so the total flux is
#
#   J = -D ( grad(u) - ( Qstar u / R ) grad(1/T) )
#
# If there are no fluxes at the boundaries, then there is no background flux and
# these two terms must balance each other everywhere:
#
#   grad(u) = ( Qstar u / R ) grad(1/T)
#
# The dx can be eliminated to give
#
#   d(ln u) / d(1/T) = Qstar / R
#
# This can be solved to give the profile for u as a function of temperature:
#
#   u = A exp( Qstar / R T )
#
# Here, we are using simple heat conduction with Dirichlet boundaries on 0 &lt;= x &lt;= 1
# to give a linear profile for temperature: T = x + 1. We also need to apply one
# boundary condition on u, which is u(x=0) = 1. These conditions give:
#
#   u = exp( -(Qstar/R) (x/(x+1)) )
#
# This analytical result is tracked by the aux variable &quot;correct_u&quot;.

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 100
[]

[Variables]
  [./u]
    initial_condition = 1
  [../]
  [./temp]
    initial_condition = 1
  [../]
[]

[Kernels]
  [./soret]
    type = ADThermoDiffusion
    variable = u
    temperature = temp
  [../]
  [./diffC]
    type = ADDiffusion
    variable = u
  [../]

  # Heat diffusion gives a linear temperature profile to drive the Soret diffusion.
  [./diffT]
    type = ADDiffusion
    variable = temp
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    preset = false
    boundary = left
    value = 1
  [../]

  [./leftt]
    type = DirichletBC
    variable = temp
    preset = false
    boundary = left
    value = 1
  [../]
  [./rightt]
    type = DirichletBC
    variable = temp
    preset = false
    boundary = right
    value = 2
  [../]
[]

[Materials]
  [./ad_soret_coefficient]
    type = ADSoretCoeffTest
    temperature = temp
    coupled_var = u
  [../]
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
[]

[Postprocessors]
  [./error]
    type = NodalL2Error
    variable = u
    function = &#x27;exp(-x/(x+1))&#x27;
  [../]
[]

[Outputs]
  execute_on = FINAL
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b1ec4153-b217-4026-9a4d-798bf4d43706"><div class="modal-content"><h4>modules/combined/test/tests/ad_cavity_pressure/multiple_postprocessors.i</h4><pre class="moose-pre"><code class="language-text">#
# Cavity Pressure Test (Volume input as a vector of postprocessors)
#
# This test is designed to compute an internal pressure based on
#   p = n * R * T / V
# where
#   p is the pressure
#   n is the amount of material in the volume (moles)
#   R is the universal gas constant
#   T is the temperature
#   V is the volume
#
# The mesh is composed of one block (1) with an interior cavity of volume 8.
#   Block 2 sits in the cavity and has a volume of 1.  Thus, the total
#   initial volume is 7.
# The test adjusts n, T, and V in the following way:
#   n =&gt; n0 + alpha * t
#   T =&gt; T0 + beta * t
#   V =&gt; V0 + gamma * t
# with
#   alpha = n0
#   beta = T0 / 2
#   gamma = - (0.003322259...) * V0
#   T0 = 240.54443866068704
#   V0 = 7
#   n0 = f(p0)
#   p0 = 100
#   R = 8.314472 J * K^(-1) * mol^(-1)
#
# So, n0 = p0 * V0 / R / T0 = 100 * 7 / 8.314472 / 240.544439
#        = 0.35
#
# In this test the internal volume is calculated as the sum of two Postprocessors
# internalVolumeInterior and internalVolumeExterior.  This sum equals the value
# reported by the internalVolume postprocessor.
#
# The parameters combined at t = 1 gives p = 301.
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  volumetric_locking_correction = true
[]

[Mesh]
  file = 3d.e
[]

[Functions]
  [./displ_positive]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.0029069767441859684&#x27;
  [../]
  [./displ_negative]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 -0.0029069767441859684&#x27;
  [../]
  [./temp1]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;1 1.5&#x27;
    scale_factor = 240.54443866068704
  [../]
  [./material_input_function]
    type = PiecewiseLinear
    x = &#x27;0    1&#x27;
    y = &#x27;0 0.35&#x27;
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 240.54443866068704
  [../]
  [./material_input]
  [../]
[]

[AuxVariables]
  [./pressure_residual_x]
  [../]
  [./pressure_residual_y]
  [../]
  [./pressure_residual_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
  [./heat]
    type = ADDiffusion
    variable = temp
    use_displaced_mesh = true
  [../]
  [./material_input_dummy]
    type = ADDiffusion
    variable = material_input
    use_displaced_mesh = true
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 0
    variable = stress_xx
  [../]
  [./stress_yy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 1
    variable = stress_yy
  [../]
  [./stress_zz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_zz
  [../]
  [./stress_xy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 1
    variable = stress_xy
  [../]
  [./stress_yz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 2
    variable = stress_yz
  [../]
  [./stress_zx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 0
    variable = stress_zx
  [../]
[]

[BCs]
  [./no_x_exterior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;7 8&#x27;
    value = 0.0
  [../]
  [./no_y_exterior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;9 10&#x27;
    value = 0.0
  [../]
  [./no_z_exterior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./prescribed_left]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 13
    function = displ_positive
  [../]
  [./prescribed_right]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 14
    function = displ_negative
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;15 16&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;17 18&#x27;
    value = 0.0
  [../]
  [./no_x_interior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./no_y_interior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;3 4&#x27;
    value = 0.0
  [../]
  [./no_z_interior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;5 6&#x27;
    value = 0.0
  [../]
  [./temperatureInterior]
    type = ADFunctionDirichletBC
    boundary = 100
    function = temp1
    variable = temp
  [../]
  [./MaterialInput]
    type = ADFunctionDirichletBC
    boundary = &#x27;100 13 14 15 16&#x27;
    function = material_input_function
    variable = material_input
  [../]
  [./CavityPressure]
    [./1]
      boundary = 100
      initial_pressure = 100
      material_input = materialInput
      R = 8.314472
      temperature = aveTempInterior
      volume = &#x27;internalVolumeInterior internalVolumeExterior&#x27;
      startup_time = 0.5
      output = ppress
      save_in = &#x27;pressure_residual_x pressure_residual_y pressure_residual_z&#x27;
      use_automatic_differentiation = true
    [../]
  [../]
[]

[Materials]
  [./elast_tensor1]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e1
    poissons_ratio = 0
    block = 1
  [../]
  [./strain1]
    type = ADComputeFiniteStrain
    block = 1
  [../]
  [./stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./elast_tensor2]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0
    block = 2
  [../]
  [./strain2]
    type = ADComputeFiniteStrain
    block = 2
  [../]
  [./stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -sub_pc_type&#x27;
  petsc_options_value = &#x27;asm       lu&#x27;

  nl_rel_tol = 1e-12
  l_tol = 1e-12

  l_max_its = 20

  dt = 0.5
  end_time = 1.0
[]

[Postprocessors]
  [./internalVolume]
    type = InternalVolume
    boundary = 100
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./aveTempInterior]
    type = SideAverageValue
    boundary = 100
    variable = temp
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./internalVolumeInterior]
    type = InternalVolume
    boundary = &#x27;1 2 3 4 5 6&#x27;
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./internalVolumeExterior]
    type = InternalVolume
    boundary = &#x27;13 14 15 16 17 18&#x27;
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./materialInput]
    type = SideAverageValue
    boundary = &#x27;7 8 9 10 11 12&#x27;
    variable = material_input
    execute_on = linear
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c1df3dda-c92b-4666-91d5-9527f7466503"><div class="modal-content"><h4>test/tests/kernels/jxw_grad_test_dep_on_displacements/not-handling-jxw.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  order = SECOND
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  elem_type = QUAD9
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./u]
    order = FIRST
  [../]
  [./v]
  [../]
[]

[Kernels]
  [./disp_x]
    type = Diffusion
    variable = disp_x
  [../]
  [./disp_y]
    type = Diffusion
    variable = disp_y
  [../]
  [./u]
    type = ADDiffusion
    variable = u
    use_displaced_mesh = true
  [../]
  [./v]
    type = ADDiffusion
    variable = v
    use_displaced_mesh = true
  [../]
[]

[BCs]
  # BCs cannot be preset due to Jacobian test
  [./u_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = u
  [../]
  [./u_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = u
  [../]
  [./v_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = v
  [../]
  [./v_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = v
  [../]
  [./disp_x_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = disp_x
  [../]
  [./disp_x_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = disp_x
  [../]
  [./disp_y_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;bottom&#x27;
    variable = disp_y
  [../]
  [./disp_y_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;top&#x27;
    variable = disp_y
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  [./dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  [../]
  exodus = true
[]

[ICs]
  [./disp_x]
    type = RandomIC
    variable = disp_x
    min = 0.01
    max = 0.09
  [../]
  [./disp_y]
    type = RandomIC
    variable = disp_y
    min = 0.01
    max = 0.09
  [../]
  [./u]
    type = RandomIC
    variable = u
    min = 0.1
    max = 0.9
  [../]
  [./v]
    type = RandomIC
    variable = v
    min = 0.1
    max = 0.9
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b852f1fa-4907-4987-8d63-a3b648321e68"><div class="modal-content"><h4>modules/phase_field/test/tests/anisotropic_interfaces/adkobayashi.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 32
  ny = 32
  xmax = 0.7
  ymax = 0.7
[]

[Variables]
  [w]
  []
  [T]
  []
[]

[ICs]
  [wIC]
    type = SmoothCircleIC
    variable = w
    int_width = 0.1
    x1 = 0.35
    y1 = 0.35
    radius = 0.08
    outvalue = 0
    invalue = 1
  []
[]

[Kernels]
  [w_dot]
    type = TimeDerivative
    variable = w
  []
  [anisoACinterface1]
    type = ADACInterfaceKobayashi1
    variable = w
    mob_name = M
  []
  [anisoACinterface2]
    type = ADACInterfaceKobayashi2
    variable = w
    mob_name = M
  []
  [AllenCahn]
    type = ADAllenCahn
    variable = w
    mob_name = M
    f_name = fbulk
  []
  [T_dot]
    type = ADTimeDerivative
    variable = T
  []
  [CoefDiffusion]
    type = ADDiffusion
    variable = T
  []
  [w_dot_T]
    type = ADCoefCoupledTimeDerivative
    variable = T
    v = w
    coef = -1.8 #This is -K from kobayashi&#x27;s paper
  []
[]

[Materials]
  [free_energy]
    type = ADDerivativeParsedMaterial
    f_name = fbulk
    args = &#x27;w T&#x27;
    constant_names = &#x27;alpha gamma T_e pi&#x27;
    constant_expressions = &#x27;0.9 10 1 4*atan(1)&#x27;
    function = &#x27;m:=alpha/pi * atan(gamma * (T_e - T)); 1/4*w^4 - (1/2 - m/3) * w^3 + (1/4 - m/2) * &#x27;
               &#x27;w^2&#x27;
    derivative_order = 1
    outputs = exodus
  []
  [material]
    type = ADInterfaceOrientationMaterial
    op = w
  []
  [consts]
    type = ADGenericConstantMaterial
    prop_names = &#x27;M&#x27;
    prop_values = &#x27;3333.333&#x27;
  []
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  scheme = bdf2
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu      &#x27;

  nl_rel_tol = 1e-08
  l_tol = 1e-4
  l_max_its = 30

  dt = 0.001
  num_steps = 6
[]

[Outputs]
  exodus = true
  perf_graph = true
  execute_on = &#x27;INITIAL FINAL&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="479ff260-e5cc-4122-8acf-d79c0670f936"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_linear_elasticity/linear_elastic_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  xmax = 50
  ymax = 50
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Variables]
  [./diffused]
     [./InitialCondition]
      type = RandomIC
     [../]
  [../]
[]

[Modules/TensorMechanics/Master/All]
  strain = SMALL
  add_variables = true
  generate_output = &#x27;stress_xx stress_yy stress_zz stress_xy stress_yz stress_zx&#x27;
  use_automatic_differentiation = true
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = diffused
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0
  [../]
  [./stress]
    type = ADComputeLinearElasticStress
  [../]
[]

[BCs]
  [./bottom]
    type = ADDirichletBC
    variable = diffused
    boundary = &#x27;right&#x27;
    value = 1
  [../]
  [./top]
    type = ADDirichletBC
    variable = diffused
    boundary = &#x27;top&#x27;
    value = 0
  [../]
  [./disp_x_BC]
    type = ADDirichletBC
    variable = disp_x
    boundary = &#x27;bottom top&#x27;
    value = 0.5
  [../]
  [./disp_x_BC2]
    type = ADDirichletBC
    variable = disp_x
    boundary = &#x27;left right&#x27;
    value = 0.01
  [../]
  [./disp_y_BC]
    type = ADDirichletBC
    variable = disp_y
    boundary = &#x27;bottom top&#x27;
    value = 0.8
  [../]
  [./disp_y_BC2]
    type = ADDirichletBC
    variable = disp_y
    boundary = &#x27;left right&#x27;
    value = 0.02
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;

  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e1f5f520-c14d-4202-8547-3f6b0e0754ba"><div class="modal-content"><h4>test/tests/kernels/ad_coupled_convection/ad_coupled_convection.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 4
  ny = 4
[]

[Variables]
  [./u]
  [../]
  [./v]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
  [./convection]
    type = ADCoupledConvection
    variable = u
    velocity_vector = v
  [../]
  [./diff_v]
    type = ADDiffusion
    variable = v
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
  [./left_v]
    type = DirichletBC
    variable = v
    boundary = left
    value = 0
  [../]
  [./right_v]
    type = DirichletBC
    variable = v
    boundary = right
    value = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;Newton&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;

  l_tol = 1e-10
  nl_rel_tol = 1e-9
  nl_max_its = 2
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bacfd3e5-27fc-49ba-bb81-210e27d101cb"><div class="modal-content"><h4>modules/stochastic_tools/test/tests/transfers/batch_sampler_transfer/sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [time]
    type = ADTimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Postprocessors]
  [average]
    type = AverageNodalVariableValue
    variable = u
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.25
  solve_type = NEWTON
[]

[Controls]
  [stochastic]
    type = SamplerReceiver
  []
[]

[Outputs]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="985fcd21-1d90-47ad-abec-4ccd7487939d"><div class="modal-content"><h4>test/tests/bcs/ad_bcs/ad_bc.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = ADFunctionDirichletBC
    variable = u
    boundary = left
    function = &#x27;1&#x27;
  [../]
  [./right]
    type = ADRobinBC
    variable = u
    boundary = right
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="66fc6a99-95a3-40b6-af68-74d5ed3807d6"><div class="modal-content"><h4>modules/combined/test/tests/thermal_elastic/ad-thermal_elastic.i</h4><pre class="moose-pre"><code class="language-text"># Patch Test

# This test is designed to compute constant xx, yy, zz, xy, yz, and xz
#  stress on a set of irregular hexes.  The mesh is composed of one
#  block with seven elements.  The elements form a unit cube with one
#  internal element.  There is a nodeset for each exterior node.

# The cube is displaced by 1e-6 units in x, 2e-6 in y, and 3e-6 in z.
#  The faces are sheared as well (1e-6, 2e-6, and 3e-6 for xy, yz, and
#  zx).  This gives a uniform strain/stress state for all six unique
#  tensor components.  This displacement is again applied in the second
#  step.

# With Young&#x27;s modulus at 1e6 and Poisson&#x27;s ratio at 0, the shear
#  modulus is 5e5 (G=E/2/(1+nu)).  Therefore, for the mechanical strain,
#
#  stress xx = 1e6 * 1e-6 = 1
#  stress yy = 1e6 * 2e-6 = 2
#  stress zz = 1e6 * 3e-6 = 3
#  stress xy = 2 * 5e5 * 1e-6 / 2 = 0.5
#             (2 * G   * gamma_xy / 2 = 2 * G * epsilon_xy)
#  stress yz = 2 * 5e5 * 2e-6 / 2 = 1
#  stress zx = 2 * 5e5 * 3e-6 / 2 = 1.5

# Young&#x27;s modulus is a function of temperature for this test.  The
#  temperature changes from 100 to 500.  The Young&#x27;s modulus drops
#  due to that temperature change from 1e6 to 6e5.

# Poisson&#x27;s ratio also is a function of temperature and changes from
#  0 to 0.25.

# At the end of the temperature ramp, E=6e5 and nu=0.25.  This gives
#  G=2.4e=5.  lambda=E*nu/(1+nu)/(1-2*nu)=2.4E5.  The final stress
#  is therefore

#  stress xx = 2.4e5 * 12e-6 + 2*2.4e5*2e-6 = 3.84
#  stress yy = 2.4e5 * 12e-6 + 2*2.4e5*4e-6 = 4.80
#  stress zz = 2.4e5 * 12e-6 + 2*2.4e5*6e-6 = 5.76
#  stress xy = 2 * 2.4e5 * 2e-6 / 2 = 0.48
#             (2 * G   * gamma_xy / 2 = 2 * G * epsilon_xy)
#  stress yz = 2 * 2.4e5 * 4e-6 / 2 = 0.96
#  stress xz = 2 * 2.4e5 * 6e-6 / 2 = 1.44

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  file = thermal_elastic.e
[]

[Functions]
  [./ramp1]
    type = PiecewiseLinear
    x = &#x27;0. 1. 2.&#x27;
    y = &#x27;0. 1. 2.&#x27;
    scale_factor = 1e-6
  [../]
  [./ramp2]
    type = PiecewiseLinear
    x = &#x27;0. 1. 2.&#x27;
    y = &#x27;0. 1. 2.&#x27;
    scale_factor = 2e-6
  [../]
  [./ramp3]
    type = PiecewiseLinear
    x = &#x27;0. 1. 2.&#x27;
    y = &#x27;0. 1. 2.&#x27;
    scale_factor = 3e-6
  [../]
  [./ramp4]
    type = PiecewiseLinear
    x = &#x27;0. 1. 2.&#x27;
    y = &#x27;0. 1. 2.&#x27;
    scale_factor = 4e-6
  [../]
  [./ramp6]
    type = PiecewiseLinear
    x = &#x27;0. 1. 2.&#x27;
    y = &#x27;0. 1. 2.&#x27;
    scale_factor = 6e-6
  [../]
  [./tempFunc]
    type = PiecewiseLinear
    x = &#x27;0     1     2&#x27;
    y = &#x27;100.0 100.0 500.0&#x27;
  [../]
[]

[Variables]
  [./temp]
    initial_condition = 100.0
  [../]
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    generate_output = &#x27;stress_xx stress_yy stress_zz stress_xy stress_xz stress_yz&#x27;
    strain = FINITE
    use_automatic_differentiation = true
  [../]
[]

[Kernels]
  [./heat]
    type = ADDiffusion
    variable = temp
  [../]
[]

[BCs]
  [./node1_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1
    value = 0.0
  [../]
  [./node1_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 1
    function = ramp2
  [../]
  [./node1_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 1
    function = ramp3
  [../]

  [./node2_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 2
    function = ramp1
  [../]
  [./node2_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 2
    function = ramp2
  [../]
  [./node2_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 2
    function = ramp6
  [../]

  [./node3_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 3
    function = ramp1
  [../]
  [./node3_y]
    type = DirichletBC
    variable = disp_y
    boundary = 3
    value = 0.0
  [../]
  [./node3_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 3
    function = ramp3
  [../]

  [./node4_x]
    type = DirichletBC
    variable = disp_x
    boundary = 4
    value = 0.0
  [../]
  [./node4_y]
    type = DirichletBC
    variable = disp_y
    boundary = 4
    value = 0.0
  [../]
  [./node4_z]
    type = DirichletBC
    variable = disp_z
    boundary = 4
    value = 0.0
  [../]

  [./node5_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 5
    function = ramp1
  [../]
  [./node5_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 5
    function = ramp4
  [../]
  [./node5_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 5
    function = ramp3
  [../]

  [./node6_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 6
    function = ramp2
  [../]
  [./node6_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 6
    function = ramp4
  [../]
  [./node6_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 6
    function = ramp6
  [../]

  [./node7_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 7
    function = ramp2
  [../]
  [./node7_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 7
    function = ramp2
  [../]
  [./node7_z]
    type = ADFunctionDirichletBC
    variable = disp_z
    boundary = 7
    function = ramp3
  [../]

  [./node8_x]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 8
    function = ramp1
  [../]
  [./node8_y]
    type = ADFunctionDirichletBC
    variable = disp_y
    boundary = 8
    function = ramp2
  [../]
  [./node8_z]
    type = DirichletBC
    variable = disp_z
    boundary = 8
    value = 0.0
  [../]

  [./temp]
    type = ADFunctionDirichletBC
    variable = temp
    boundary = &#x27;10 12&#x27;
    function = tempFunc
  [../]
[]

[Materials]
  [./youngs_modulus]
    type = ADPiecewiseLinearInterpolationMaterial
    x = &#x27;100 500&#x27;
    y = &#x27;1e6 6e5&#x27;
    property = youngs_modulus
    variable = temp
  [../]
  [./poissons_ratio]
    type = ADPiecewiseLinearInterpolationMaterial
    x = &#x27;100 500&#x27;
    y = &#x27;0   0.25&#x27;
    property = poissons_ratio
    variable = temp
  [../]

  [./elasticity_tensor]
    type = ADComputeVariableIsotropicElasticityTensor
    youngs_modulus = youngs_modulus
    poissons_ratio = poissons_ratio
  [../]

  [./stress]
    type = ADComputeFiniteStrainElasticStress
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;

  nl_rel_tol = 1e-9
  nl_abs_tol = 1e-9

  l_max_its = 20

  start_time = 0.0
  dt = 1.0
  end_time = 2.0
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b854152f-4d3c-4ab3-8cc7-ce865ca8abad"><div class="modal-content"><h4>python/mms/test/mms_spatial.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 8
  ny = 8
[]

[Variables]
  [u][]
[]

[Kernels]
  [diff]
    type = ADDiffusion
    variable = u
  []
  [force]
    type = BodyForce
    variable = u
    function = force
  []
[]

[Functions]
  [exact]
    type = ParsedFunction
    value = &#x27;sin(2*pi*x)*sin(2*pi*y)&#x27;
  []
  [force]
    type = ParsedFunction
    value = &#x27;8*pi^2*sin(2*x*pi)*sin(2*y*pi)&#x27;
  []
[]

[BCs]
  [all]
    type = FunctionDirichletBC
    variable = u
    function = exact
    boundary = &#x27;left right top bottom&#x27;
  []
[]

[Postprocessors]
  [error]
    type = ElementL2Error
    function = exact
    variable = u
  []
  [h]
    type = AverageElementSize
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2383cca1-7efb-416d-a44e-fa69cd31ef86"><div class="modal-content"><h4>test/tests/geomsearch/quadrature_nearest_node_locator/qnnl_ad.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = 2dcontact_collide.e
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[AuxVariables]
  [./distance]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [disp_x][]
  [disp_y][]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
    use_displaced_mesh = true
  [../]
[]

[AuxKernels]
  [./distance]
    type = NearestNodeDistanceAux
    variable = distance
    boundary = 2
    paired_boundary = 3
  [../]
[]

[BCs]
  [./block1_left]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 0
  [../]
  [./block1_right]
    type = DirichletBC
    variable = u
    boundary = 2
    value = 1
  [../]
  [./block2_left]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 0
  [../]
  [./block2_right]
    type = DirichletBC
    variable = u
    boundary = 4
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

[]

[Outputs]
  exodus = true
  file_base = qnnl_ad
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="10465197-a3b9-4dc4-9038-93220b858430"><div class="modal-content"><h4>test/tests/bcs/ad_bc_preset_nodal/bc_function_preset.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  nz = 0
  zmin = 0
  zmax = 0
  elem_type = QUAD4
[]

[Variables]
  active = &#x27;u&#x27;

  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Functions]
  [./left]
    type = ParsedFunction
    value = &#x27;y&#x27;
  [../]

  [./right]
    type = ParsedFunction
    value = &#x27;1+y&#x27;
  [../]
[]

[Kernels]
  active = &#x27;diff&#x27;

  [./diff]
    type = ADDiffusion
    variable = u
  [../]
[]

[BCs]
  active = &#x27;left right&#x27;

   [./left]
    type = ADFunctionDirichletBC
    variable = u
    boundary = 3
    function = left
  [../]

  [./right]
    type = ADFunctionDirichletBC
    variable = u
    boundary = 1
    function = right
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  file_base = bc_func_out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b782ab6c-5a32-4026-b3f4-22410646973f"><div class="modal-content"><h4>test/tests/kernels/ad_vector_couple/ad_grad_vector_couple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [u]
    family = LAGRANGE
    order = FIRST
  []
  [v]
    family = LAGRANGE_VEC
    order = FIRST
  []
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [diff]
    type = ADDiffusion
    variable = u
  []
  [convection]
    type = ADCoupledVectorConvection
    variable = u
    velocity_vector = v
    use_grad_row = true
  []
  [diff_v]
    type = ADVectorDiffusion
    variable = v
  []
[]

[BCs]
  [left]
    type = ADFunctionDirichletBC
    variable = u
    function = 1
    boundary = &#x27;left&#x27;
  []
  [right]
    type = ADFunctionDirichletBC
    variable = u
    function = 2
    boundary = &#x27;bottom&#x27;
  []

  [left_v]
    type = ADVectorFunctionDirichletBC
    variable = v
    function_x = 1
    function_y = 2
    boundary = &#x27;left&#x27;
  []
  [right_v]
    type = ADVectorFunctionDirichletBC
    variable = v
    function_x = 4
    function_y = 8
    boundary = &#x27;top&#x27;
  []
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  num_steps = 10
  dt = 0.05
[]

[Outputs]
  execute_on = TIMESTEP_END
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0935426d-d72c-4cec-9890-58d3b582e62c"><div class="modal-content"><h4>modules/combined/test/tests/ad_cavity_pressure/3d.i</h4><pre class="moose-pre"><code class="language-text">#
# Cavity Pressure Test
#
# This test is designed to compute an internal pressure based on
#   p = n * R * T / V
# where
#   p is the pressure
#   n is the amount of material in the volume (moles)
#   R is the universal gas constant
#   T is the temperature
#   V is the volume
#
# The mesh is composed of one block (1) with an interior cavity of volume 8.
#   Block 2 sits in the cavity and has a volume of 1.  Thus, the total
#   initial volume is 7.
# The test adjusts n, T, and V in the following way:
#   n =&gt; n0 + alpha * t
#   T =&gt; T0 + beta * t
#   V =&gt; V0 + gamma * t
# with
#   alpha = n0
#   beta = T0 / 2
#   gamma = - (0.003322259...) * V0
#   T0 = 240.54443866068704
#   V0 = 7
#   n0 = f(p0)
#   p0 = 100
#   R = 8.314472 J * K^(-1) * mol^(-1)
#
# So, n0 = p0 * V0 / R / T0 = 100 * 7 / 8.314472 / 240.544439
#        = 0.35
#
# The parameters combined at t = 1 gives p = 301.
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  volumetric_locking_correction = true
[]

[Mesh]
  file = 3d.e
[]

[Functions]
  [./displ_positive]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.0029069767441859684&#x27;
  [../]
  [./displ_negative]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 -0.0029069767441859684&#x27;
  [../]
  [./temp1]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;1 1.5&#x27;
    scale_factor = 240.54443866068704
  [../]
  [./material_input_function]
    type = PiecewiseLinear
    x = &#x27;0    1&#x27;
    y = &#x27;0 0.35&#x27;
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 240.54443866068704
  [../]
  [./material_input]
  [../]
[]

[AuxVariables]
  [./pressure_residual_x]
  [../]
  [./pressure_residual_y]
  [../]
  [./pressure_residual_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
  [./heat]
    type = ADDiffusion
    variable = temp
    use_displaced_mesh = true
  [../]
  [./material_input_dummy]
    type = ADDiffusion
    variable = material_input
    use_displaced_mesh = true
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 0
    variable = stress_xx
  [../]
  [./stress_yy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 1
    variable = stress_yy
  [../]
  [./stress_zz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_zz
  [../]
  [./stress_xy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 1
    variable = stress_xy
  [../]
  [./stress_yz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 2
    variable = stress_yz
  [../]
  [./stress_zx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 0
    variable = stress_zx
  [../]
[]

[BCs]
  [./no_x_exterior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;7 8&#x27;
    value = 0.0
  [../]
  [./no_y_exterior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;9 10&#x27;
    value = 0.0
  [../]
  [./no_z_exterior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./prescribed_left]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 13
    function = displ_positive
  [../]
  [./prescribed_right]
    type = ADFunctionDirichletBC
    variable = disp_x
    boundary = 14
    function = displ_negative
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;15 16&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;17 18&#x27;
    value = 0.0
  [../]
  [./no_x_interior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./no_y_interior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;3 4&#x27;
    value = 0.0
  [../]
  [./no_z_interior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;5 6&#x27;
    value = 0.0
  [../]
  [./temperatureInterior]
    type = ADFunctionDirichletBC
    boundary = 100
    function = temp1
    variable = temp
  [../]
  [./MaterialInput]
    type = ADFunctionDirichletBC
    boundary = &#x27;100 13 14 15 16&#x27;
    function = material_input_function
    variable = material_input
  [../]
  [./CavityPressure]
    [./1]
      boundary = 100
      initial_pressure = 100
      material_input = materialInput
      R = 8.314472
      temperature = aveTempInterior
      volume = internalVolume
      startup_time = 0.5
      output = ppress
      save_in = &#x27;pressure_residual_x pressure_residual_y pressure_residual_z&#x27;
      use_automatic_differentiation = true
    [../]
  [../]
[]

[Materials]
  [./elast_tensor1]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e1
    poissons_ratio = 0
    block = 1
  [../]
  [./strain1]
    type = ADComputeFiniteStrain
    block = 1
  [../]
  [./stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./elast_tensor2]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0
    block = 2
  [../]
  [./strain2]
    type = ADComputeFiniteStrain
    block = 2
  [../]
  [./stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -sub_pc_type&#x27;
  petsc_options_value = &#x27;asm       lu&#x27;

  nl_rel_tol = 1e-12
  l_tol = 1e-12

  l_max_its = 20

  dt = 0.5
  end_time = 1.0
[]

[Postprocessors]
  [./internalVolume]
    type = InternalVolume
    boundary = 100
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./aveTempInterior]
    type = SideAverageValue
    boundary = 100
    variable = temp
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./materialInput]
    type = SideAverageValue
    boundary = &#x27;7 8 9 10 11 12&#x27;
    variable = material_input
    execute_on = linear
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="840fcc2e-9122-4e97-b9c3-2bdb6b262cc4"><div class="modal-content"><h4>test/tests/kernels/jxw_grad_test_dep_on_displacements/jxw-spherical.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_r&#x27;
  order = SECOND
[]

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 3
  elem_type = EDGE3
[]

[Problem]
  coord_type = RSPHERICAL
[]

[Variables]
  [./disp_r]
  [../]
  [./u]
    order = FIRST
  [../]
[]

[Kernels]
  [./disp_r]
    type = Diffusion
    variable = disp_r
  [../]
  [./u]
    type = ADDiffusion
    variable = u
    use_displaced_mesh = true
  [../]
[]

[BCs]
  # BCs cannot be preset due to Jacobian tests
  [./u_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = u
  [../]
  [./u_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = u
  [../]
  [./disp_r_left]
    type = DirichletBC
    preset = false
    value = 0
    boundary = &#x27;left&#x27;
    variable = disp_r
  [../]
  [./disp_r_right]
    type = DirichletBC
    preset = false
    value = 1
    boundary = &#x27;right&#x27;
    variable = disp_r
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  [./dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  [../]
  exodus = true
[]

[ICs]
  [./disp_r]
    type = RandomIC
    variable = disp_r
    min = 0.01
    max = 0.09
  [../]
  [./u]
    type = RandomIC
    variable = u
    min = 0.1
    max = 0.9
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e5fb366e-1ba2-4ab3-81c9-73b8c523191b"><div class="modal-content"><h4>test/tests/kernels/ad_2d_diffusion/2d_diffusion_bodyforce_test.i</h4><pre class="moose-pre"><code class="language-text">###########################################################
# This is a simple test of the Kernel System.
# It solves the Laplacian equation on a small 2x2 grid.
# The &quot;Diffusion&quot; kernel is used to calculate the
# residuals of the weak form of this operator. The
# &quot;BodyForce&quot; kernel is used to apply a time-dependent
# volumetric source.
###########################################################

[Mesh]
  [./square]
    type = GeneratedMeshGenerator
    nx = 2
    ny = 2
    dim = 2
  [../]
[]

[Variables]
  active = &#x27;u&#x27;

  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = ADDiffusion
    variable = u
  [../]
  [./bf]
    type = ADBodyForce
    variable = u
    postprocessor = ramp
  [../]
[]

[Functions]
  [./ramp]
    type = ParsedFunction
    value = &#x27;t&#x27;
  [../]
[]

[Postprocessors]
  [./ramp]
    type = FunctionValuePostprocessor
    function = ramp
    execute_on = linear
  [../]
[]

[BCs]
  active = &#x27;left right&#x27;

  [./left]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 0
  [../]

  [./right]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 0
  [../]
[]

[Executioner]
  type = Transient
  dt = 1.0
  end_time = 1.0

  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  file_base = bodyforce_out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="585857d7-afc5-4390-babf-cfe3aec4c50d"><div class="modal-content"><h4>modules/combined/test/tests/ad_cavity_pressure/additional_volume.i</h4><pre class="moose-pre"><code class="language-text">#
# Cavity Pressure Test using using automatic differentiation
#
# This test is designed to compute an internal pressure based on
# p = n * R * / (V_cavity / T_cavity + V_add / T_add)
# where
#  p is the pressure
#  n is the amount of material in the volume (moles)
#  R is the universal gas constant
#  T_cavity is the temperature in the cavity
#  T_add is the temperature of the additional volume
#
# The mesh is composed of one block (1) with an interior cavity of volume 8.
#   Block 2 sits in the cavity and has a volume of 1.  Thus, the total
#   initial volume is 7. An additional volume of 2 is added.
#
# The test adjusts n, T, and V in the following way:
#   n =&gt; n0 + alpha * t
#   T =&gt; T0 + beta * t
#   V =&gt; V_cavity0 + gamma * t + V_add
# with
#   alpha = n0
#   beta = T0 / 2
#   gamma = -(0.003322259...) * V0
#   T0 = 240.54443866068704
#   V_cavity0 = 7
#   V_add = 2
#   T_add = 100
#   n0 = f(p0)
#   p0 = 100
#   R = 8.314472 J * K^(-1) * mol^(-1)
#
#  An additional volume of 2 with a temperature of 100.0 is included.
#
# So, n0 = p0 * (V_cavity / T_cavity + V_add / T_add) / R
#        = 100 * (7 / 240.544439 + 2 / 100) / 8.314472
#        = 0.59054
#
# The parameters combined at t = 1 gives p = 249.647.
#
# This test sets the initial temperature to 500, but the CavityPressure
#   is told that that initial temperature is T0.  Thus, the final solution
#   is unchanged.

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  file = 3d.e
[]

[GlobalParams]
  volumetric_locking_correction = true
[]

[Functions]
  [./displ_positive]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.0029069767441859684&#x27;
  [../]
  [./displ_negative]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 -0.0029069767441859684&#x27;
  [../]
  [./temp1]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;1 1.5&#x27;
    scale_factor = 240.54443866068704
  [../]
  [./material_input_function]
    type = PiecewiseLinear
    x = &#x27;0    1&#x27;
    y = &#x27;0 0.59054&#x27;
  [../]
  [./additional_volume]
    type = ConstantFunction
    value = 2
  [../]
  [./temperature_of_additional_volume]
    type = ConstantFunction
    value = 100
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 500
  [../]
  [./material_input]
  [../]
[]

[AuxVariables]
  [./pressure_residual_x]
  [../]
  [./pressure_residual_y]
  [../]
  [./pressure_residual_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
  [./heat]
    type = ADDiffusion
    variable = temp
    use_displaced_mesh = true
  [../]
  [./material_input_dummy]
    type = ADDiffusion
    variable = material_input
    use_displaced_mesh = true
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 0
    variable = stress_xx
  [../]
  [./stress_yy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 1
    variable = stress_yy
  [../]
  [./stress_zz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_zz
  [../]
  [./stress_xy]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 0
    index_j = 1
    variable = stress_xy
  [../]
  [./stress_yz]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 1
    index_j = 2
    variable = stress_yz
  [../]
  [./stress_zx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 0
    variable = stress_zx
  [../]
[]

[BCs]
  [./no_x_exterior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;7 8&#x27;
    value = 0.0
  [../]
  [./no_y_exterior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;9 10&#x27;
    value = 0.0
  [../]
  [./no_z_exterior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./prescribed_left]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 13
    function = displ_positive
  [../]
  [./prescribed_right]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 14
    function = displ_negative
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;15 16&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;17 18&#x27;
    value = 0.0
  [../]
  [./no_x_interior]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;1 2&#x27;
    value = 0.0
  [../]
  [./no_y_interior]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;3 4&#x27;
    value = 0.0
  [../]
  [./no_z_interior]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;5 6&#x27;
    value = 0.0
  [../]
  [./temperatureInterior]
    type = ADFunctionDirichletBC
    boundary = 100
    function = temp1
    variable = temp
  [../]
  [./MaterialInput]
    type = ADFunctionDirichletBC
    boundary = &#x27;100 13 14 15 16&#x27;
    function = material_input_function
    variable = material_input
  [../]
  [./CavityPressure]
    [./1]
      boundary = 100
      initial_pressure = 100
      material_input = materialInput
      R = 8.314472
      temperature = aveTempInterior
      initial_temperature = 240.54443866068704
      volume = internalVolume
      startup_time = 0.5
      output = ppress
      save_in = &#x27;pressure_residual_x pressure_residual_y pressure_residual_z&#x27;
      additional_volumes = volume1
      temperature_of_additional_volumes = temperature1
      use_automatic_differentiation = true
    [../]
  [../]
[]

[Materials]
  [./elast_tensor1]
    type = ADComputeElasticityTensor
    C_ijkl = &#x27;0 5&#x27;
    fill_method = symmetric_isotropic
    block = 1
  [../]
  [./strain1]
    type = ADComputeFiniteStrain
    block = 1
  [../]
  [./stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./elast_tensor2]
    type = ADComputeElasticityTensor
    C_ijkl = &#x27;0 5&#x27;
    fill_method = symmetric_isotropic
    block = 2
  [../]
  [./strain2]
    type = ADComputeFiniteStrain
    block = 2
  [../]
  [./stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -sub_pc_type&#x27;
  petsc_options_value = &#x27;asm       lu&#x27;

  nl_rel_tol = 1e-12
  l_tol = 1e-12

  l_max_its = 20

  dt = 0.5
  end_time = 1.0
[]

[Postprocessors]
  [./internalVolume]
    type = InternalVolume
    boundary = 100
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./aveTempInterior]
    type = SideAverageValue
    boundary = 100
    variable = temp
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./materialInput]
    type = SideAverageValue
    boundary = &#x27;7 8 9 10 11 12&#x27;
    variable = material_input
    execute_on = linear
  [../]
  [./volume1]
    type = FunctionValuePostprocessor
    function = additional_volume
    execute_on = &#x27;initial linear&#x27;
  [../]
  [./temperature1]
    type = FunctionValuePostprocessor
    function = temperature_of_additional_volume
    execute_on = &#x27;initial linear&#x27;
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cf140b77-6fa3-458e-acf0-8b41bbfe0b78"><div class="modal-content"><h4>modules/combined/test/tests/thermo_mech/ad-youngs_modulus_function_temp.i</h4><pre class="moose-pre"><code class="language-text"># ---------------------------------------------------------------------------
# This test is designed to verify the variable elasticity tensor functionality in the
# ADComputeFiniteStrainElasticStress class with the elasticity_tensor_has_changed flag
# by varying the young&#x27;s modulus with temperature. A constant strain is applied
# to the mesh in this case, and the stress varies with the changing elastic constants.
#
# Geometry: A single element cube in symmetry boundary conditions and pulled
#           at a constant displacement to create a constant strain in the x-direction.
#
# Temperature:  The temperature varies from 400K to 700K in this simulation by
#           100K each time step. The temperature is held constant in the last
#           timestep to ensure that the elasticity tensor components are constant
#           under constant temperature.
#
# Results: Because Poisson&#x27;s ratio is set to zero, only the stress along the x
#          axis is non-zero.  The stress changes with temperature.
#
#    Temperature(K)   strain_{xx}(m/m)     Young&#x27;s Modulus(Pa)   stress_{xx}(Pa)
#          400              0.001             10.0e6               1.0e4
#          500              0.001             10.0e6               1.0e4
#          600              0.001              9.94e6              9.94e3
#          700              0.001              9.93e6              9.93e3
#
#    The tensor mechanics results align exactly with the analytical results above
#    when this test is run with ComputeIncrementalSmallStrain.  When the test is
#    run with ComputeFiniteStrain, a 0.05% discrepancy between the analytical
#    strains and the simulation strain results is observed, and this discrepancy
#    is carried over into the calculation of the elastic stress.
#-------------------------------------------------------------------------

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 1
  ny = 1
  nz = 1
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./temp]
    initial_condition = 400
  [../]
[]

[AuxVariables]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./elastic_strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Functions]
  [./temperature_function]
    type = PiecewiseLinear
    x = &#x27;1       4&#x27;
    y = &#x27;400   700&#x27;
  [../]
[]

[Kernels]
  [./heat]
    type = ADDiffusion
    variable = temp
  [../]
  [./TensorMechanics]
    use_displaced_mesh = true
    use_automatic_differentiation = true
  [../]
[]


[AuxKernels]
  [./stress_xx]
    type = ADRankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]

 [./elastic_strain_xx]
    type = ADRankTwoAux
    rank_two_tensor = elastic_strain
    variable = elastic_strain_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
[]

[BCs]
  [./u_left_fix]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./u_bottom_fix]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./u_back_fix]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = 0.0
  [../]
  [./u_pull_right]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.001
  [../]

  [./temp_bc_1]
    type = ADFunctionDirichletBC
    variable = temp
    preset = false
    boundary = &#x27;1 2 3 4&#x27;
    function = temperature_function
  [../]
[]

[Materials]
  [./youngs_modulus]
    type = ADPiecewiseLinearInterpolationMaterial
    xy_data = &#x27;0          10e+6
               599.9999   10e+6
               600        9.94e+6
               99900      10e3&#x27;
    property = youngs_modulus
    variable = temp
  [../]

  [./elasticity_tensor]
    type = ADComputeVariableIsotropicElasticityTensor
    youngs_modulus = youngs_modulus
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ADComputeIncrementalSmallStrain
  [../]
  [./stress]
    type = ADComputeFiniteStrainElasticStress
  [../]
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient

  end_time = 5
[]

[Postprocessors]
  [./elastic_strain_xx]
    type = ElementAverageValue
    variable = elastic_strain_xx
  [../]
  [./elastic_stress_xx]
    type = ElementAverageValue
    variable = stress_xx
  [../]
  [./temp]
    type = AverageNodalVariableValue
    variable = temp
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#206442c6-1a81-4f65-9977-1bec7162ec1d" class="tooltipped" data-position="left" data-tooltip="Description">Description</a></li><li><a href="#4ccf99c3-e29a-4c15-9ca7-b463ef6f99ee" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#1715fff4-d76d-4b0d-bad2-4fbefa1b0601" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>