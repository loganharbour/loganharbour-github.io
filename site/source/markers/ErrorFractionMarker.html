<!DOCTYPE html><head><meta charset="UTF-8"><title>ErrorFractionMarker.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="3a0f3ca3-cfd4-48a8-8331-558c2c8c00ad"><i class="material-icons">menu</i></a><ul class="sidenav" id="3a0f3ca3-cfd4-48a8-8331-558c2c8c00ad"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">markers</span><a href="#" class="breadcrumb">ErrorFractionMarker</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="6e29dad3-0b83-46d5-af0a-e1c09d59ad28" data-section-level="1" data-section-text="Errorfractionmarker"><h1 id="errorfractionmarker">Errorfractionmarker</h1><p>Marks elements for refinement or coarsening based on the fraction of the min/max error from the supplied indicator.</p><section class="scrollspy" id="3826ffb9-636b-4003-b6b5-35090cbba522" data-section-level="2" data-section-text="Description"><h2 id="description">Description</h2><p>The <code>ErrorFractionMarker</code> utilizes the value from an <a href="../../syntax/Adaptivity/Indicators/index.html">Indicator</a> as a measure of &quot;error&quot; on each element. Using this error approximation the following algorithm is applied:</p><div class="card moose-float" style="float:right;width:auto;margin:20px;padding:20px;"><div class="card-content"><img src="../../media/markers/error_fraction_marker_example.png" class="materialboxed moose-image"></img><p class="moose-caption"><span class="moose-caption-text">ErrorFractionMarker example calculation.</span></p></div></div><ol class="browser-default" start="1"><li><p>The elements are sorted by increasing error. </p></li><li><p>The elements comprising the &quot;refine&quot; fraction, from highest error to lowest, of the total error are marked for refinement. </p></li><li><p>The elements comprising the &quot;coarsen&quot; fraction, from lowest error to highest, of the total error are marked for refinement.</p></li></ol></section><section class="scrollspy" id="d42c14b7-6b4a-48c1-b4a6-b2b2d6bb3e83" data-section-level="2" data-section-text="Example Input Syntax"><h2 id="example-input-syntax">Example Input Syntax</h2><pre class="moose-pre"><code class="language-text">[Adaptivity]
  [Indicators]
    [error]
      type = AnalyticalIndicator
      variable = u
      function = solution
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = error
      refine = 0.3
    []
  []
[]
</code></pre><a href="#219c0cc5-131b-46a3-8c93-6ea7a9785b65" class="modal-trigger">(test/tests/markers/error_fraction_marker/error_fraction_marker_test.i)</a><div class="modal moose-modal" id="219c0cc5-131b-46a3-8c93-6ea7a9785b65"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/markers/error_fraction_marker/error_fraction_marker_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  nz = 10
[]

[Variables]
  [u]
    order = FIRST
    family = LAGRANGE
  []
[]

[Functions]
  [solution]
    type = ParsedFunction
    value = (exp(x)-1)/(exp(1)-1)
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [conv]
    type = Convection
    variable = u
    velocity = &#x27;1 0 0&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Adaptivity]
  [Indicators]
    [error]
      type = AnalyticalIndicator
      variable = u
      function = solution
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = error
      refine = 0.3
    []
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section class="scrollspy" id="21f34e73-4bfd-43c9-bc13-67eaf21f9ba3" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="b92d28d4-432d-42a5-beca-bc7a18fda9fb" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">indicator</span><span class="moose-parameter-header-description">The name of the Indicator that this Marker uses.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>IndicatorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of the Indicator that this Marker uses.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="ad1fa3f6-8dea-4015-b240-18c6889a9ac1" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block</span><span class="moose-parameter-header-description">The list of block ids (SubdomainID) that this object will be applied</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<SubdomainName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The list of block ids (SubdomainID) that this object will be applied</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">clear_extremes</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Whether or not to clear the extremes during each error calculation.  Changing this to `false` will result in the global extremes ever encountered during the run to be used as the min and max error.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not to clear the extremes during each error calculation.  Changing this to `false` will result in the global extremes ever encountered during the run to be used as the min and max error.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">coarsen</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Elements within this percentage of the min error will be coarsened.  Must be between 0 and 1!</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Elements within this percentage of the min error will be coarsened.  Must be between 0 and 1!</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">refine</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Elements within this percentage of the max error will be refined.  Must be between 0 and 1!</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Elements within this percentage of the max error will be refined.  Must be between 0 and 1!</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="ebab55ca-d3f7-45be-b447-30ec5648bc04" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">outputs</span><span class="moose-parameter-header-description">Vector of output names were you would like to restrict the output of variables(s) associated with this object</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<OutputName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Vector of output names were you would like to restrict the output of variables(s) associated with this object</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="8d2f6535-7d30-4995-a62b-ed1955b7ea26" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#7bd8f3cd-da48-4aa5-8dca-08093e45a409" class="modal-trigger">modules/ray_tracing/test/tests/ray_kernels/line_source_ray_kernel/simple_diffusion_line_source.i</a></li><li><a href="#0c2147fc-04f9-44ba-a42c-4e040fff48bd" class="modal-trigger">modules/phase_field/examples/anisotropic_interfaces/GrandPotentialPlanarGrowth.i</a></li><li><a href="#cf9d7deb-3e71-4e23-9ed7-143c704250e1" class="modal-trigger">tutorials/darcy_thermo_mech/step10_multiapps/tests/auxkernels/corrosion/corrosion.i</a></li><li><a href="#008b100a-6aa6-471f-97b0-f5bf6cdccb54" class="modal-trigger">modules/phase_field/examples/anisotropic_interfaces/GrandPotentialTwophaseAnisotropy.i</a></li><li><a href="#a4c45b7b-dee2-4f72-a328-0556e14441c7" class="modal-trigger">test/tests/markers/error_fraction_marker/error_fraction_marker_no_clear_test.i</a></li><li><a href="#6165b06e-4c53-4705-a079-88b9dd15eadc" class="modal-trigger">test/tests/functions/image_function/threshold_adapt_parallel.i</a></li><li><a href="#8773671e-4857-48fc-a9db-852d02cf07f0" class="modal-trigger">modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_3d.i</a></li><li><a href="#ef02ee91-10cd-47b2-885e-b1642f878b02" class="modal-trigger">modules/phase_field/test/tests/initial_conditions/polycrystal_BndsCalcIC.i</a></li><li><a href="#7b077681-6d82-43a8-b23a-36809e5dd13d" class="modal-trigger">test/tests/vectorpostprocessors/dynamic_point_sampler/dynamic_point_sampler.i</a></li><li><a href="#bf214fcb-3671-476f-842d-9b4b607780da" class="modal-trigger">test/tests/meshgenerators/distributed_rectilinear_mesh_generator/distributed_rectilinear_mesh_generator_adaptivity.i</a></li><li><a href="#90fcb745-a4e2-44f9-aea4-edd9c39293d3" class="modal-trigger">test/tests/outputs/system_info/system_info.i</a></li><li><a href="#1175e2f4-cbec-404e-b405-502f6cd5675c" class="modal-trigger">modules/phase_field/test/tests/grain_tracker_test/grain_tracker_test_elemental.i</a></li><li><a href="#7e2316ec-c3e0-488a-9122-b351457ab506" class="modal-trigger">test/tests/executioners/adapt_and_modify/adapt_and_modify.i</a></li><li><a href="#aff511a4-ba3b-4aaf-85ca-693d68785374" class="modal-trigger">tutorials/darcy_thermo_mech/step07_adaptivity/problems/step7c_adapt.i</a></li><li><a href="#38803a9f-e38e-4f20-8ecd-e5c4d738a97e" class="modal-trigger">modules/porous_flow/examples/lava_lamp/2phase_convection.i</a></li><li><a href="#bbca240c-4d75-4548-a813-e352d3a6ec4a" class="modal-trigger">test/tests/functions/image_function/threshold_adapt.i</a></li><li><a href="#c498e345-0546-41ee-b988-92de023d4610" class="modal-trigger">test/tests/outputs/oversample/ex02_adapt.i</a></li><li><a href="#d4262f05-c211-457c-82c0-ef5d9708026c" class="modal-trigger">test/tests/functions/image_function/image.i</a></li><li><a href="#6ef4f4f2-5212-4963-bcc2-6eeaec09ccc9" class="modal-trigger">modules/phase_field/examples/grain_growth/grain_growth_2D_voronoi_newadapt.i</a></li><li><a href="#375a4aaf-9f8b-48d6-a86c-06eab2454769" class="modal-trigger">modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_2d.i</a></li><li><a href="#a4648dbd-c941-4ff2-b27f-ef854eab365a" class="modal-trigger">test/tests/executioners/adapt_and_modify/adapt_and_modify_heavy.i</a></li><li><a href="#b3c09d28-4fc8-42e8-bf04-0efcacc2ebe6" class="modal-trigger">tutorials/darcy_thermo_mech/step10_multiapps/problems/step10_micro.i</a></li><li><a href="#04ce9cb6-d078-484a-819e-45b7ea8b3649" class="modal-trigger">test/tests/markers/error_fraction_marker/error_fraction_marker_test.i</a></li><li><a href="#efe016b6-f0d6-4e98-8726-258c33057f7a" class="modal-trigger">test/tests/dgkernels/adaptivity/adaptivity.i</a></li><li><a href="#e60bce6b-d9ca-49ac-ac9b-ff50abbf43a1" class="modal-trigger">test/tests/adaptivity/cycles_per_step/cycles_per_step.i</a></li><li><a href="#38a343b5-32c2-4495-837c-82855ca7e364" class="modal-trigger">test/tests/adaptivity/cycles_per_step/test.i</a></li><li><a href="#a8f539a5-4026-4aa1-95f5-a56e1cfe31a7" class="modal-trigger">modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_1d.i</a></li><li><a href="#dac37f13-8028-4c0c-970f-34223dd8f4fa" class="modal-trigger">modules/porous_flow/test/tests/recover/theis.i</a></li><li><a href="#09af0e51-7734-4f9a-afd3-88ded3daf825" class="modal-trigger">examples/ex05_amr/ex05.i</a></li><li><a href="#fffdca2a-ff11-44d3-9643-0b0f64daaec0" class="modal-trigger">modules/level_set/test/tests/transfers/markers/multi_level/master.i</a></li><li><a href="#e351eb59-2d14-4173-ae31-a023f18bc54e" class="modal-trigger">test/tests/outputs/system_info/system_info_mesh.i</a></li><li><a href="#41f6db8b-b20c-4ede-9691-e240fa1d18f3" class="modal-trigger">test/tests/auxkernels/solution_aux/aux_nonlinear_solution_adapt.i</a></li><li><a href="#8abf9437-edc8-4c72-a39b-a941337921b2" class="modal-trigger">tutorials/darcy_thermo_mech/step07_adaptivity/problems/step7d_adapt_blocks.i</a></li><li><a href="#5d738980-b2fa-41c1-ae0c-28d88de7a748" class="modal-trigger">modules/richards/test/tests/buckley_leverett/bl01_adapt.i</a></li><li><a href="#9190e883-8fec-4d80-9042-29a1a48237cf" class="modal-trigger">modules/porous_flow/examples/lava_lamp/1phase_convection.i</a></li><li><a href="#c0e56a05-b1a0-4c64-bda1-c8880b9b3144" class="modal-trigger">modules/phase_field/examples/anisotropic_interfaces/GrandPotentialSolidification.i</a></li><li><a href="#aa5ca888-ee3d-4ccf-ab74-9eb4a36ea79f" class="modal-trigger">modules/functional_expansion_tools/examples/3D_volumetric_cylindrical_subapp_mesh_refine/sub.i</a></li><li><a href="#b07a43b6-2804-47f2-afb1-2331bc361790" class="modal-trigger">modules/porous_flow/test/tests/pressure_pulse/pressure_pulse_1d_adaptivity.i</a></li><li><a href="#53b7bb82-a0c8-405c-920d-f212f21aa075" class="modal-trigger">test/tests/auxkernels/solution_aux/aux_nonlinear_solution_adapt_xda.i</a></li></ul><div class="modal moose-modal" id="7bd8f3cd-da48-4aa5-8dca-08093e45a409"><div class="modal-content"><h4>modules/ray_tracing/test/tests/ray_kernels/line_source_ray_kernel/simple_diffusion_line_source.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 5
    ymax = 5
  []
[]

[Variables/u]
[]

[Kernels/diff]
  type = Diffusion
  variable = u
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[UserObjects/study]
  type = RepeatableRayStudy
  names = &#x27;line_source_ray&#x27;
  start_points = &#x27;1 1 0&#x27;
  end_points = &#x27;5 2 0&#x27;
  execute_on = PRE_KERNELS # must be set for line sources!
[]

[RayKernels/line_source]
  type = LineSourceRayKernel
  variable = u
  value = 5
  rays = &#x27;line_source_ray&#x27;
[]

# This isn&#x27;t used in the test but can be enabled
# for pretty pictures as is used in an example!
[Adaptivity]
  steps = 0 # 5
  marker = marker
  initial_marker = marker
  max_h_level = 5
  [Indicators/indicator]
    type = GradientJumpIndicator
    variable = u
  []
  [Markers/marker]
    type = ErrorFractionMarker
    indicator = indicator
    coarsen = 0.1
    refine = 0.5
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0c2147fc-04f9-44ba-a42c-4e040fff48bd"><div class="modal-content"><h4>modules/phase_field/examples/anisotropic_interfaces/GrandPotentialPlanarGrowth.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  xmin = -2
  xmax = 2
  ymin = -2
  ymax = 2
  uniform_refine = 2
[]

[GlobalParams]
  x1 = -2
  y1 = -2
  x2 = 2
  y2 = -1.5
  derivative_order = 2
[]

[Variables]
  [./w]
  [../]
  [./etaa0]
  [../]
  [./etab0]
  [../]
[]

[AuxVariables]
  [./bnds]
  [../]
  #Temperature
  [./T]
  [../]
[]

[AuxKernels]
  [./bnds]
    type = BndsCalcAux
    variable = bnds
    v = &#x27;etaa0 etab0&#x27;
  [../]
  [./T]
    type = FunctionAux
    function = 95.0+2.0*(y-1.0*t)
    variable = T
    execute_on = &#x27;initial timestep_begin&#x27;
  [../]
[]

[ICs]
  [./w]
    type = BoundingBoxIC
    variable = w
    # note w = A*(c-cleq), A = 1.0, cleq = 0.0 ,i.e., w = c (in the matrix/liquid phase)
    outside = -4.0
    inside = 0.0
  [../]
  [./etaa0]
    type = BoundingBoxIC
    variable = etaa0
    #Solid phase
    outside = 0.0
    inside = 1.0
  [../]
  [./etab0]
    type = BoundingBoxIC
    variable = etab0
    #Liquid phase
    outside = 1.0
    inside = 0.0
  [../]
[]


[Kernels]
# Order parameter eta_alpha0
  [./ACa0_bulk]
    type = ACGrGrMulti
    variable = etaa0
    v =           &#x27;etab0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACa0_sw]
    type = ACSwitching
    variable = etaa0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etab0 w&#x27;
  [../]
  [./ACa0_int1]
    type = ACInterface2DMultiPhase1
    variable = etaa0
    etas = &#x27;etab0&#x27;
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
  [../]
  [./ACa0_int2]
    type = ACInterface2DMultiPhase2
    variable = etaa0
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
  [../]
  [./ea0_dot]
    type = TimeDerivative
    variable = etaa0
  [../]
# Order parameter eta_beta0
  [./ACb0_bulk]
    type = ACGrGrMulti
    variable = etab0
    v =           &#x27;etaa0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACb0_sw]
    type = ACSwitching
    variable = etab0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etaa0 w&#x27;
  [../]
  [./ACb0_int1]
    type = ACInterface2DMultiPhase1
    variable = etab0
    etas = &#x27;etaa0&#x27;
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
  [../]
  [./ACb0_int2]
    type = ACInterface2DMultiPhase2
    variable = etab0
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
  [../]
  [./eb0_dot]
    type = TimeDerivative
    variable = etab0
  [../]
#Chemical potential
  [./w_dot]
    type = SusceptibilityTimeDerivative
    variable = w
    f_name = chi
  [../]
  [./Diffusion]
    type = MatDiffusion
    variable = w
    diffusivity = Dchi
  [../]
  [./coupled_etaa0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etaa0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
  [./coupled_etab0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etab0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
[]


[Materials]
  [./ha]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = ha
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etaa0&#x27;
  [../]
  [./hb]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = hb
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etab0&#x27;
  [../]
  [./omegaa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = omegaa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;-0.5*w^2/Vm^2/ka-w/Vm*caeq&#x27;
  [../]
  [./omegab]
    type = DerivativeParsedMaterial
    args = &#x27;w T&#x27;
    f_name = omegab
    material_property_names = &#x27;Vm kb cbeq S Tm&#x27;
    function = &#x27;-0.5*w^2/Vm^2/kb-w/Vm*cbeq-S*(T-Tm)&#x27;
  [../]
  [./rhoa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhoa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;w/Vm^2/ka + caeq/Vm&#x27;
  [../]
  [./rhob]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhob
    material_property_names = &#x27;Vm kb cbeq&#x27;
    function = &#x27;w/Vm^2/kb + cbeq/Vm&#x27;
  [../]
  [./kappaa]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
    etaa = etaa0
    etab = etab0
    outputs = exodus
    output_properties = &#x27;kappaa&#x27;
  [../]
  [./kappab]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
    etaa = etab0
    etab = etaa0
    outputs = exodus
    output_properties = &#x27;kappab&#x27;
  [../]
  [./const]
    type = GenericConstantMaterial
    prop_names =  &#x27;L   D    chi  Vm   ka    caeq kb    cbeq  gab mu   S   Tm&#x27;
    prop_values = &#x27;1.0 1.0  0.1  1.0  10.0  0.1  10.0  0.9   4.5 10.0 1.0 100.0&#x27;
  [../]
  [./Mobility]
    type = ParsedMaterial
    f_name = Dchi
    material_property_names = &#x27;D chi&#x27;
    function = &#x27;D*chi&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre    boomeramg      31&#x27;
  l_tol = 1.0e-3
  l_max_its = 30
  nl_max_its = 15
  nl_rel_tol = 1.0e-8
  nl_abs_tol = 1e-8
  end_time = 2.0
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 0.0005
    cutback_factor = 0.7
    growth_factor = 1.2
  [../]
[]

[Adaptivity]
 initial_steps = 3
 max_h_level = 3
 initial_marker = err_eta
 marker = err_bnds
[./Markers]
   [./err_eta]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_eta
   [../]
   [./err_bnds]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_bnds
   [../]
 [../]
 [./Indicators]
   [./ind_eta]
     type = GradientJumpIndicator
     variable = etaa0
    [../]
    [./ind_bnds]
      type = GradientJumpIndicator
      variable = bnds
   [../]
 [../]
[]

[Outputs]
  interval = 10
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cf9d7deb-3e71-4e23-9ed7-143c704250e1"><div class="modal-content"><h4>tutorials/darcy_thermo_mech/step10_multiapps/tests/auxkernels/corrosion/corrosion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  ymax = 0.1
  xmax = 0.1
  uniform_refine = 0
[]

[Adaptivity]
  max_h_level = 3
  initial_steps = 5
  cycles_per_step = 2
  initial_marker = error_marker
  marker = error_marker
  [Indicators]
    [phi_jump]
      type = GradientJumpIndicator
      variable = phi
    []
  []
  [Markers]
    [error_marker]
      type = ErrorFractionMarker
      indicator = phi_jump
      refine = 0.9
    []
  []
[]

[Variables]
  [temperature]
    initial_condition = 300
  []
[]

[AuxVariables]
  [phi]
  []
[]

[AuxKernels]
  [corrosion]
    type = RandomCorrosion
    execute_on = &#x27;timestep_end&#x27;
    variable = phi
    reference_temperature = 300
    temperature = 301
  []
[]

[Kernels]
  [heat_conduction]
    type = ADHeatConduction
    variable = temperature
  []
[]

[BCs]
  [left]
    type = PostprocessorDirichletBC
    variable = temperature
    boundary = left
    postprocessor = 301
  []
  [right]
    type = NeumannBC
    variable = temperature
    boundary = right
    value = 100 # prescribed flux

  []
[]

[Materials]
  [column]
    type = PackedColumn
    temperature = temperature
    radius = 1 # mm
    phase = phi
    outputs = exodus
    output_properties = porosity
  []
[]

[Problem]
  type = FEProblem
[]

[Postprocessors]
  [k_eff]
    type = ThermalConductivity
    variable = temperature
    T_hot = 301
    flux = 100
    dx = 0.1
    boundary = right
    length_scale = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.5
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  execute_on = &#x27;initial timestep_end&#x27;
  exodus = true
  [console]
    type = Console
    execute_postprocessors_on = &#x27;timestep_begin timestep_end&#x27;
  []
[]

[ICs]
  [close_pack]
    radius = 0.01
    outvalue = 0 # water
    variable = phi
    invalue = 1 #steel
    type = ClosePackIC
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="008b100a-6aa6-471f-97b0-f5bf6cdccb54"><div class="modal-content"><h4>modules/phase_field/examples/anisotropic_interfaces/GrandPotentialTwophaseAnisotropy.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  xmin = -4
  xmax = 4
  ymin = -4
  ymax = 4
  uniform_refine = 2
[]

[GlobalParams]
  radius = 0.5
  int_width = 0.3
  x1 = 0
  y1 = 0
  derivative_order = 2
[]

[Variables]
  [./w]
  [../]
  [./etaa0]
  [../]
  [./etab0]
  [../]
[]

[AuxVariables]
  [./bnds]
  [../]
[]

[AuxKernels]
  [./bnds]
    type = BndsCalcAux
    variable = bnds
    v = &#x27;etaa0 etab0&#x27;
  [../]
[]

[ICs]
  [./w]
    type = SmoothCircleIC
    variable = w
    # note w = A*(c-cleq), A = 1.0, cleq = 0.0 ,i.e., w = c (in the matrix/liquid phase)
    outvalue = -4.0
    invalue = 0.0
  [../]
  [./etaa0]
    type = SmoothCircleIC
    variable = etaa0
    #Solid phase
    outvalue = 0.0
    invalue = 1.0
  [../]
  [./etab0]
    type = SmoothCircleIC
    variable = etab0
    #Liquid phase
    outvalue = 1.0
    invalue = 0.0
  [../]
[]

[BCs]
  [./Periodic]
    [./w]
      variable = w
      auto_direction = &#x27;x y&#x27;
    [../]
    [./etaa0]
      variable = etaa0
      auto_direction = &#x27;x y&#x27;
    [../]
    [./etab0]
      variable = etab0
      auto_direction = &#x27;x y&#x27;
    [../]
  [../]
[]

[Kernels]
# Order parameter eta_alpha0
  [./ACa0_bulk]
    type = ACGrGrMulti
    variable = etaa0
    v =           &#x27;etab0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACa0_sw]
    type = ACSwitching
    variable = etaa0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etab0 w&#x27;
  [../]
  [./ACa0_int1]
    type = ACInterface2DMultiPhase1
    variable = etaa0
    etas = &#x27;etab0&#x27;
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
  [../]
  [./ACa0_int2]
    type = ACInterface2DMultiPhase2
    variable = etaa0
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
  [../]
  [./ea0_dot]
    type = TimeDerivative
    variable = etaa0
  [../]
# Order parameter eta_beta0
  [./ACb0_bulk]
    type = ACGrGrMulti
    variable = etab0
    v =           &#x27;etaa0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACb0_sw]
    type = ACSwitching
    variable = etab0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etaa0 w&#x27;
  [../]
  [./ACb0_int1]
    type = ACInterface2DMultiPhase1
    variable = etab0
    etas = &#x27;etaa0&#x27;
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
  [../]
  [./ACb0_int2]
    type = ACInterface2DMultiPhase2
    variable = etab0
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
  [../]
  [./eb0_dot]
    type = TimeDerivative
    variable = etab0
  [../]
#Chemical potential
  [./w_dot]
    type = SusceptibilityTimeDerivative
    variable = w
    f_name = chi
  [../]
  [./Diffusion]
    type = MatDiffusion
    variable = w
    diffusivity = Dchi
  [../]
  [./coupled_etaa0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etaa0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
  [./coupled_etab0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etab0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
[]

[Materials]
  [./ha]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = ha
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etaa0&#x27;
  [../]
  [./hb]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = hb
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etab0&#x27;
  [../]
  [./omegaa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = omegaa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;-0.5*w^2/Vm^2/ka-w/Vm*caeq&#x27;
  [../]
  [./omegab]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = omegab
    material_property_names = &#x27;Vm kb cbeq&#x27;
    function = &#x27;-0.5*w^2/Vm^2/kb-w/Vm*cbeq&#x27;
  [../]
  [./rhoa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhoa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;w/Vm^2/ka + caeq/Vm&#x27;
  [../]
  [./rhob]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhob
    material_property_names = &#x27;Vm kb cbeq&#x27;
    function = &#x27;w/Vm^2/kb + cbeq/Vm&#x27;
  [../]
  [./kappaa]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
    etaa = etaa0
    etab = etab0
    outputs = exodus
    output_properties = &#x27;kappaa&#x27;
  [../]
  [./kappab]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
    etaa = etab0
    etab = etaa0
    outputs = exodus
    output_properties = &#x27;kappab&#x27;
  [../]
  [./const]
    type = GenericConstantMaterial
    prop_names =  &#x27;L   D    chi  Vm   ka    caeq kb    cbeq  gab mu&#x27;
    prop_values = &#x27;1.0 1.0  0.1  1.0  10.0  0.1  10.0  0.9   4.5 10.0&#x27;
  [../]
  [./Mobility]
    type = ParsedMaterial
    f_name = Dchi
    material_property_names = &#x27;D chi&#x27;
    function = &#x27;D*chi&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre    boomeramg      31&#x27;
  l_tol = 1.0e-3
  l_max_its = 30
  nl_max_its = 15
  nl_rel_tol = 1.0e-8
  nl_abs_tol = 1e-8
  end_time = 10.0
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 0.0005
    cutback_factor = 0.7
    growth_factor = 1.2
  [../]
[]

[Adaptivity]
 initial_steps = 5
 max_h_level = 3
 initial_marker = err_eta
 marker = err_bnds
[./Markers]
   [./err_eta]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_eta
   [../]
   [./err_bnds]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_bnds
   [../]
 [../]
 [./Indicators]
   [./ind_eta]
     type = GradientJumpIndicator
     variable = etaa0
    [../]
    [./ind_bnds]
      type = GradientJumpIndicator
      variable = bnds
   [../]
 [../]
[]

[Outputs]
  interval = 10
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a4c45b7b-dee2-4f72-a328-0556e14441c7"><div class="modal-content"><h4>test/tests/markers/error_fraction_marker/error_fraction_marker_no_clear_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  nz = 10
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Functions]
  [./solution]
    type = ParsedFunction
    value = (exp(x)-1)/(exp(1)-1)
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./conv]
    type = Convection
    variable = u
    velocity = &#x27;1 0 0&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Adaptivity]
  steps = 2
  marker = marker
  [./Indicators]
    [./error]
      type = AnalyticalIndicator
      variable = u
      function = solution
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = error
      refine = 0.3
      clear_extremes = false
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6165b06e-4c53-4705-a079-88b9dd15eadc"><div class="modal-content"><h4>test/tests/functions/image_function/threshold_adapt_parallel.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  parallel_type = distributed
[]

[Variables]
  [u]
  []
[]

[Functions]
  [image_func]
    type = ImageFunction
    file_base = stack/test
    file_suffix = png
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    threshold = 2.7e4
    upper_value = 1
    lower_value = -1
  []
[]

[ICs]
  [u_ic]
    type = FunctionIC
    function = image_func
    variable = u
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.1
[]

[Adaptivity]
  max_h_level = 5
  initial_steps = 5
  initial_marker = marker
  [Indicators]
    [indicator]
      type = GradientJumpIndicator
      variable = u
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.9
    []
  []
[]

[Outputs]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8773671e-4857-48fc-a9db-852d02cf07f0"><div class="modal-content"><h4>modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_3d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    ny = 2
    nz = 2
  []
[]

[Variables/u]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [time]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 3
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  steps = 1
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [Indicators/indicator]
    type = GradientJumpIndicator
    variable = u
  []
  [Markers/marker]
    type = ErrorFractionMarker
    indicator = indicator
    coarsen = 0.1
    refine = 0.1
  []
[]

[UserObjects/study]
  type = LotsOfRaysRayStudy
  ray_kernel_coverage_check = false
  vertex_to_vertex = true
  centroid_to_vertex = true
  centroid_to_centroid = true
  execute_on = timestep_end
[]

[RayBCs/kill]
  type = KillRayBC
  boundary = &#x27;top right bottom left front back&#x27;
[]

[Postprocessors]
  [total_distance]
    type = RayTracingStudyResult
    study = study
    result = total_distance
    execute_on = timestep_end
  []
  [total_rays]
    type = RayTracingStudyResult
    study = study
    result = total_rays_started
    execute_on = timestep_end
  []
[]

[Outputs]
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ef02ee91-10cd-47b2-885e-b1642f878b02"><div class="modal-content"><h4>modules/phase_field/test/tests/initial_conditions/polycrystal_BndsCalcIC.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
  nz = 0
  xmin = 0
  xmax = 100
  ymin = 0
  ymax = 100
  zmin = 0
  zmax = 0
  elem_type = QUAD4
[]

[GlobalParams]
  op_num = 3
  var_name_base = gr
  int_width = 5 # int_width &gt; 0 is required for initial adaptivity to work based on Bnds
[]

[Variables]
  [./PolycrystalVariables]
  [../]
[]

[UserObjects]
  [./voronoi]
    type = PolycrystalVoronoi
    rand_seed = 105
    grain_num = 3
  [../]
[]

[ICs]
  [./PolycrystalICs]
    [./PolycrystalColoringIC]
      polycrystal_ic_uo = voronoi
    [../]
  [../]
  [./bnds]
    type = BndsCalcIC # IC is created for activating the initial adaptivity
    variable = bnds
  [../]
[]

[AuxVariables]
  [./bnds]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./PolycrystalKernel]
  [../]
[]

[AuxKernels]
  [./BndsCalc]
    type = BndsCalcAux
    variable = bnds
    execute_on = timestep_end
  [../]
[]

[BCs]
  [./Periodic]
    [./All]
      auto_direction = &#x27;x y&#x27;
    [../]
  [../]
[]

[Materials]
  [./Copper]
    type = GBEvolution
    T = 500 # K
    wGB = 6 # nm
    GBmob0 = 2.5e-6 #m^4/(Js) from Schoenfelder 1997
    Q = 0.23 #Migration energy in eV
    GBenergy = 0.708 #GB energy in J/m^2
  [../]
[]

[Postprocessors]
  [./ngrains]
    type = FeatureFloodCount
    variable = bnds
    threshold = 0.7
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;
  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre boomeramg 31&#x27;

  l_tol = 1.0e-4
  l_max_its = 30
  nl_max_its = 20
  nl_rel_tol = 1.0e-9
  start_time = 0.0
  num_steps = 2
  dt = 1.0
[]

[Adaptivity]
  initial_steps = 1
  max_h_level = 1
  marker = err_bnds
 [./Markers]
    [./err_bnds]
      type = ErrorFractionMarker
      coarsen = 0.3
      refine = 0.9
      indicator = ind_bnds
    [../]
  [../]
  [./Indicators]
     [./ind_bnds]
       type = GradientJumpIndicator
       variable = bnds
    [../]
  [../]
[]

[Outputs]
  exodus = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7b077681-6d82-43a8-b23a-36809e5dd13d"><div class="modal-content"><h4>test/tests/vectorpostprocessors/dynamic_point_sampler/dynamic_point_sampler.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  nx = 5
  ny = 5
  dim = 2
[]

[Variables]
  [u]
  []
[]

[Functions]
  [forcing_func]
    type = ParsedFunction
    value = alpha*alpha*pi*pi*sin(alpha*pi*x)
    vars = &#x27;alpha&#x27;
    vals = &#x27;4&#x27;
  []

  [u_func]
    type = ParsedGradFunction
    value = sin(alpha*pi*x)
    grad_x   = alpha*pi*sin(alpha*pi*x)
    vars = &#x27;alpha&#x27;
    vals = &#x27;4&#x27;
  []
[]

[Kernels]
  [diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  []

  [forcing]
    type = BodyForce
    variable = u
    function = forcing_func
  []

  [time]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = &#x27;u&#x27;
    boundary = &#x27;left&#x27;
    value = 0
  []

  [right]
    type = DirichletBC
    variable = &#x27;u&#x27;
    boundary = &#x27;right&#x27;
    value = 0
  []
[]

[Executioner]
  type = Transient
  num_steps = 7
  dt = 0.1

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [l2_error]
    type = ElementL2Error
    variable = u
    function = u_func
  []

  [dofs]
    type = NumDOFs
  []
[]

[Adaptivity]
  max_h_level = 3
  marker = error
  [Indicators]
    [jump]
      type = GradientJumpIndicator
      variable = u
    []
  []
  [Markers]
    [error]
      type = ErrorFractionMarker
      indicator = jump
      coarsen = 0.1
      refine = 0.3
    []
  []
[]

[VectorPostprocessors]
  [dynamic_line_sampler]
    type = DynamicPointValueSampler
    variable = u
    start_point = &#x27;0 0.5 0&#x27;
    end_point = &#x27;1 0.5 0&#x27;
    num_points = 6
    sort_by = x
    execute_on = &#x27;initial timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bf214fcb-3671-476f-842d-9b4b607780da"><div class="modal-content"><h4>test/tests/meshgenerators/distributed_rectilinear_mesh_generator/distributed_rectilinear_mesh_generator_adaptivity.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = DistributedRectilinearMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  # Only need when do recover
  parallel_type = distributed
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  initial_steps = 2
  steps = 1
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = indicator
      coarsen = 0.1
      refine = 0.7
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="90fcb745-a4e2-44f9-aea4-edd9c39293d3"><div class="modal-content"><h4>test/tests/outputs/system_info/system_info.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Adaptivity]
  marker = marker
  max_h_level = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = indicator
      refine = 0.7
    [../]
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./aux_u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 3
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1175e2f4-cbec-404e-b405-502f6cd5675c"><div class="modal-content"><h4>modules/phase_field/test/tests/grain_tracker_test/grain_tracker_test_elemental.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 25
  ny = 25
  nz = 0
  xmax = 1000
  ymax = 1000
  zmax = 0
  elem_type = QUAD4
[]

[GlobalParams]
  op_num = 12 # Should match grain_num so we can test with FauxGrainTracker too
  var_name_base = gr
[]

[Variables]
  [./PolycrystalVariables]
  [../]
[]

[UserObjects]
  [./voronoi]
    type = PolycrystalVoronoi
    grain_num = 12 # Number of grains
    coloring_algorithm = bt # bt will assign one grain to each op if they are the same
    rand_seed = 8675
  [../]
  [./grain_tracker]
    type = GrainTracker
  [../]
[]

[ICs]
  [./PolycrystalICs]
    [./PolycrystalColoringIC]
      polycrystal_ic_uo = voronoi
    [../]
  [../]
[]

[AuxVariables]
  [./bnds]
    order = FIRST
    family = LAGRANGE
  [../]
  [./unique_grains]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./var_indices]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./PolycrystalKernel]
  [../]
[]

[AuxKernels]
  [./BndsCalc]
    type = BndsCalcAux
    variable = bnds
  [../]
  [./unique_grains]
    type = FeatureFloodCountAux
    variable = unique_grains
    flood_counter = grain_tracker
    field_display = UNIQUE_REGION
  [../]
  [./var_indices]
    type = FeatureFloodCountAux
    variable = var_indices
    flood_counter = grain_tracker
    field_display = VARIABLE_COLORING
  [../]
[]

[BCs]
  [./Periodic]
    [./all]
      auto_direction = &#x27;x y&#x27;
    [../]
  [../]
[]

[Materials]
  [./CuGrGr]
    type = GBEvolution
    T = 500 # K
    wGB = 100 # nm
    GBmob0 = 2.5e-6
    Q = 0.23
    GBenergy = 0.708
    molar_volume = 7.11e-6
  [../]
[]

[Postprocessors]
  [./DOFs]
    type = NumDOFs
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre boomeramg 31&#x27;
  l_tol = 1.0e-4
  l_max_its = 30
  nl_max_its = 20
  nl_rel_tol = 1.0e-9
  start_time = 0.0
  num_steps = 2
  dt = 100.0
[]

[Adaptivity]
  marker = error_marker
  max_h_level = 1
  [./Markers]
    active = &#x27;error_marker&#x27;
    [./bnds_marker]
      type = ValueThresholdMarker
      invert = true
      refine = 0.85
      coarsen = 0.975
      third_state = DO_NOTHING
      variable = bnds
    [../]
    [./error_marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = bnds_error
      refine = 0.7
    [../]
  [../]
  [./Indicators]
    [./bnds_error]
      type = GradientJumpIndicator
      variable = bnds
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7e2316ec-c3e0-488a-9122-b351457ab506"><div class="modal-content"><h4>test/tests/executioners/adapt_and_modify/adapt_and_modify.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 15
  ny = 15
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./td]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[UserObjects]
  [./rh_uo]
    type = RandomHitUserObject
    execute_on = &#x27;initial timestep_begin&#x27;
    num_hits = 1
  [../]
  [./rhsm]
    type = RandomHitSolutionModifier
    execute_on = &#x27;custom&#x27;
    modify = u
    random_hits = rh_uo
    amount = 1000
  [../]
[]

[Executioner]
  type = AdaptAndModify
  num_steps = 4
  dt = 1e-3

  solve_type = &#x27;PJFNK&#x27;
  nl_rel_tol = 1e-15

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
  adapt_cycles = 2
[]

[Adaptivity]
  marker = rhm # Switch to combo to get the effect of both
  [./Indicators]
    [./gji]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./rhm]
      type = RandomHitMarker
      random_hits = rh_uo
    [../]
    [./efm]
      type = ErrorFractionMarker
      coarsen = 0.001
      indicator = gji
      refine = 0.8
    [../]
    [./combo]
      type = ComboMarker
      markers = &#x27;efm rhm&#x27;
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="aff511a4-ba3b-4aaf-85ca-693d68785374"><div class="modal-content"><h4>tutorials/darcy_thermo_mech/step07_adaptivity/problems/step7c_adapt.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 30
  ny = 3
  xmax = 0.304 # Length of test chamber
  ymax = 0.0257 # Test chamber radius
  uniform_refine = 3
[]

[Variables]
  [pressure]
  []
  [temperature]
    initial_condition = 300 # Start at room temperature
  []
[]

[AuxVariables]
  [velocity]
    order = CONSTANT
    family = MONOMIAL_VEC
  []
[]

[Kernels]
  [darcy_pressure]
    type = DarcyPressure
    variable = pressure
  []
  [heat_conduction]
    type = ADHeatConduction
    variable = temperature
  []
  [heat_conduction_time_derivative]
    type = ADHeatConductionTimeDerivative
    variable = temperature
  []
  [heat_convection]
    type = DarcyAdvection
    variable = temperature
    pressure = pressure
  []
[]

[AuxKernels]
  [velocity]
    type = DarcyVelocity
    variable = velocity
    execute_on = timestep_end
    pressure = pressure
  []
[]

[BCs]
  [inlet]
    type = DirichletBC
    variable = pressure
    boundary = left
    value = 4000 # (Pa) From Figure 2 from paper.  First data point for 1mm spheres.
  []
  [outlet]
    type = DirichletBC
    variable = pressure
    boundary = right
    value = 0 # (Pa) Gives the correct pressure drop from Figure 2 for 1mm spheres
  []
  [inlet_temperature]
    type = FunctionDirichletBC
    variable = temperature
    boundary = left
    function = &#x27;if(t&lt;0,350+50*t,350)&#x27;
  []

  [outlet_temperature]
    type = HeatConductionOutflow
    variable = temperature
    boundary = right
  []
[]

[Materials]
  [column]
    type = PackedColumn
    radius = 1
    temperature = temperature
  []
[]

[Problem]
  type = FEProblem
  coord_type = RZ
  rz_coord_axis = X
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  automatic_scaling = true

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;

  end_time = 100
  dt = 0.25
  start_time = -1

  steady_state_tolerance = 1e-5
  steady_state_detection = true

  [TimeStepper]
    type = FunctionDT
    function = &#x27;if(t&lt;0,0.1,0.25)&#x27;
  []
[]

[Outputs]
  exodus = true
[]

[Adaptivity]
  marker = error_frac
  max_h_level = 3
  [Indicators]
    [temperature_jump]
      type = GradientJumpIndicator
      variable = temperature
      scale_by_flux_faces = true
    []
  []
  [Markers]
    [error_frac]
      type = ErrorFractionMarker
      coarsen = 0.15
      indicator = temperature_jump
      refine = 0.7
    []
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="38803a9f-e38e-4f20-8ecd-e5c4d738a97e"><div class="modal-content"><h4>modules/porous_flow/examples/lava_lamp/2phase_convection.i</h4><pre class="moose-pre"><code class="language-text"># Two phase density-driven convection of dissolved CO2 in brine
#
# Initially, the model has a gas phase at the top with a saturation of 0.29
# (which corresponds to an initial value of zi = 0.2).
# Diffusion of the dissolved CO2
# component from the saturated liquid to the unsaturated liquid below reduces the
# amount of CO2 in the gas phase. As the density of the CO2-saturated brine is greater
# than the unsaturated brine, a gravitational instability arises and density-driven
# convection of CO2-rich fingers descend into the unsaturated brine.
#
# The instability is seeded by a random perturbation to the porosity field.
# Mesh adaptivity is used to refine the mesh as the fingers form.
#
# Note: this model is computationally expensive, so should be run with multiple cores,
# preferably on a cluster.

[GlobalParams]
  PorousFlowDictator = &#x27;dictator&#x27;
  gravity = &#x27;0 -9.81 0&#x27;
[]

[Adaptivity]
  max_h_level = 2
  marker = marker
  initial_marker = initial
  initial_steps = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = zi
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.8
    [../]
    [./initial]
      type = BoxMarker
      bottom_left = &#x27;0 1.95 0&#x27;
      top_right = &#x27;2 2 0&#x27;
      inside = REFINE
      outside = DO_NOTHING
    [../]
  [../]
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  ymax = 2
  xmax = 2
  ny = 40
  nx = 40
  bias_y = 0.95
[]

[AuxVariables]
  [./xnacl]
    initial_condition = 0.01
  [../]
  [./saturation_gas]
    order = FIRST
    family = MONOMIAL
  [../]
  [./xco2l]
    order = FIRST
    family = MONOMIAL
  [../]
  [./density_liquid]
    order = FIRST
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_gas]
    type = PorousFlowPropertyAux
    variable = saturation_gas
    property = saturation
    phase = 1
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./xco2l]
    type = PorousFlowPropertyAux
    variable = xco2l
    property = mass_fraction
    phase = 0
    fluid_component = 1
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./density_liquid]
    type = PorousFlowPropertyAux
    variable = density_liquid
    property = density
    phase = 0
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]

[Variables]
  [./pgas]
  [../]
  [./zi]
    scaling = 1e4
  [../]
[]

[ICs]
  [./pressure]
    type = FunctionIC
    function = 10e6-9.81*1000*y
    variable = pgas
  [../]
  [./zi]
    type = BoundingBoxIC
    variable = zi
    x1 = 0
    x2 = 2
    y1 = 1.95
    y2 = 2
    inside = 0.2
    outside = 0
  [../]
  [./porosity]
    type = RandomIC
    variable = porosity
    min = 0.25
    max = 0.275
    seed = 0
  [../]
[]

[Kernels]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    variable = pgas
  [../]
  [./flux0]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    variable = pgas
  [../]
  [./diff0]
    type = PorousFlowDispersiveFlux
    fluid_component = 0
    variable = pgas
    disp_long = &#x27;0 0&#x27;
    disp_trans = &#x27;0 0&#x27;
  [../]
  [./mass1]
    type = PorousFlowMassTimeDerivative
    fluid_component = 1
    variable = zi
  [../]
  [./flux1]
    type = PorousFlowAdvectiveFlux
    fluid_component = 1
    variable = zi
  [../]
  [./diff1]
    type = PorousFlowDispersiveFlux
    fluid_component = 1
    variable = zi
    disp_long = &#x27;0 0&#x27;
    disp_trans = &#x27;0 0&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pgas zi&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureConst
    pc = 0
  [../]
  [./fs]
    type = PorousFlowBrineCO2
    brine_fp = brine
    co2_fp = co2
    capillary_pressure = pc
  [../]
[]

[Modules]
  [./FluidProperties]
    [./co2sw]
      type = CO2FluidProperties
    [../]
    [./co2]
      type = TabulatedFluidProperties
      fp = co2sw
    [../]
    [./brine]
      type = BrineFluidProperties
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
    temperature = &#x27;45&#x27;
  [../]
  [./brineco2]
    type = PorousFlowFluidState
    gas_porepressure = &#x27;pgas&#x27;
    z = &#x27;zi&#x27;
    temperature_unit = Celsius
    xnacl = &#x27;xnacl&#x27;
    capillary_pressure = pc
    fluid_state = fs
  [../]
  [./porosity]
    type = PorousFlowPorosityConst
    porosity = porosity
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1e-11 0 0 0 1e-11 0 0 0 1e-11&#x27;
  [../]
  [./relperm_water]
    type = PorousFlowRelativePermeabilityCorey
    phase = 0
    n = 2
    s_res = 0.1
    sum_s_res = 0.2
  [../]
  [./relperm_gas]
    type = PorousFlowRelativePermeabilityCorey
    phase = 1
    n = 2
    s_res = 0.1
    sum_s_res = 0.2
  [../]
  [./diffusivity]
    type = PorousFlowDiffusivityConst
    diffusion_coeff = &#x27;2e-9 2e-9 2e-9 2e-9&#x27;
    tortuosity = &#x27;1 1&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./mumps_is_best_for_parallel_jobs]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
  [./basic]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-ksp_type -pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27;gmres      asm      lu           NONZERO                   2             &#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  end_time = 1e6
  nl_max_its = 25
  l_max_its = 100
  dtmax = 1e4
  nl_abs_tol = 1e-6
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 10
    growth_factor = 2
    cutback_factor = 0.5
  [../]
[]

[Functions]
  [./flux]
    type = ParsedFunction
    vals = &#x27;delta_xco2 dt&#x27;
    vars = &#x27;dx dt&#x27;
    value = &#x27;dx/dt&#x27;
  [../]
[]

[Postprocessors]
  [./total_co2_in_gas]
    type = PorousFlowFluidMass
    phase = 1
    fluid_component = 1
  [../]
  [./total_co2_in_liquid]
    type = PorousFlowFluidMass
    phase = 0
    fluid_component = 1
  [../]
  [./numdofs]
    type = NumDOFs
  [../]
  [./delta_xco2]
    type = ChangeOverTimePostprocessor
    postprocessor = total_co2_in_liquid
  [../]
  [./dt]
    type = TimestepSize
  [../]
  [./flux]
    type = FunctionValuePostprocessor
    function = flux
  [../]
[]

[Outputs]
  print_linear_residuals = false
  perf_graph = true
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bbca240c-4d75-4548-a813-e352d3a6ec4a"><div class="modal-content"><h4>test/tests/functions/image_function/threshold_adapt.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
[]

[Variables]
  [u]
  []
[]

[Functions]
  [image_func]
    type = ImageFunction
    file_base = stack/test
    file_suffix = png
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    threshold = 2.7e4
    upper_value = 1
    lower_value = -1
  []
[]

[ICs]
  [u_ic]
    type = FunctionIC
    function = image_func
    variable = u
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.1
[]

[Adaptivity]
  max_h_level = 5
  initial_steps = 5
  initial_marker = marker
  [Indicators]
    [indicator]
      type = GradientJumpIndicator
      variable = u
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.9
    []
  []
[]

[Outputs]
  exodus = true
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c498e345-0546-41ee-b988-92de023d4610"><div class="modal-content"><h4>test/tests/outputs/oversample/ex02_adapt.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
  nz = 0
  zmax = 0
  elem_type = QUAD9
[]

[Variables]
  [./diffused]
    order = SECOND
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = diffused
  [../]
[]

[DiracKernels]
  [./foo]
    variable = diffused
    type = ConstantPointSource
    value = 1
    point = &#x27;0.3 0.3 0.0&#x27;
  [../]
[]

[BCs]
  [./all]
    type = DirichletBC
    variable = diffused
    boundary = &#x27;bottom left right top&#x27;
    value = 0.0
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
[]

[Adaptivity]
  max_h_level = 2
  initial_steps = 2
  marker = marker
  steps = 2
  initial_marker = marker
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = diffused
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.5
    [../]
  [../]
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
  [./os2]
    type = Exodus
    refinements = 2
  [../]
  [./os4]
    type = Exodus
    refinements = 4
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d4262f05-c211-457c-82c0-ef5d9708026c"><div class="modal-content"><h4>test/tests/functions/image_function/image.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 10
  ny = 10
  nz = 10
[]

[Adaptivity]
  max_h_level = 5
  initial_steps = 5
  initial_marker = marker
  [Indicators]
    [indicator]
      type = GradientJumpIndicator
      variable = u
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.9
    []
  []
[]

[Variables]
  [u]
  []
[]

[Functions]
  [image_func]
    type = ImageFunction
    file = stack/test_00.png
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[ICs]
  [u_ic]
    type = FunctionIC
    function = image_func
    variable = u
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6ef4f4f2-5212-4963-bcc2-6eeaec09ccc9"><div class="modal-content"><h4>modules/phase_field/examples/grain_growth/grain_growth_2D_voronoi_newadapt.i</h4><pre class="moose-pre"><code class="language-text"># This simulation predicts GB migration of a 2D copper polycrystal with 15 grains
# Mesh adaptivity (new system) and time step adaptivity are used
# An AuxVariable is used to calculate the grain boundary locations
# Postprocessors are used to record time step and the number of grains
# We are not using the GrainTracker in this example so the number
# of order paramaters must match the number of grains.

[Mesh]
  # Mesh block.  Meshes can be read in or automatically generated
  type = GeneratedMesh
  dim = 2 # Problem dimension
  nx = 12 # Number of elements in the x-direction
  ny = 12 # Number of elements in the y-direction
  nz = 0 # Number of elements in the z-direction
  xmin = 0    # minimum x-coordinate of the mesh
  xmax = 1000 # maximum x-coordinate of the mesh
  ymin = 0    # minimum y-coordinate of the mesh
  ymax = 1000 # maximum y-coordinate of the mesh
  zmin = 0
  zmax = 0
  elem_type = QUAD4 # Type of elements used in the mesh
  uniform_refine = 3 # Initial uniform refinement of the mesh

  parallel_type = replicated # Periodic BCs
[]

[GlobalParams]
  # Parameters used by several kernels that are defined globally to simplify input file
  op_num = 15 # Number of grains
  var_name_base = gr # Base name of grains
[]

[UserObjects]
  [./voronoi]
    type = PolycrystalVoronoi
    grain_num = 15
    rand_seed = 42
    coloring_algorithm = bt # We must use bt to force the UserObject to assign one grain to each op
  [../]
[]

[ICs]
  [./PolycrystalICs]
    [./PolycrystalColoringIC]
      polycrystal_ic_uo = voronoi
    [../]
  [../]
[]

[Variables]
  # Variable block, where all variables in the simulation are declared
  [./PolycrystalVariables]
    # Custom action that created all of the grain variables and sets their initial condition
  [../]
[]

[AuxVariables]
  # Dependent variables
  [./bnds]
    # Variable used to visualize the grain boundaries in the simulation
  [../]
[]

[Kernels]
  # Kernel block, where the kernels defining the residual equations are set up.
  [./PolycrystalKernel]
    # Custom action creating all necessary kernels for grain growth.  All input parameters are up in GlobalParams
  [../]
[]

[AuxKernels]
  # AuxKernel block, defining the equations used to calculate the auxvars
  [./bnds_aux]
    # AuxKernel that calculates the GB term
    type = BndsCalcAux
    variable = bnds
    execute_on = timestep_end
  [../]
[]

[BCs]
  # Boundary Condition block
  [./Periodic]
    [./top_bottom]
      auto_direction = &#x27;x y&#x27; # Makes problem periodic in the x and y directions
    [../]
  [../]
[]

[Materials]
  [./CuGrGr]
    # Material properties
    type = GBEvolution # Quantitative material properties for copper grain growth.  Dimensions are nm and ns
    GBmob0 = 2.5e-6 # Mobility prefactor for Cu from Schonfelder1997
    GBenergy = 0.708 # GB energy for Cu from Schonfelder1997
    Q = 0.23 # Activation energy for grain growth from Schonfelder 1997
    T = 450 # Constant temperature of the simulation (for mobility calculation)
    wGB = 14 # Width of the diffuse GB
  [../]
[]

[Postprocessors]
  # Scalar postprocessors
  [./dt]
    # Outputs the current time step
    type = TimestepSize
  [../]
[]

[Executioner]
  type = Transient # Type of executioner, here it is transient with an adaptive time step
  scheme = bdf2 # Type of time integration (2nd order backward euler), defaults to 1st order backward euler

  #Preconditioned JFNK (default)
  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart -mat_mffd_type&#x27;
  petsc_options_value = &#x27;hypre    boomeramg      101                ds&#x27;

  l_max_its = 30 # Max number of linear iterations
  l_tol = 1e-4 # Relative tolerance for linear solves
  nl_max_its = 40 # Max number of nonlinear iterations
  nl_abs_tol = 1e-11 # Relative tolerance for nonlienar solves
  nl_rel_tol = 1e-10 # Absolute tolerance for nonlienar solves

  [./TimeStepper]
    type = SolutionTimeAdaptiveDT
    dt = 25 # Initial time step.  In this simulation it changes.
  [../]

  start_time = 0.0
  end_time = 4000
  num_steps = 3
[]

[Adaptivity]
  marker = errorfrac
  max_h_level = 4
  [./Indicators]
    [./error]
      type = GradientJumpIndicator
      variable = bnds
    [../]
  [../]
  [./Markers]
    [./bound_adapt]
      type = ValueThresholdMarker
      third_state = DO_NOTHING
      coarsen = 1.0
      refine = 0.99
      variable = bnds
      invert = true
    [../]
    [./errorfrac]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = error
      refine = 0.7
    [../]
  [../]
[]

[Outputs]
  exodus = true
  csv = true
  [./console]
    type = Console
    max_rows = 20
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="375a4aaf-9f8b-48d6-a86c-06eab2454769"><div class="modal-content"><h4>modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_2d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
[]

[Variables/u]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [time]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 3
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  steps = 1
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [Indicators/indicator]
    type = GradientJumpIndicator
    variable = u
  []
  [Markers/marker]
    type = ErrorFractionMarker
    indicator = indicator
    coarsen = 0.1
    refine = 0.1
  []
[]

[UserObjects/study]
  type = LotsOfRaysRayStudy
  ray_kernel_coverage_check = false
  vertex_to_vertex = true
  centroid_to_vertex = true
  centroid_to_centroid = true
  execute_on = timestep_end
[]

[RayBCs/kill]
  type = KillRayBC
  boundary = &#x27;top right bottom left&#x27;
[]

[Postprocessors]
  [total_distance]
    type = RayTracingStudyResult
    study = study
    result = total_distance
    execute_on = timestep_end
  []
  [total_rays]
    type = RayTracingStudyResult
    study = study
    result = total_rays_started
    execute_on = timestep_end
  []
[]

[Outputs]
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a4648dbd-c941-4ff2-b27f-ef854eab365a"><div class="modal-content"><h4>test/tests/executioners/adapt_and_modify/adapt_and_modify_heavy.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # This example uses Adaptivity Indicators, which are written out as
  # CONSTANT MONOMIAL variables, which don&#x27;t currently work correctly
  # 2122 for more information.
  type = GeneratedMesh
  dim = 2
  nx = 15
  ny = 15
#  parallel_type = replicated
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./elem]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./td]
    type = TimeDerivative
    variable = u
  [../]
[]

[AuxKernels]
  [./elem]
    type = UniqueIDAux
    variable = elem
    execute_on = timestep_begin
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[UserObjects]
  [./rh_uo]
    type = RandomHitUserObject
    execute_on = timestep_begin
    num_hits = 1
  [../]
  [./rhsm]
    type = RandomHitSolutionModifier
    execute_on = custom
    modify = u
    random_hits = rh_uo
    amount = 10
  [../]
[]

[Executioner]
  type = AdaptAndModify
  num_steps = 400
  dt = 2e-4
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
  adapt_cycles = 2
[]

[Adaptivity]
  marker = rhm # Switch to combo to get the effect of both
  [./Indicators]
    [./gji]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./rhm]
      type = RandomHitMarker
      random_hits = rh_uo
    [../]
    [./efm]
      type = ErrorFractionMarker
      coarsen = 0.2
      indicator = gji
      refine = 0.8
    [../]
    [./combo]
      type = ComboMarker
      markers = &#x27;efm rhm&#x27;
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b3c09d28-4fc8-42e8-bf04-0efcacc2ebe6"><div class="modal-content"><h4>tutorials/darcy_thermo_mech/step10_multiapps/problems/step10_micro.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  ymax = 0.1
  xmax = 0.1
  uniform_refine = 0
[]

[Adaptivity]
  max_h_level = 4
  initial_steps = 6
  initial_marker = error_marker
  cycles_per_step = 2
  marker = error_marker
  [Indicators]
    [phi_jump]
      type = GradientJumpIndicator
      variable = phi
    []
  []
  [Markers]
    [error_marker]
      type = ErrorFractionMarker
      indicator = phi_jump
      refine = 0.8
      coarsen = 0.1
    []
  []
[]

[Variables]
  [temperature]
    initial_condition = 300
  []
[]

[AuxVariables]
  [phi]
  []
  [por_var]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [corrosion]
    type = RandomCorrosion
    variable = phi
    reference_temperature = 300
    temperature = temperature_in
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
  [por_var]
    type = ADMaterialRealAux
    variable = por_var
    property = porosity
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
[]

[Kernels]
  [heat_conduction]
    type = ADHeatConduction
    variable = temperature
  []
[]

[BCs]
  [left]
    type = PostprocessorDirichletBC
    variable = temperature
    boundary = left
    postprocessor = temperature_in
  []
  [right]
    type = NeumannBC
    variable = temperature
    boundary = right
    value = 100 # prescribed flux
  []
[]

[Materials]
  [column]
    type = PackedColumn
    temperature = temperature
    radius = 1 # mm
    phase = phi
  []
[]

[Postprocessors]
  [temperature_in]
    type = Receiver
    default = 301
  []
  [k_eff]
    type = ThermalConductivity
    variable = temperature
    T_hot = temperature_in
    flux = 100
    dx = 0.1
    boundary = right
    length_scale = 1
    k0 = 12.05
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
  [por_var]
    type = ElementAverageValue
    variable = por_var
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
  [t_right]
    type = SideAverageValue
    boundary = right
    variable = temperature
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
[]

[Executioner]
  type = Transient
  end_time = 1000
  dt = 1
  steady_state_tolerance = 1e-9
  steady_state_detection = true
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
  automatic_scaling = true
[]

[Outputs]
  execute_on = &#x27;initial timestep_end&#x27;
  exodus = true
[]

[ICs]
  [close_pack]
    radius = 0.01 # meter
    outvalue = 0  # water
    variable = phi
    invalue = 1   # steel
    type = ClosePackIC
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="04ce9cb6-d078-484a-819e-45b7ea8b3649"><div class="modal-content"><h4>test/tests/markers/error_fraction_marker/error_fraction_marker_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  nz = 10
[]

[Variables]
  [u]
    order = FIRST
    family = LAGRANGE
  []
[]

[Functions]
  [solution]
    type = ParsedFunction
    value = (exp(x)-1)/(exp(1)-1)
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [conv]
    type = Convection
    variable = u
    velocity = &#x27;1 0 0&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Adaptivity]
  [Indicators]
    [error]
      type = AnalyticalIndicator
      variable = u
      function = solution
    []
  []
  [Markers]
    [marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = error
      refine = 0.3
    []
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="efe016b6-f0d6-4e98-8726-258c33057f7a"><div class="modal-content"><h4>test/tests/dgkernels/adaptivity/adaptivity.i</h4><pre class="moose-pre"><code class="language-text"># This input file is used for two tests:
# 1) Check that DGKernels work with mesh adaptivity
# 2) Error out when DGKernels are used with adaptivity
#    and stateful material prpoerties

[Mesh]
  type = GeneratedMesh
  dim = 3
  nx = 2
  ny = 2
  nz = 2
  parallel_type = &#x27;replicated&#x27;
[]

[Variables]
  [./u]
    order = FIRST
    family = MONOMIAL

    [./InitialCondition]
      type = ConstantIC
      value = 1
    [../]
  [../]
[]

[Functions]
  [./forcing_fn]
    type = ParsedFunction
    value = (x*x*x)-6.0*x
  [../]

  [./bc_fn]
    type = ParsedFunction
    value = (x*x*x)
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = diffusivity
  [../]
  [./abs]
    type = Reaction
    variable = u
  [../]
  [./forcing]
    type = BodyForce
    variable = u
    function = forcing_fn
  [../]
[]

[DGKernels]
  [./dgdiff]
    type = DGDiffusion
    variable = u
    sigma = 6
    epsilon = -1.0
    diff = diffusivity
  [../]
[]

[BCs]
  active = &#x27;all&#x27;

  [./all]
    type = DGMDDBC
    variable = u
    boundary = &#x27;1 2 3 4&#x27;
    function = bc_fn
    prop_name = diffusivity
    sigma = 6
    epsilon = -1.0
  [../]
[]

[Materials]
  active = &#x27;constant&#x27;
  [./stateful]
    type = StatefulTest
    prop_names = &#x27;diffusivity&#x27;
    prop_values = &#x27;1&#x27;
  [../]
  [./constant]
    type = GenericConstantMaterial
    prop_names = &#x27;diffusivity&#x27;
    prop_values = &#x27;1&#x27;
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Adaptivity]
  marker = &#x27;marker&#x27;
  steps = 1
  [./Indicators]
    [./error]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      coarsen = 0.5
      indicator = error
      refine = 0.5
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e60bce6b-d9ca-49ac-ac9b-ff50abbf43a1"><div class="modal-content"><h4>test/tests/adaptivity/cycles_per_step/cycles_per_step.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  []
  [time]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  initial_steps = 2
  cycles_per_step = 2
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [Indicators/indicator]
    type = GradientJumpIndicator
    variable = u
  []
  [Markers/marker]
    type = ErrorFractionMarker
    indicator = indicator
    coarsen = 0.1
    refine = 0.7
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="38a343b5-32c2-4495-837c-82855ca7e364"><div class="modal-content"><h4>test/tests/adaptivity/cycles_per_step/test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  initial_steps = 2
  steps = 1
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = indicator
      coarsen = 0.1
      refine = 0.7
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a8f539a5-4026-4aa1-95f5-a56e1cfe31a7"><div class="modal-content"><h4>modules/ray_tracing/test/tests/trace_ray/adaptivity/adaptivity_1d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 2
  []
[]

[Variables/u]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [time]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 3
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Adaptivity]
  steps = 1
  marker = marker
  initial_marker = marker
  max_h_level = 2
  [Indicators/indicator]
    type = GradientJumpIndicator
    variable = u
  []
  [Markers/marker]
    type = ErrorFractionMarker
    indicator = indicator
    coarsen = 0.1
    refine = 0.1
  []
[]

[UserObjects/study]
  type = LotsOfRaysRayStudy
  ray_kernel_coverage_check = false
  vertex_to_vertex = true
  centroid_to_vertex = true
  centroid_to_centroid = true
  execute_on = timestep_end
[]

[RayBCs/kill]
  type = KillRayBC
  boundary = &#x27;left right&#x27;
[]

[Postprocessors]
  [total_distance]
    type = RayTracingStudyResult
    study = study
    result = total_distance
    execute_on = timestep_end
  []
  [total_rays]
    type = RayTracingStudyResult
    study = study
    result = total_rays_started
    execute_on = timestep_end
  []
[]

[Outputs]
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="dac37f13-8028-4c0c-970f-34223dd8f4fa"><div class="modal-content"><h4>modules/porous_flow/test/tests/recover/theis.i</h4><pre class="moose-pre"><code class="language-text"># Tests that PorousFlow can successfully recover using a checkpoint file.
# This test contains stateful material properties, adaptivity and integrated
# boundary conditions with nodal-sized materials.
#
# This test file is run three times:
# 1) The full input file is run to completion
# 2) The input file is run for half the time and checkpointing is included
# 3) The input file is run in recovery using the checkpoint data
#
# The final output of test 3 is compared to the final output of test 1 to verify
# that recovery was successful.

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 20
  xmax = 100
  bias_x = 1.05
[]

[Problem]
  type = FEProblem
  coord_type = RZ
  rz_coord_axis = Y
[]

[GlobalParams]
  PorousFlowDictator = dictator
  gravity = &#x27;0 0 0&#x27;
[]

[Adaptivity]
  marker = marker
  max_h_level = 4
  [./Indicators]
    [./front]
      type = GradientJumpIndicator
      variable = zi
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = front
      refine = 0.8
      coarsen = 0.2
    [../]
  [../]
[]

[AuxVariables]
  [./saturation_gas]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./x1]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./y0]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_gas]
    type = PorousFlowPropertyAux
    variable = saturation_gas
    property = saturation
    phase = 1
    execute_on = timestep_end
  [../]
  [./x1]
    type = PorousFlowPropertyAux
    variable = x1
    property = mass_fraction
    phase = 0
    fluid_component = 1
    execute_on = timestep_end
  [../]
  [./y0]
    type = PorousFlowPropertyAux
    variable = y0
    property = mass_fraction
    phase = 1
    fluid_component = 0
    execute_on = timestep_end
  [../]
[]

[Variables]
  [./pgas]
    initial_condition = 20e6
  [../]
  [./zi]
    initial_condition = 0
  [../]
[]

[Kernels]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    variable = pgas
  [../]
  [./flux0]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    variable = pgas
  [../]
  [./mass1]
    type = PorousFlowMassTimeDerivative
    fluid_component = 1
    variable = zi
  [../]
  [./flux1]
    type = PorousFlowAdvectiveFlux
    fluid_component = 1
    variable = zi
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pgas zi&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureConst
    pc = 0
  [../]
  [./fs]
    type = PorousFlowWaterNCG
    water_fp = water
    gas_fp = co2
    capillary_pressure = pc
  [../]
[]

[Modules]
  [./FluidProperties]
    [./co2]
      type = CO2FluidProperties
    [../]
    [./water]
      type = Water97FluidProperties
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./waterncg]
    type = PorousFlowFluidState
    gas_porepressure = pgas
    z = zi
    temperature_unit = Celsius
    capillary_pressure = pc
    fluid_state = fs
  [../]
  [./porosity]
    type = PorousFlowPorosityConst
    porosity = 0.2
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1e-12 0 0 0 1e-12 0 0 0 1e-12&#x27;
  [../]
  [./relperm_water]
    type = PorousFlowRelativePermeabilityCorey
    n = 2
    phase = 0
    s_res = 0.1
    sum_s_res = 0.1
  [../]
  [./relperm_gas]
    type = PorousFlowRelativePermeabilityCorey
    n = 2
    phase = 1
  [../]
[]

[BCs]
  [./aquifer]
    type = PorousFlowPiecewiseLinearSink
    variable = pgas
    boundary = right
    pt_vals = &#x27;0 1e8&#x27;
    multipliers = &#x27;0 1e8&#x27;
    flux_function = 1e-6
    PT_shift = 20e6
  [../]
[]

[DiracKernels]
  [./source]
    type = PorousFlowSquarePulsePointSource
    point = &#x27;0 0 0&#x27;
    mass_flux = 2
    variable = zi
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  end_time = 2e2
  dt = 50
[]

[VectorPostprocessors]
  [./line]
    type = NodalValueSampler
    sort_by = x
    variable = &#x27;pgas zi&#x27;
  [../]
[]

[Outputs]
  print_linear_residuals = false
  perf_graph = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="09af0e51-7734-4f9a-afd3-88ded3daf825"><div class="modal-content"><h4>examples/ex05_amr/ex05.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = cube-hole.e
[]

# This is where mesh adaptivity magic happens:
[Adaptivity]
  marker = errorfrac # this specifies which marker from &#x27;Markers&#x27; subsection to use
  steps = 2 # run adaptivity 2 times, recomputing solution, indicators, and markers each time

  # Use an indicator to compute an error-estimate for each element:
  [./Indicators]
    # create an indicator computing an error metric for the convected variable
    [./error] # arbitrary, use-chosen name
      type = GradientJumpIndicator
      variable = convected
      outputs = none
    [../]
  [../]

  # Create a marker that determines which elements to refine/coarsen based on error estimates
  # from an indicator:
  [./Markers]
    [./errorfrac] # arbitrary, use-chosen name (must match &#x27;marker=...&#x27; name above
      type = ErrorFractionMarker
      indicator = error # use the &#x27;error&#x27; indicator specified above
      refine = 0.5 # split/refine elements in the upper half of the indicator error range
      coarsen = 0 # don&#x27;t do any coarsening
      outputs = none
    [../]
  [../]
[]

[Variables]
  [./convected]
    order = FIRST
    family = LAGRANGE
  [../]
  [./diffused]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./example_diff]
    type = ExampleCoefDiffusion
    variable = convected
    coef = 0.125
  [../]
  [./conv]
    type = ExampleConvection
    variable = convected
    some_variable = diffused
  [../]
  [./diff]
    type = Diffusion
    variable = diffused
  [../]
[]

[BCs]
  # convected=0 on all vertical sides except the right (x-max)
  [./cylinder_convected]
    type = DirichletBC
    variable = convected
    boundary = inside
    value = 1
  [../]
  [./exterior_convected]
    type = DirichletBC
    variable = convected
    boundary = &#x27;left top bottom&#x27;
    value = 0
  [../]
  [./left_diffused]
    type = DirichletBC
    variable = diffused
    boundary = left
    value = 0
  [../]
  [./right_diffused]
    type = DirichletBC
    variable = diffused
    boundary = right
    value = 10
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;

  l_tol = 1e-3
  nl_rel_tol = 1e-12
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="fffdca2a-ff11-44d3-9643-0b0f64daaec0"><div class="modal-content"><h4>modules/level_set/test/tests/transfers/markers/multi_level/master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  uniform_refine = 2
[]

[Adaptivity]
  marker = marker
  max_h_level = 2
  cycles_per_step = 2
  [./Indicators]
    [./error]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      coarsen = 0.4
      refine = 0.5
      indicator = error
    [../]
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Problem]
  type = LevelSetProblem
[]

[Executioner]
  type = Transient
  dt = 0.02
  num_steps = 4
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [./sub]
    type = TransientMultiApp
    input_files = &#x27;sub.i&#x27;
    execute_on = TIMESTEP_END
  [../]
[]

[Transfers]
  [./marker_to_sub]
    type = LevelSetMeshRefinementTransfer
    multi_app = sub
    source_variable = marker
    variable = marker
    check_multiapp_execute_on = false
  [../]
[]

[Outputs]
  hide = u
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e351eb59-2d14-4173-ae31-a023f18bc54e"><div class="modal-content"><h4>test/tests/outputs/system_info/system_info_mesh.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Adaptivity]
  marker = marker
  max_h_level = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      coarsen = 0.1
      indicator = indicator
      refine = 0.7
    [../]
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./aux_u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 3
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  print_mesh_changed_info = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="41f6db8b-b20c-4ede-9691-e240fa1d18f3"><div class="modal-content"><h4>test/tests/auxkernels/solution_aux/aux_nonlinear_solution_adapt.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 2
  ny = 2
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[AuxVariables]
  [./u_aux]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[AuxKernels]
  [./aux_kernel]
    type = FunctionAux
    function = x*y
    variable = u_aux
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = 2
    value = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  nl_rel_tol = 1e-10
[]

[Adaptivity]
  marker = error_frac
  steps = 3
  [./Indicators]
    [./jump_indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./error_frac]
      type = ErrorFractionMarker
      indicator = jump_indicator
      refine = 0.7
    [../]
  [../]
[]

[Outputs]
  xda = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8abf9437-edc8-4c72-a39b-a941337921b2"><div class="modal-content"><h4>tutorials/darcy_thermo_mech/step07_adaptivity/problems/step7d_adapt_blocks.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 40
  ny = 4
  xmax = 0.304 # Length of test chamber
  ymax = 0.0257 # Test chamber radius
  uniform_refine = 3
[]

[MeshModifiers]
  [bottom]
    type = SubdomainBoundingBox
    location = inside
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.304 0.01285 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [pressure]
  []
  [temperature]
    initial_condition = 300 # Start at room temperature
  []
[]

[AuxVariables]
  [velocity]
    order = CONSTANT
    family = MONOMIAL_VEC
  []
[]

[Kernels]
  [darcy_pressure]
    type = DarcyPressure
    variable = pressure
  []
  [heat_conduction]
    type = ADHeatConduction
    variable = temperature
  []
  [heat_conduction_time_derivative]
    type = ADHeatConductionTimeDerivative
    variable = temperature
  []
  [heat_convection]
    type = DarcyAdvection
    variable = temperature
    pressure = pressure
  []
[]

[AuxKernels]
  [velocity]
    type = DarcyVelocity
    variable = velocity
    execute_on = timestep_end
    pressure = pressure
  []
[]

[BCs]
  [inlet]
    type = DirichletBC
    variable = pressure
    boundary = left
    value = 4000 # (Pa) From Figure 2 from paper.  First data point for 1mm spheres.
  []
  [outlet]
    type = DirichletBC
    variable = pressure
    boundary = right
    value = 0 # (Pa) Gives the correct pressure drop from Figure 2 for 1mm spheres
  []
  [inlet_temperature]
    type = FunctionDirichletBC
    variable = temperature
    boundary = left
    function = &#x27;if(t&lt;0,350+50*t,350)&#x27;
  []
  [outlet_temperature]
    type = HeatConductionOutflow
    variable = temperature
    boundary = right
  []
[]

[Materials]
  viscosity_file = data/water_viscosity.csv
  density_file = data/water_density.csv
  thermal_conductivity_file = data/water_thermal_conductivity.csv
  specific_heat_file = data/water_specific_heat.csv

  [column_bottom]
    type = PackedColumn
    block = 1
    radius = 1.15
    temperature = temperature
    fluid_viscosity_file = ${viscosity_file}
    fluid_density_file = ${density_file}
    fluid_thermal_conductivity_file = ${thermal_conductivity_file}
    fluid_specific_heat_file = ${specific_heat_file}
  []
  [column_top]
    type = PackedColumn
    block = 0
    radius = 1
    temperature = temperature
    porosity = &#x27;0.25952 + 0.7*x/0.304&#x27;
    fluid_viscosity_file = ${viscosity_file}
    fluid_density_file = ${density_file}
    fluid_thermal_conductivity_file = ${thermal_conductivity_file}
    fluid_specific_heat_file = ${specific_heat_file}
  []
[]

[Problem]
  type = FEProblem
  coord_type = RZ
  rz_coord_axis = X
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  automatic_scaling = true

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;

  end_time = 100
  dt = 0.25
  start_time = -1

  steady_state_tolerance = 1e-5
  steady_state_detection = true

  [TimeStepper]
    type = FunctionDT
    function = &#x27;if(t&lt;0,0.1,0.25)&#x27;
  []
[]

[Adaptivity]
  marker = error_frac
  max_h_level = 3
  [Indicators]
    [temperature_jump]
      type = GradientJumpIndicator
      variable = temperature
      scale_by_flux_faces = true
    []
  []
  [Markers]
    [error_frac]
      type = ErrorFractionMarker
      coarsen = 0.025
      indicator = temperature_jump
      refine = 0.9
    []
  []
[]

[Outputs]
  [out]
    type = Exodus
    output_material_properties = true
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5d738980-b2fa-41c1-ae0c-28d88de7a748"><div class="modal-content"><h4>modules/richards/test/tests/buckley_leverett/bl01_adapt.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 15
  xmin = 0
  xmax = 15
[]


[GlobalParams]
  richardsVarNames_UO = PPNames
[]

[UserObjects]
  [./PPNames]
    type = RichardsVarNames
    richards_vars = pressure
  [../]
  [./DensityConstBulk]
    type = RichardsDensityConstBulk
    dens0 = 1000
    bulk_mod = 2.0E6
  [../]
  [./SeffVG]
    type = RichardsSeff1VG
    m = 0.8
    al = 1E-4
  [../]
  [./RelPermPower]
    type = RichardsRelPermPower
    simm = 0.0
    n = 2
  [../]
  [./Saturation]
    type = RichardsSat
    s_res = 0.0
    sum_s_res = 0.0
  [../]
  [./SUPGstandard]
    type = RichardsSUPGstandard
    p_SUPG = 1E-5
  [../]
[]


[AuxVariables]
  [./Seff1VG_Aux]
  [../]
[]

[AuxKernels]
  active = &#x27;calculate_seff&#x27;
  [./calculate_seff]
    type = RichardsSeffAux
    variable = Seff1VG_Aux
    seff_UO = SeffVG
    pressure_vars = pressure
  [../]
[]

[Variables]
  [./pressure]
    order = FIRST
    family = LAGRANGE
    [./InitialCondition]
      type = FunctionIC
      function = initial_pressure
    [../]
  [../]
[]

[BCs]
  active = &#x27;left&#x27;
  [./left]
    type = DirichletBC
    variable = pressure
    boundary = left
    value = 980000
  [../]
[]

[Kernels]
  active = &#x27;richardsf richardst&#x27;

  [./richardst]
    type = RichardsMassChange
    variable = pressure
  [../]
  [./richardsf]
    type = RichardsFlux
    variable = pressure
  [../]
[]


[Functions]
 active = &#x27;initial_pressure&#x27;
  [./initial_pressure]
    type = ParsedFunction
    value = max((1000000-x/5*1000000)-20000,-20000)
  [../]
[]


[Materials]
  [./rock]
    type = RichardsMaterial
    block = 0
    mat_porosity = 0.15
    mat_permeability = &#x27;1E-10 0 0  0 1E-10 0  0 0 1E-10&#x27;
    density_UO = DensityConstBulk
    relperm_UO = RelPermPower
    SUPG_UO = SUPGstandard
    sat_UO = Saturation
    seff_UO = SeffVG
    viscosity = 1E-3
    gravity = &#x27;-1 0 0&#x27;
    linear_shape_fcns = true
  [../]
[]


[Adaptivity]
  marker = errorfrac
  max_h_level = 3
  [./Indicators]
    [./error]
      type = RichardsFluxJumpIndicator
      variable = pressure
    [../]
  [../]
  [./Markers]
    [./errorfrac]
      type = ErrorFractionMarker
      refine = 0.5
      coarsen = 0.3
      indicator = error
   [../]
  [../]
[]

[Preconditioning]
  active = &#x27;andy&#x27;

  [./andy]
    type = SMP
    full = true
    petsc_options = &#x27;-snes_converged_reason&#x27;
    petsc_options_iname = &#x27;-ksp_type -pc_type -snes_atol -snes_rtol -snes_max_it&#x27;
    petsc_options_value = &#x27;bcgs bjacobi 1E-10 1E-10 20&#x27;
  [../]

[]

[Executioner]
  type = Transient
  end_time = 50


  [./TimeStepper]
    type = FunctionControlledDT
    functions = &#x27;&#x27;
    maximums = &#x27;&#x27;
    minimums = &#x27;&#x27;
    dt = 0.3
    increment = 1.1
    decrement = 1.1
    maxDt = 0.3
    minDt = 1E-5
    adapt_log = false
    percent_change = 0.1
  [../]

[]

[Outputs]
  file_base = bl01_adapt
  interval = 10000
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9190e883-8fec-4d80-9042-29a1a48237cf"><div class="modal-content"><h4>modules/porous_flow/examples/lava_lamp/1phase_convection.i</h4><pre class="moose-pre"><code class="language-text"># Two phase density-driven convection of dissolved CO2 in brine
#
# The model starts with CO2 in the liquid phase only.  The CO2 diffuses into the brine.
# As the density of the CO2-saturated brine is greater
# than the unsaturated brine, a gravitational instability arises and density-driven
# convection of CO2-rich fingers descend into the unsaturated brine.
#
# The instability is seeded by a random perturbation to the porosity field.
# Mesh adaptivity is used to refine the mesh as the fingers form.
#
# Note: this model is computationally expensive, so should be run with multiple cores.

[GlobalParams]
  PorousFlowDictator = &#x27;dictator&#x27;
  gravity = &#x27;0 -9.81 0&#x27;
[]

[Adaptivity]
  max_h_level = 2
  marker = marker
  initial_marker = initial
  initial_steps = 2
  [./Indicators]
    [./indicator]
      type = GradientJumpIndicator
      variable = zi
    [../]
  [../]
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = indicator
      refine = 0.8
    [../]
    [./initial]
      type = BoxMarker
      bottom_left = &#x27;0 1.95 0&#x27;
      top_right = &#x27;2 2 0&#x27;
      inside = REFINE
      outside = DO_NOTHING
    [../]
  [../]
[]

[Mesh]
  type = GeneratedMesh
  dim = 2
  ymin = 1.5
  ymax = 2
  xmax = 2
  ny = 20
  nx = 40
  bias_y = 0.95
[]

[AuxVariables]
  [./xnacl]
    initial_condition = 0.01
  [../]
  [./saturation_gas]
    order = FIRST
    family = MONOMIAL
  [../]
  [./xco2l]
    order = FIRST
    family = MONOMIAL
  [../]
  [./density_liquid]
    order = FIRST
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_gas]
    type = PorousFlowPropertyAux
    variable = saturation_gas
    property = saturation
    phase = 1
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./xco2l]
    type = PorousFlowPropertyAux
    variable = xco2l
    property = mass_fraction
    phase = 0
    fluid_component = 1
    execute_on = &#x27;timestep_end&#x27;
  [../]
  [./density_liquid]
    type = PorousFlowPropertyAux
    variable = density_liquid
    property = density
    phase = 0
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]

[Variables]
  [./pgas]
  [../]
  [./zi]
    scaling = 1e4
  [../]
[]

[ICs]
  [./pressure]
    type = FunctionIC
    function = 10e6-9.81*1000*y
    variable = pgas
  [../]
  [./zi]
    type = ConstantIC
    value = 0
    variable = zi
  [../]
  [./porosity]
    type = RandomIC
    variable = porosity
    min = 0.25
    max = 0.275
    seed = 0
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    value = 0.04
    variable = zi
    boundary = top
  [../]
[]

[Kernels]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    variable = pgas
  [../]
  [./flux0]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    variable = pgas
  [../]
  [./diff0]
    type = PorousFlowDispersiveFlux
    fluid_component = 0
    variable = pgas
    disp_long = &#x27;0 0&#x27;
    disp_trans = &#x27;0 0&#x27;
  [../]
  [./mass1]
    type = PorousFlowMassTimeDerivative
    fluid_component = 1
    variable = zi
  [../]
  [./flux1]
    type = PorousFlowAdvectiveFlux
    fluid_component = 1
    variable = zi
  [../]
  [./diff1]
    type = PorousFlowDispersiveFlux
    fluid_component = 1
    variable = zi
    disp_long = &#x27;0 0&#x27;
    disp_trans = &#x27;0 0&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pgas zi&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureConst
    pc = 0
  [../]
  [./fs]
    type = PorousFlowBrineCO2
    brine_fp = brine
    co2_fp = co2
    capillary_pressure = pc
  [../]
[]

[Modules]
  [./FluidProperties]
    [./co2sw]
      type = CO2FluidProperties
    [../]
    [./co2]
      type = TabulatedFluidProperties
      fp = co2sw
    [../]
    [./brine]
      type = BrineFluidProperties
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
    temperature = &#x27;45&#x27;
  [../]
  [./brineco2]
    type = PorousFlowFluidState
    gas_porepressure = &#x27;pgas&#x27;
    z = &#x27;zi&#x27;
    temperature_unit = Celsius
    xnacl = &#x27;xnacl&#x27;
    capillary_pressure = pc
    fluid_state = fs
  [../]
  [./porosity]
    type = PorousFlowPorosityConst
    porosity = porosity
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1e-11 0 0 0 1e-11 0 0 0 1e-11&#x27;
  [../]
  [./relperm_water]
    type = PorousFlowRelativePermeabilityCorey
    phase = 0
    n = 2
    s_res = 0.1
    sum_s_res = 0.2
  [../]
  [./relperm_gas]
    type = PorousFlowRelativePermeabilityCorey
    phase = 1
    n = 2
    s_res = 0.1
    sum_s_res = 0.2
  [../]
  [./diffusivity]
    type = PorousFlowDiffusivityConst
    diffusion_coeff = &#x27;2e-9 2e-9 2e-9 2e-9&#x27;
    tortuosity = &#x27;1 1&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./mumps_is_best_for_parallel_jobs]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
  [./basic]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-ksp_type -pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27;gmres      asm      lu           NONZERO                   2             &#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  end_time = 1e6
  nl_max_its = 25
  l_max_its = 100
  dtmax = 1e4
  nl_abs_tol = 1e-6
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 100
    growth_factor = 2
    cutback_factor = 0.5
  [../]
[]

[Functions]
  [./flux]
    type = ParsedFunction
    vals = &#x27;delta_xco2 dt&#x27;
    vars = &#x27;dx dt&#x27;
    value = &#x27;dx/dt&#x27;
  [../]
[]

[Postprocessors]
  [./total_co2_in_gas]
    type = PorousFlowFluidMass
    phase = 1
    fluid_component = 1
  [../]
  [./total_co2_in_liquid]
    type = PorousFlowFluidMass
    phase = 0
    fluid_component = 1
  [../]
  [./numdofs]
    type = NumDOFs
  [../]
  [./delta_xco2]
    type = ChangeOverTimePostprocessor
    postprocessor = total_co2_in_liquid
  [../]
  [./dt]
    type = TimestepSize
  [../]
  [./flux]
    type = FunctionValuePostprocessor
    function = flux
  [../]
[]

[Outputs]
  print_linear_residuals = false
  perf_graph = true
  exodus = true
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c0e56a05-b1a0-4c64-bda1-c8880b9b3144"><div class="modal-content"><h4>modules/phase_field/examples/anisotropic_interfaces/GrandPotentialSolidification.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 28
  ny = 28
  xmin = -7
  xmax = 7
  ymin = -7
  ymax = 7
  uniform_refine = 2
[]

[GlobalParams]
  radius = 0.2
  int_width = 0.1
  x1 = 0.0
  y1 = 0.0
  derivative_order = 2
[]

[Variables]
  [./w]
  [../]
  [./etaa0]
  [../]
  [./etab0]
  [../]
  [./T]
  [../]
[]

[AuxVariables]
  [./bnds]
  [../]
[]

[AuxKernels]
  [./bnds]
    type = BndsCalcAux
    variable = bnds
    v = &#x27;etaa0 etab0&#x27;
  [../]
[]

[ICs]
  [./w]
    type = SmoothCircleIC
    variable = w
    # note w = A*(c-cleq), A = 1.0, cleq = 0.0 ,i.e., w = c (in the matrix/liquid phase)
    outvalue = -4.0
    invalue = 0.0
  [../]
  [./etaa0]
    type = SmoothCircleIC
    variable = etaa0
    #Solid phase
    outvalue = 0.0
    invalue = 1.0
  [../]
  [./etab0]
    type = SmoothCircleIC
    variable = etab0
    #Liquid phase
    outvalue = 1.0
    invalue = 0.0
  [../]
[]

[Kernels]
# Order parameter eta_alpha0
  [./ACa0_bulk]
    type = ACGrGrMulti
    variable = etaa0
    v =           &#x27;etab0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACa0_sw]
    type = ACSwitching
    variable = etaa0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etab0 w T&#x27;
  [../]
  [./ACa0_int1]
    type = ACInterface2DMultiPhase1
    variable = etaa0
    etas = &#x27;etab0&#x27;
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
  [../]
  [./ACa0_int2]
    type = ACInterface2DMultiPhase2
    variable = etaa0
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
  [../]
  [./ea0_dot]
    type = TimeDerivative
    variable = etaa0
  [../]
# Order parameter eta_beta0
  [./ACb0_bulk]
    type = ACGrGrMulti
    variable = etab0
    v =           &#x27;etaa0&#x27;
    gamma_names = &#x27;gab&#x27;
  [../]
  [./ACb0_sw]
    type = ACSwitching
    variable = etab0
    Fj_names  = &#x27;omegaa omegab&#x27;
    hj_names  = &#x27;ha     hb&#x27;
    args = &#x27;etaa0 w T&#x27;
  [../]
  [./ACb0_int1]
    type = ACInterface2DMultiPhase1
    variable = etab0
    etas = &#x27;etaa0&#x27;
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
  [../]
  [./ACb0_int2]
    type = ACInterface2DMultiPhase2
    variable = etab0
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
  [../]
  [./eb0_dot]
    type = TimeDerivative
    variable = etab0
  [../]
#Chemical potential
  [./w_dot]
    type = SusceptibilityTimeDerivative
    variable = w
    f_name = chi
  [../]
  [./Diffusion]
    type = MatDiffusion
    variable = w
    diffusivity = Dchi
  [../]
  [./coupled_etaa0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etaa0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
  [./coupled_etab0dot]
    type = CoupledSwitchingTimeDerivative
    variable = w
    v = etab0
    Fj_names = &#x27;rhoa rhob&#x27;
    hj_names = &#x27;ha   hb&#x27;
    args = &#x27;etaa0 etab0&#x27;
  [../]
  [./T_dot]
    type = TimeDerivative
    variable = T
  [../]
  [./CoefDiffusion]
    type = Diffusion
    variable = T
  [../]
  [./etaa0_dot_T]
    type = CoefCoupledTimeDerivative
    variable = T
    v = etaa0
    coef = -5.0
  [../]
[]

[Materials]
  [./ha]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = ha
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etaa0&#x27;
  [../]
  [./hb]
    type = SwitchingFunctionMultiPhaseMaterial
    h_name = hb
    all_etas = &#x27;etaa0 etab0&#x27;
    phase_etas = &#x27;etab0&#x27;
  [../]
  [./omegaa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = omegaa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;-0.5*w^2/Vm^2/ka-w/Vm*caeq&#x27;
  [../]
  [./omegab]
    type = DerivativeParsedMaterial
    args = &#x27;w T&#x27;
    f_name = omegab
    material_property_names = &#x27;Vm kb cbeq S Tm&#x27;
    function = &#x27;-0.5*w^2/Vm^2/kb-w/Vm*cbeq-S*(T-Tm)&#x27;
  [../]
  [./rhoa]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhoa
    material_property_names = &#x27;Vm ka caeq&#x27;
    function = &#x27;w/Vm^2/ka + caeq/Vm&#x27;
  [../]
  [./rhob]
    type = DerivativeParsedMaterial
    args = &#x27;w&#x27;
    f_name = rhob
    material_property_names = &#x27;Vm kb cbeq&#x27;
    function = &#x27;w/Vm^2/kb + cbeq/Vm&#x27;
  [../]
  [./kappaa]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappaa
    dkappadgrad_etaa_name = dkappadgrad_etaa
    d2kappadgrad_etaa_name = d2kappadgrad_etaa
    etaa = etaa0
    etab = etab0
    anisotropy_strength = 0.05
    kappa_bar = 0.05
    outputs = exodus
    output_properties = &#x27;kappaa&#x27;
  [../]
  [./kappab]
    type = InterfaceOrientationMultiphaseMaterial
    kappa_name = kappab
    dkappadgrad_etaa_name = dkappadgrad_etab
    d2kappadgrad_etaa_name = d2kappadgrad_etab
    etaa = etab0
    etab = etaa0
    anisotropy_strength = 0.05
    kappa_bar = 0.05
    outputs = exodus
    output_properties = &#x27;kappab&#x27;
  [../]
  [./const]
    type = GenericConstantMaterial
    prop_names =  &#x27;L     D    chi  Vm   ka    caeq kb    cbeq  gab mu   S   Tm&#x27;
    prop_values = &#x27;33.33 1.0  0.1  1.0  10.0  0.1  10.0  0.9   4.5 10.0 1.0 5.0&#x27;
  [../]
  [./Mobility]
    type = ParsedMaterial
    f_name = Dchi
    material_property_names = &#x27;D chi&#x27;
    function = &#x27;D*chi&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = bdf2
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre    boomeramg      31&#x27;
   l_tol = 1.0e-3
  l_max_its = 30
  nl_max_its = 15
  nl_rel_tol = 1.0e-8
  nl_abs_tol = 1e-10
  end_time = 2.0
  dtmax = 0.05
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 0.0005
    cutback_factor = 0.7
    growth_factor = 1.2
  [../]
[]

[Adaptivity]
 initial_steps = 5
 max_h_level = 3
 initial_marker = err_eta
 marker = err_bnds
[./Markers]
   [./err_eta]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_eta
   [../]
   [./err_bnds]
     type = ErrorFractionMarker
     coarsen = 0.3
     refine = 0.95
     indicator = ind_bnds
   [../]
 [../]
 [./Indicators]
   [./ind_eta]
     type = GradientJumpIndicator
     variable = etaa0
    [../]
    [./ind_bnds]
      type = GradientJumpIndicator
      variable = bnds
   [../]
 [../]
[]

[Outputs]
  interval = 5
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="aa5ca888-ee3d-4ccf-ab74-9eb4a36ea79f"><div class="modal-content"><h4>modules/functional_expansion_tools/examples/3D_volumetric_cylindrical_subapp_mesh_refine/sub.i</h4><pre class="moose-pre"><code class="language-text"># Derived from the example &#x27;3D_volumetric_cylindrical&#x27; with the following differences:
#
#   1) The model mesh is refined in the MasterApp by 1
#   2) Mesh adaptivity is enabled for the SubApp
#   3) Output from the SubApp is enabled so that the mesh changes can be visualized
[Mesh]
  type = FileMesh
  file = cyl-tet.e
[]

[Adaptivity]
  marker = errorfrac
  steps = 2
  [./Indicators]
    [./error]
      type = GradientJumpIndicator
      variable = s
      outputs = none
    [../]
  [../]
  [./Markers]
    [./errorfrac]
      type = ErrorFractionMarker
      refine = 0.4
      coarsen = 0.1
      indicator = error
      outputs = none
    [../]
  [../]
[]

# Non-copy transfers only work with AuxVariable, but nothing will be solved without a variable
# defined. The solution is to define an empty variable tha does nothing, but causes MOOSE to solve
# the AuxKernels that we need.
[Variables]
  [./empty]
  [../]
[]

[AuxVariables]
  [./s]
    order = FIRST
    family = LAGRANGE
  [../]
  [./m_in]
    order = FIRST
    family = LAGRANGE
  [../]
[]

# We must have a kernel for every variable, hence this null kernel to match the variable &#x27;empty&#x27;
[Kernels]
  [./null_kernel]
    type = NullKernel
    variable = empty
  [../]
[]

[AuxKernels]
  [./reconstruct_m_in]
    type = FunctionSeriesToAux
    function = FX_Basis_Value_Sub
    variable = m_in
  [../]
  [./calculate_s] # Something to make &#x27;s&#x27; change each time, but allow a converging solution
    type = ParsedAux
    variable = s
    args = m_in
    function = &#x27;2*exp(-m_in/0.8)&#x27;
  [../]
[]

[Functions]
  [./FX_Basis_Value_Sub]
    type = FunctionSeries
    series_type = CylindricalDuo
    orders = &#x27;5   3&#x27; # Axial first, then (r, t) FX
    physical_bounds = &#x27;-2.5 2.5   0 0 1&#x27; # z_min z_max   x_center y_center radius
    z = Legendre # Axial in z
    disc = Zernike # (r, t) default to unit disc in x-y plane
  [../]
[]

[UserObjects]
  [./FX_Value_UserObject_Sub]
    type = FXVolumeUserObject
    function = FX_Basis_Value_Sub
    variable = s
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.5
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  file_base = sub
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b07a43b6-2804-47f2-afb1-2331bc361790"><div class="modal-content"><h4>modules/porous_flow/test/tests/pressure_pulse/pressure_pulse_1d_adaptivity.i</h4><pre class="moose-pre"><code class="language-text"># Pressure pulse in 1D with 1 phase - transient simulation with a constant
# PorousFlowPorosity and mesh adaptivity with an indicator

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 10
  xmin = 0
  xmax = 100
[]

[Adaptivity]
  marker = marker
  [./Markers]
    [./marker]
      type = ErrorFractionMarker
      indicator = front
      refine = 0.5
      coarsen = 0.2
    [../]
  [../]
  [./Indicators]
    [./front]
      type = GradientJumpIndicator
      variable = pp
    [../]
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./pp]
    initial_condition = 2E6
  [../]
[]

[Kernels]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    variable = pp
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    variable = pp
    gravity = &#x27;0 0 0&#x27;
    fluid_component = 0
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pp&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1e-7
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2e9
      density0 = 1000
      thermal_expansion = 0
      viscosity = 1e-3
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./ppss]
    type = PorousFlow1PhaseP
    porepressure = pp
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1E-15 0 0 0 1E-15 0 0 0 1E-15&#x27;
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 0
    phase = 0
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = left
    preset = false
    value = 3E6
    variable = pp
  [../]
  [./right]
    type = PorousFlowPiecewiseLinearSink
    variable = pp
    boundary = right
    fluid_phase = 0
    pt_vals = &#x27;0 1E9&#x27;
    multipliers = &#x27;0 1E9&#x27;
    mass_fraction_component = 0
    use_mobility = true
    flux_function = 1E-6
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  dt = 1e3
  end_time = 5e3
[]

[Postprocessors]
  [./p000]
    type = PointValue
    variable = pp
    point = &#x27;0 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p010]
    type = PointValue
    variable = pp
    point = &#x27;10 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p020]
    type = PointValue
    variable = pp
    point = &#x27;20 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p030]
    type = PointValue
    variable = pp
    point = &#x27;30 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p040]
    type = PointValue
    variable = pp
    point = &#x27;40 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p050]
    type = PointValue
    variable = pp
    point = &#x27;50 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p060]
    type = PointValue
    variable = pp
    point = &#x27;60 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p070]
    type = PointValue
    variable = pp
    point = &#x27;70 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p080]
    type = PointValue
    variable = pp
    point = &#x27;80 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p090]
    type = PointValue
    variable = pp
    point = &#x27;90 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p100]
    type = PointValue
    variable = pp
    point = &#x27;100 0 0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Outputs]
  print_linear_residuals = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="53b7bb82-a0c8-405c-920d-f212f21aa075"><div class="modal-content"><h4>test/tests/auxkernels/solution_aux/aux_nonlinear_solution_adapt_xda.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # This test uses SolutionUserObject which doesn&#x27;t work with DistributedMesh.
  type = FileMesh
  file = aux_nonlinear_solution_adapt_out_0004_mesh.xda
  parallel_type = replicated
[]

[Adaptivity]
  marker = error_frac
  steps = 2
  [./Indicators]
    [./jump_indicator]
      type = GradientJumpIndicator
      variable = u
    [../]
  [../]
  [./Markers]
    [./error_frac]
      type = ErrorFractionMarker
      indicator = jump_indicator
      refine = 0.7
    [../]
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[AuxVariables]
  [./u_aux]
  [../]
[]

[Functions]
  [./u_xda_func]
    type = SolutionFunction
    solution = xda_u
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[AuxKernels]
  [./aux_xda_kernel]
    type = SolutionAux
    variable = u_aux
    solution = xda_u_aux
    execute_on = initial
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = 2
    value = 2
  [../]
[]

[UserObjects]
  [./xda_u_aux]
    type = SolutionUserObject
    system = aux0
    mesh = aux_nonlinear_solution_adapt_out_0004_mesh.xda
    es = aux_nonlinear_solution_adapt_out_0004.xda
    system_variables = u_aux
    execute_on = initial
  [../]
  [./xda_u]
    type = SolutionUserObject
    system = nl0
    mesh = aux_nonlinear_solution_adapt_out_0004_mesh.xda
    es = aux_nonlinear_solution_adapt_out_0004.xda
    system_variables = u
    execute_on = initial
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  nl_rel_tol = 1e-10
[]

[Outputs]
  exodus = true
[]

[ICs]
  [./u_func_ic]
    function = u_xda_func
    variable = u
    type = FunctionIC
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#3826ffb9-636b-4003-b6b5-35090cbba522" class="tooltipped" data-position="left" data-tooltip="Description">Description</a></li><li><a href="#d42c14b7-6b4a-48c1-b4a6-b2b2d6bb3e83" class="tooltipped" data-position="left" data-tooltip="Example Input Syntax">Example Input Syntax</a></li><li><a href="#21f34e73-4bfd-43c9-bc13-67eaf21f9ba3" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#8d2f6535-7d30-4995-a62b-ed1955b7ea26" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>