<!DOCTYPE html><head><meta charset="UTF-8"><title>AllSideSetsByNormalsGenerator.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="b13dfc1a-400e-4fc3-91bc-2f31acada121"><i class="material-icons">menu</i></a><ul class="sidenav" id="b13dfc1a-400e-4fc3-91bc-2f31acada121"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">AllSideSetsByNormalsGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="50f6382f-f6cf-4946-9765-0ac727514ee0" data-section-level="1" data-section-text="AllSideSetsByNormalsGenerator"><h1 id="allsidesetsbynormalsgenerator">AllSideSetsByNormalsGenerator</h1><p>Adds sidesets to the entire mesh based on unique normals.</p><section class="scrollspy" id="66d3549c-b6e1-4b6b-a14b-4fb31b0c986f" data-section-level="2" data-section-text="Overview"><h2 id="overview">Overview</h2><p>This mesh generator is useful for adding all possible sidesets to a mesh based on unique normal directions.  It works well for more regular shapes that don&#x27;t have curves or many disjoint surfaces with similar normals.  If desired however, it is capable of following a slowly changing normal around a surface so that a curve can be assigned a single sideset. This is accomplished by setting <em>fixed_normal</em> to false. In this case a cylinder mesh can be given exactly three normals, one for the two and bottom respectively, and a third normal for the curved surface of the cylinder.</p><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><span class="moose-alert-title-brand">note</span></div><div class="card-content"><div class="moose-alert-content"><p><p>The sideset number assignment is not predictable. This utility assigns sideset numbering based on the unique normals seen while iterating over the mesh. Further enhancements could be made to more carefully control this assignment.</p></p></div></div></div></section><section class="scrollspy" id="878c210d-8063-4e92-b568-e74a757e29d5" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="2e2aa4e1-6618-48ad-8999-dfd235c3430a" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">input</span><span class="moose-parameter-header-description">The mesh we want to modify</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshGeneratorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The mesh we want to modify</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="9deaa48d-93eb-4cae-a719-4df8c3e210d8" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_normal</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">This Boolean determines whether we fix our normal or allow it to vary to "paint" around curves</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>This Boolean determines whether we fix our normal or allow it to vary to "paint" around curves</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">replace</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">If true, replace the old sidesets. If false, the current sidesets (if any) will be preserved.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>If true, replace the old sidesets. If false, the current sidesets (if any) will be preserved.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">variance</span><span class="moose-parameter-header-default">0.1</span><span class="moose-parameter-header-description">The variance [0.0 - 1.0] allowed when comparing normals</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0.1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The variance [0.0 - 1.0] allowed when comparing normals</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="63b741fd-8f8d-4b18-897f-4e108a108a17" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="8fc95c43-90d7-4019-8139-184babce36ec" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#88dfa79c-43d0-46b4-9c5b-5d5d14a882d7" class="modal-trigger">test/tests/meshgenerators/add_all_side_sets_generators/simple.i</a></li><li><a href="#2660e829-925c-446d-a259-3fd258f200b0" class="modal-trigger">test/tests/meshgenerators/sidesets_by_normals_generator/replace.i</a></li><li><a href="#17c9cf64-be6d-48fa-b507-ce45a45e53fb" class="modal-trigger">test/tests/meshgenerators/sidesets_by_normals_generator/simple.i</a></li><li><a href="#935fd103-3f99-4de8-b203-cc2f9dfd8135" class="modal-trigger">test/tests/meshgenerators/sidesets_by_normals_generator/less_simple.i</a></li><li><a href="#bebb129c-b24c-4d9f-b08a-a10ea04877c9" class="modal-trigger">test/tests/meshgenerators/add_all_side_sets_generators/less_simple.i</a></li></ul><div class="modal moose-modal" id="88dfa79c-43d0-46b4-9c5b-5d5d14a882d7"><div class="modal-content"><h4>test/tests/meshgenerators/add_all_side_sets_generators/simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [read]
    type = FileMeshGenerator
    file = twoblocks.e
  []
  [block_1]
    type = AllSideSetsByNormalsGenerator
    input = read
  []
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2660e829-925c-446d-a259-3fd258f200b0"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_by_normals_generator/replace.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # Creates (by default) the sidesets [0, 1, 2, 3]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []

  # Creates the sidesets [5, 6, 7, 8] and removes [0, 1, 2, 3]
  [generate_sidesets]
    type = AllSideSetsByNormalsGenerator
    input = gmg
    replace = true
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="17c9cf64-be6d-48fa-b507-ce45a45e53fb"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_by_normals_generator/simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [./generate_sidesets]
    type = AllSideSetsByNormalsGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="935fd103-3f99-4de8-b203-cc2f9dfd8135"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_by_normals_generator/less_simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = reactor.e
  []

  [./generate_sidesets]
    type = AllSideSetsByNormalsGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bebb129c-b24c-4d9f-b08a-a10ea04877c9"><div class="modal-content"><h4>test/tests/meshgenerators/add_all_side_sets_generators/less_simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [read]
    type = FileMeshGenerator
    file = reactor.e
  []
  [block_1]
    type = AllSideSetsByNormalsGenerator
    input = read
  []
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#66d3549c-b6e1-4b6b-a14b-4fb31b0c986f" class="tooltipped" data-position="left" data-tooltip="Overview">Overview</a></li><li><a href="#878c210d-8063-4e92-b568-e74a757e29d5" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#8fc95c43-90d7-4019-8139-184babce36ec" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>