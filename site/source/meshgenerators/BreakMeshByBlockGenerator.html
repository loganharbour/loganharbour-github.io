<!DOCTYPE html><head><meta charset="UTF-8"><title>BreakMeshByBlockGenerator.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="3f7310f2-7a00-4b86-a6e2-cd113898e457"><i class="material-icons">menu</i></a><ul class="sidenav" id="3f7310f2-7a00-4b86-a6e2-cd113898e457"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">BreakMeshByBlockGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="e17ea72c-2f0e-44c9-86c0-c8656ac18617" data-section-level="1" data-section-text="BreakMeshByBlockGenerator"><h1 id="breakmeshbyblockgenerator">BreakMeshByBlockGenerator</h1><p>Break boundaries based on the subdomains to which their sides are attached. Naming convention for the new boundaries will be the old boundary name plus &quot;_to_&quot; plus the subdomain name. At the momentthis only works on REPLICATED mesh</p><section class="scrollspy" id="76fedec5-731e-48d2-929c-c111a0284a42" data-section-level="2" data-section-text="Description"><h2 id="description">Description</h2><p>This class implements a MeshGenerator to split a monolithic mesh by blocks similar to what is proposed by VP Nguyen <a href="#Nguyen2014">Nguyen (2014)</a>.</p><p>To split the mesh, nodes shared by multiple blocks are duplicated N-1 times (where N is the number of blocks sharing a particular node). Each duplicated nodes is assigned to one block and all the elements sharing that node are updated. A new sideset identifying the new interface is added, and it is always linked to elements belonging to blocks with the lower ID.</p><p>As an option, the interface can be split into <span tex="Q" bookmark="moose-equation-6c804ad1-d157-42fc-bf49-71282a3aa755" recursive="True" class="moose-katex-inline-equation" id="moose-equation-6c804ad1-d157-42fc-bf49-71282a3aa755"><script>var element = document.getElementById("moose-equation-6c804ad1-d157-42fc-bf49-71282a3aa755");katex.render("Q", element, {displayMode:false,throwOnError:false});</script></span> different sidesets, where <span tex="Q" bookmark="moose-equation-d87fe5b7-b077-4f2d-b715-32bb791e4174" recursive="True" class="moose-katex-inline-equation" id="moose-equation-d87fe5b7-b077-4f2d-b715-32bb791e4174"><script>var element = document.getElementById("moose-equation-d87fe5b7-b077-4f2d-b715-32bb791e4174");katex.render("Q", element, {displayMode:false,throwOnError:false});</script></span> is the number of adjacent block pairs. This is achieved by setting <code>split_interface=true</code> and is useful when modeling interfaces with different parameters.</p></section><section class="scrollspy" id="e571ce11-03ae-4523-837b-2ffb7877ca58" data-section-level="2" data-section-text="Example Input File Syntax"><h2 id="example-input-file-syntax">Example Input File Syntax</h2><section id="3e1459ba-68a5-4338-ab1f-94b694c0bf97" data-section-level="3" data-section-text="Single Interface"><h3 id="single-interface">Single Interface</h3><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
  []
[]
</code></pre><a href="#073ebfbe-d8e0-4a93-9c76-a9303d71734c" class="modal-trigger">(test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i)</a><div class="modal moose-modal" id="073ebfbe-d8e0-4a93-9c76-a9303d71734c"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section id="49b47cb9-1f60-4ecd-88a7-37b9a4cdb4ed" data-section-level="3" data-section-text="Multiple Interfaces"><h3 id="multiple-interfaces">Multiple Interfaces</h3><p>When <code>split_interface=true</code>, the new generated interface is split by block pairs and named by joining the block names. For instance if one has two neighboring blocks - one named <code>wood</code> and named <code>steel</code> with <code>blockID</code> equal to <code>1</code> and <code>2</code>, respectively - the new interface will be named <code>wood_steel</code>. The naming order follows the block ID order. For this simple example, the new sideset will be on the block named <code>wood</code>. If one block is not named, its name will default to <code>Block</code> plus the <code>blockID</code>. For instance, if block 2 is not named the new interface will be named <code>wood_Block2</code>.</p><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]
</code></pre><a href="#9cb6ddf4-9a1b-4324-aa4c-452c82b84c42" class="modal-trigger">(test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i)</a><div class="modal moose-modal" id="9cb6ddf4-9a1b-4324-aa4c-452c82b84c42"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section><section class="scrollspy" id="0010cbac-ce11-4215-b4bc-7b188c5bc3c9" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="e53eacbd-6652-4d03-8091-27af90dfdfa9" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">input</span><span class="moose-parameter-header-description">The mesh we want to modify</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshGeneratorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The mesh we want to modify</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="3c0ad228-74f1-4090-af2a-375ac8194b34" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">interface_name</span><span class="moose-parameter-header-default">interface</span><span class="moose-parameter-header-description">the name of the new interface. Cannot be used whit `split_interface=true`</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>interface</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>the name of the new interface. Cannot be used whit `split_interface=true`</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">split_interface</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">If true, it create a different interface for each block pair.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>If true, it create a different interface for each block pair.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="4370c09e-bd60-4dc3-a0d0-18c75a11f601" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="6b7ad4c0-9f75-4023-b3b4-e8d718154f02" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#670f06ab-9ad4-4d0b-9247-bfc6b44a0e25" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_splittrue.i</a></li><li><a href="#5bbe9f48-2e56-43e5-9d60-572b49a03d29" class="modal-trigger">test/tests/interfacekernels/ik_displaced/different_jxw_displaced.i</a></li><li><a href="#283a40fa-2a3b-47c8-b160-9c6b3ac79e00" class="modal-trigger">modules/tensor_mechanics/test/tests/czm/czm_3DC_3D_base_input.i</a></li><li><a href="#a4a41548-bc77-4488-a6f3-461a1e5cfb2a" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_polycrystal.i</a></li><li><a href="#897ad221-4673-4118-ace1-c2750d03b976" class="modal-trigger">test/tests/materials/interface_material/interface_value_material_split_mesh.i</a></li><li><a href="#adc9f623-0867-41bb-b8ec-7fea8433718c" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_auto.i</a></li><li><a href="#0795d351-aa95-4345-956d-a7c36a6f0f5e" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i</a></li><li><a href="#e9e1754b-00ee-450e-916c-907f18119dd6" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i</a></li><li><a href="#01bf1050-e467-412c-af22-8251d674809e" class="modal-trigger">test/tests/materials/interface_material/interface_value_material_split_mesh_stateful.i</a></li><li><a href="#3cc6d45a-335e-4d07-a9bb-c2a4eb83c53f" class="modal-trigger">modules/tensor_mechanics/test/tests/czm/czm_patch_test.i</a></li><li><a href="#d10173e6-5259-467a-acaf-a3d2fcfbb6d2" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_polycrystal.i</a></li></ul><div class="modal moose-modal" id="670f06ab-9ad4-4d0b-9247-bfc6b44a0e25"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_splittrue.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = coh3D_3Blocks.e
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5bbe9f48-2e56-43e5-9d60-572b49a03d29"><div class="modal-content"><h4>test/tests/interfacekernels/ik_displaced/different_jxw_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 1
    ymax = 1
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    input = subdomain1
    type = BreakMeshByBlockGenerator
  [../]
[]

[AuxVariables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff_u]
    type = Diffusion
    variable = u
    use_displaced_mesh = true
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfacialSource
    variable = u
    neighbor_var = u
    boundary = interface
    use_displaced_mesh = true
  [../]
[]

[BCs]
  [./u]
    type = DirichletBC
    variable = u
    boundary = &#x27;left right&#x27;
    value = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]

[Functions]
  [./disp_x_func]
    type = ParsedFunction
    value = 1
  [../]
  [./disp_y_func]
    type = ParsedFunction
    value = y
  [../]
[]

[ICs]
  [./disp_x_ic]
    block = 0
    function = disp_x_func
    variable = disp_x
    type = FunctionIC
  [../]
  [./disp_y_ic]
    block = 0
    function = disp_y_func
    variable = disp_y
    type = FunctionIC
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="283a40fa-2a3b-47c8-b160-9c6b3ac79e00"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/czm/czm_3DC_3D_base_input.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./msh]
    type = GeneratedMeshGenerator
  []
  [./subdomain_1]
    type = SubdomainBoundingBoxGenerator
    input = msh
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 1
    top_right = &#x27;0.5 1 1&#x27;
  []
  [./subdomain_2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain_1
    bottom_left = &#x27;0.5 0 0&#x27;
    block_id = 2
    top_right = &#x27;1 1 1&#x27;
  []
  [./breakmesh]
    input = subdomain_2
    type = BreakMeshByBlockGenerator
  [../]
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = SMALL
    add_variables = true
    generate_output = &#x27;stress_xx stress_yy stress_zz stress_yz stress_xz stress_xy&#x27;
  [../]
[]

[Modules/TensorMechanics/CohesiveZoneMaster]
  [./czm1]
    boundary = &#x27;interface&#x27;
    displacements = &#x27;disp_x disp_y disp_z&#x27;
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./left_z]
    type = DirichletBC
    variable = disp_z
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    preset = false
    boundary = right
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    preset = false
    boundary = right
  [../]
  [./right_z]
    type = FunctionDirichletBC
    variable = disp_z
    preset = false
    boundary = right
  [../]
[]

[Materials]
  [./Elasticity_tensor]
    type = ComputeElasticityTensor
    block = &#x27;1 2&#x27;
    fill_method = symmetric_isotropic
    C_ijkl = &#x27;0.3 0.5e8&#x27;
  [../]
  [./stress]
    type = ComputeLinearElasticStress
    block = &#x27;1 2&#x27;
  [../]
  [./czm_3dc]
    type = SalehaniIrani3DCTraction
    boundary = &#x27;interface&#x27;
    normal_gap_at_maximum_normal_traction = 1
    tangential_gap_at_maximum_shear_traction = 0.5
    maximum_normal_traction = 100
    maximum_shear_traction = 70
    displacements = &#x27;disp_x disp_y disp_z&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  solve_type = NEWTON
  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-6
  nl_max_its = 5
  l_tol = 1e-10
  l_max_its = 50
  start_time = 0.0
  dt = 0.2
  end_time = 5
  dtmin = 0.2
  line_search = none
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./sxx]
    type = SideAverageValue
    variable = stress_xx
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./syy]
    type = SideAverageValue
    variable = stress_yy
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./szz]
    type = SideAverageValue
    variable = stress_zz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./syz]
    type = SideAverageValue
    variable = stress_yz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./sxz]
    type = SideAverageValue
    variable = stress_xz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./sxy]
    type = SideAverageValue
    variable = stress_xy
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./disp_x]
    type = SideAverageValue
    variable = disp_x
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
  [./disp_y]
    type = SideAverageValue
    variable = disp_y
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
  [./disp_z]
    type = SideAverageValue
    variable = disp_z
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a4a41548-bc77-4488-a6f3-461a1e5cfb2a"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = poly2.msh
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="897ad221-4673-4118-ace1-c2750d03b976"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material_split_mesh.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]
  [./split]
    type = BreakMeshByBlockGenerator
    input = subdomain_id
  [../]
[]



[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[InterfaceKernels]
  [tied]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    jump_prop_name = &quot;average_jump&quot;
    penalty = 1e6
    boundary = &#x27;interface&#x27;
  []
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="adc9f623-0867-41bb-b8ec-7fea8433718c"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = coh3D_3Blocks.e
    parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0795d351-aa95-4345-956d-a7c36a6f0f5e"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e9e1754b-00ee-450e-916c-907f18119dd6"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="01bf1050-e467-412c-af22-8251d674809e"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material_split_mesh_stateful.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]
  [./split]
    type = BreakMeshByBlockGenerator
    input = subdomain_id
  [../]
[]



[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[InterfaceKernels]
  [tied]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    penalty = 1e6
    jump_prop_name = &quot;average_jump&quot;
    boundary = &#x27;interface&#x27;
  []
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [./interface_material_avg_prev]
    type = MaterialRealAux
    property = diff_average_prev
    variable = diffusivity_average_prev
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary_prev]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary_prev
    variable = diffusivity_jump_primary_minus_secondary_prev
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary_prev]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary_prev
    variable = diffusivity_jump_secondary_minus_primary_prev
    boundary = interface
  []
  [./interface_material_jump_abs_prev]
    type = MaterialRealAux
    property = diff_jump_abs_prev
    variable = diffusivity_jump_abs_prev
    boundary = interface
  []
  [./interface_material_primary_prev]
    type = MaterialRealAux
    property = diff_primary_prev
    variable = diffusivity_primary_prev
    boundary = interface
  []
  [./interface_material_secondary_prev]
    type = MaterialRealAux
    property = diff_secondary_prev
    variable = diffusivity_secondary_prev
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Transient
  solve_type = NEWTON
  num_steps = 3
  dt = 0.5
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3cc6d45a-335e-4d07-a9bb-c2a4eb83c53f"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/czm/czm_patch_test.i</h4><pre class="moose-pre"><code class="language-text"># Patch test for cohesive zone modeling to check convergence
[Mesh]
  [./msh]
  type = FileMeshGenerator
  file = patch_mesh.e
  []
  [./transform]
  type = TransformGenerator
  input = msh
  transform = TRANSLATE
  vector_value = &#x27;-0.5 -0.5 -0.5&#x27;
  []
  [./split]
    type = BreakMeshByBlockGenerator
    input = transform
  []
  [./add_surfaces]
    type = SideSetsFromNormalsGenerator
    input = split
    normals = &#x27;0  0  1
               0  1  0
               1  0  0
               0  0 -1
               0 -1  0
              -1  0  0&#x27;
    fixed_normal = true
    new_boundary = &#x27;front top right back bottom left&#x27;
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules]
  [./TensorMechanics]
    [./Master]
      [./all]
        strain = FINITE
        add_variables = true
        use_finite_deform_jacobian = true
        use_automatic_differentiation = true
      [../]
    [../]
  [../]
[]


[Functions]
  [./angles]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0&#x27;
  [../]

  [./stretch]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.01&#x27;
  [../]

  [./move_y]
    type = ParsedFunction
    value = &#x27;y*cos(theta) - z * (1 + a)*sin(theta) - y&#x27;
    vars = &#x27;a theta&#x27;
    vals = &#x27;stretch angles&#x27;
  [../]

  [./move_z]
    type = ParsedFunction
    value = &#x27;y*sin(theta) + z*(1+a)*cos(theta) - z&#x27;
    vars = &#x27;a theta&#x27;
    vals = &#x27;stretch angles&#x27;
  [../]

  [./dt_fun]
    type = PiecewiseConstant
    x = &#x27;0 1&#x27;
    y = &#x27;0.25 0.25&#x27;
  []
[]

[BCs]
  [./fix]
    type = DirichletBC
    preset = true
    value = 0.0
    boundary = left
    variable = disp_x
  [../]

  [./front_y]
    type = FunctionDirichletBC
    boundary = front
    variable = disp_y
    function = move_y
    preset = true
  [../]

  [./back_y]
    type = FunctionDirichletBC
    boundary = back
    variable = disp_y
    function = move_y
    preset = true
  [../]

  [./front_z]
    type = FunctionDirichletBC
    boundary = front
    variable = disp_z
    function = move_z
    preset = true
  [../]

  [./back_z]
    type = FunctionDirichletBC
    boundary = back
    variable = disp_z
    function = move_z
    preset = true
  [../]

[]


[Modules/TensorMechanics/CohesiveZoneMaster]
  [./czm_ik]
    boundary = &#x27;interface&#x27;
  [../]
[]

[Materials]
  [./stress]
    type = ADComputeFiniteStrainElasticStress
  [../]
  [./elasticity_tensor]
    type = ADComputeElasticityTensor
    fill_method = symmetric9
    C_ijkl = &#x27;1.684e5 0.176e5 0.176e5 1.684e5 0.176e5 1.684e5 0.754e5 0.754e5 0.754e5&#x27;
  [../]
  [./czm_mat]
    boundary = &#x27;interface&#x27;
  [../]
[]



[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;newton&#x27;
  line_search = none

  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;

  l_max_its = 2
  l_tol = 1e-14
  nl_max_its = 15
  nl_rel_tol = 1e-10
  nl_abs_tol = 1e-10
  start_time = 0.0
  dt = 0.25
  end_time = 1
[]

[Postprocessors]
  [./nonlin]
    type = NumNonlinearIterations
  [../]
[]


[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d10173e6-5259-467a-acaf-a3d2fcfbb6d2"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = poly.msh
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section class="scrollspy" id="22844ba9-3874-4e75-9f69-c88373a68bf9" data-section-level="2" data-section-text="References"><h2 id="references">References</h2><div class="moose-bibliography"><ol><li id="Nguyen2014">Vinh&nbsp;Phu Nguyen.
<span class="bibtex-protected">An open source program to generate zero-thickness cohesive interface elements</span>.
<em>Advances in Engineering Software</em>, 74:27â€“39, 2014.
<a href="https://doi.org/10.1016/j.advengsoft.2014.04.002">doi:10.1016/j.advengsoft.2014.04.002</a>.<a href="#f03bb501-9d09-47c4-b52f-1710159b1c7e" class="modal-trigger moose-bibtex-modal" style="padding-left:10px;">[BibTeX]</a><div class="modal" id="f03bb501-9d09-47c4-b52f-1710159b1c7e"><div class="modal-content"><pre style="line-height:1.25;"><code class="language-latex">@article{Nguyen2014,
    author = "Nguyen, Vinh Phu",
    abstract = "An open source program to generate zero-thickness cohesive interface elements in existing finite element discretizations is presented. This contribution fills the gap in the literature that, to the best of the author's knowledge, there is no such program exists. The program is useful in numerical modeling of material/structure failure using cohesive interface elements. The program is able to generate one/two dimensional, linear/quadratic cohesive elements (i) at all inter-element boundaries, (ii) at material interfaces and (iii) at grain boundaries in polycrystalline materials. Algorithms and utilization of the program is discussed. Several two dimensional and three dimensional fracture mechanics problems are given including debonding process of material interfaces, multiple delamination of composite structures, crack propagation in polycrystalline structures.",
    doi = "10.1016/j.advengsoft.2014.04.002",
    issn = "09659978",
    journal = "Advances in Engineering Software",
    mendeley-groups = "Moose",
    pages = "27--39",
    title = "{An open source program to generate zero-thickness cohesive interface elements}",
    volume = "74",
    year = "2014"
}
</code></pre></div></div></li></ol></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#76fedec5-731e-48d2-929c-c111a0284a42" class="tooltipped" data-position="left" data-tooltip="Description">Description</a></li><li><a href="#e571ce11-03ae-4523-837b-2ffb7877ca58" class="tooltipped" data-position="left" data-tooltip="Example Input File Syntax">Example Input File Syntax</a></li><li><a href="#0010cbac-ce11-4215-b4bc-7b188c5bc3c9" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#6b7ad4c0-9f75-4023-b3b4-e8d718154f02" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li><li><a href="#22844ba9-3874-4e75-9f69-c88373a68bf9" class="tooltipped" data-position="left" data-tooltip="References">References</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>