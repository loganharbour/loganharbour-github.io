<!DOCTYPE html><head><meta charset="UTF-8"><title>FileMeshGenerator.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="359704a2-401d-4486-873e-73582636e041"><i class="material-icons">menu</i></a><ul class="sidenav" id="359704a2-401d-4486-873e-73582636e041"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">FileMeshGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="9177faf0-fe40-47f7-8261-475b5d6e0299" data-section-level="1" data-section-text="FileMeshGenerator"><h1 id="filemeshgenerator">FileMeshGenerator</h1><p>Read a mesh from a file.</p><section class="scrollspy" id="42afcc8f-60a7-43cd-9d50-d1c0f2c1918c" data-section-level="2" data-section-text="Supported File Formats"><h2 id="supported-file-formats">Supported File Formats</h2><p>The <code>FileMeshGenerator</code> is the default type for MOOSE and as the name suggests it reads the mesh from an external file. MOOSE supports reading and writing a large number of formats and could be extended to read more.</p><div form="['left', 'left']" recursive="True" class="moose-table-div"><table><thead><tr><th style=";text-align:left">Extension</th><th style=";text-align:left">Description</th></tr></thead><tbody><tr><td style=";text-align:left">.e, .exd</td><td style=";text-align:left">Sandia&#x27;s ExodusII format</td></tr></tbody><tbody><tr><td style=";text-align:left">.dat</td><td style=";text-align:left">Tecplot ASCII file</td></tr></tbody><tbody><tr><td style=";text-align:left">.fro</td><td style=";text-align:left">ACDL&#x27;s surface triangulation file</td></tr></tbody><tbody><tr><td style=";text-align:left">.gmv</td><td style=";text-align:left">LANL&#x27;s GMV (General Mesh Viewer) format</td></tr></tbody><tbody><tr><td style=";text-align:left">.mat</td><td style=";text-align:left">Matlab triangular ASCII file (read only)</td></tr></tbody><tbody><tr><td style=";text-align:left">.msh</td><td style=";text-align:left">GMSH ASCII file</td></tr></tbody><tbody><tr><td style=";text-align:left">.n, .nem</td><td style=";text-align:left">Sandia&#x27;s Nemesis format</td></tr></tbody><tbody><tr><td style=";text-align:left">.plt</td><td style=";text-align:left">Tecplot binary file (write only)</td></tr></tbody><tbody><tr><td style=";text-align:left">.node, .ele; .poly</td><td style=";text-align:left">TetGen ASCII file (read; write)</td></tr></tbody><tbody><tr><td style=";text-align:left">.inp</td><td style=";text-align:left">Abaqus .inp format (read only)</td></tr></tbody><tbody><tr><td style=";text-align:left">.ucd</td><td style=";text-align:left">AVS&#x27;s ASCII UCD format</td></tr></tbody><tbody><tr><td style=";text-align:left">.unv</td><td style=";text-align:left">I-deas Universal format</td></tr></tbody><tbody><tr><td style=";text-align:left">.xda, .xdr</td><td style=";text-align:left">libMesh formats</td></tr></tbody><tbody><tr><td style=";text-align:left">.vtk, .pvtu</td><td style=";text-align:left">Visualization Toolkit</td></tr></tbody></table></div><p>When reading a mesh file in Sandia&#x27;s ExodusII format, users can use parameter <code>exodus_extra_element_integers</code> to load elemental variables for setting extra element integers of the mesh. The names of the extra element integers will be the same as the names of the element variables in the mesh file.</p></section><section class="scrollspy" id="b557cc01-6823-48b2-8b6e-d3d2bbadbe60" data-section-level="2" data-section-text="Further FileMeshGenerator Documentation"><h2 id="further-filemeshgenerator-documentation">Further FileMeshGenerator Documentation</h2></section><section class="scrollspy" id="6e7062cc-ad71-44e7-8ff5-7c0430c6dda0" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="4e8162bb-94ef-48da-ae7a-f56e8b36be0f" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">file</span><span class="moose-parameter-header-description">The filename to read.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshFileName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The filename to read.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="4d0cc78f-5a7c-4f71-9ef7-d8282208b361" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">exodus_extra_element_integers</span><span class="moose-parameter-header-description">The variable names in the mesh file for loading extra element integers</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The variable names in the mesh file for loading extra element integers</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_for_exodus_restart</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to indicate that the mesh file this generator is reading can be used for restarting variables</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>True to indicate that the mesh file this generator is reading can be used for restarting variables</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="ec665f51-d014-4828-a058-89faf2329fee" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="5368c90d-4eba-450d-a2db-1b2c19ec79be" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#e41aaa06-5bc2-4a7f-ab89-62ba3873a56e" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_polycrystal.i</a></li><li><a href="#0cb5a772-d036-40fb-a3b4-a7148fc82cf7" class="modal-trigger">test/tests/mortar/continuity-2d-conforming/conforming_two_var.i</a></li><li><a href="#f17400d5-c417-4e5e-995c-8fb3ebd83acb" class="modal-trigger">test/tests/meshgenerators/sidesets_by_normals_generator/simple.i</a></li><li><a href="#94595a00-2fcb-421a-b037-e2edee92a739" class="modal-trigger">modules/tensor_mechanics/test/tests/CylindricalRankTwoAux/test.i</a></li><li><a href="#a7f4cb86-0bd3-449f-8b59-1cb5f8bd7c9a" class="modal-trigger">test/tests/meshgenerators/sideset_around_subdomain_generator/around_normals_generator.i</a></li><li><a href="#1f1fd886-69a2-4cbd-b0b4-0e564e7b8d4c" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/fine.i</a></li><li><a href="#6923a823-4dcf-4213-9216-394fea474a6e" class="modal-trigger">test/tests/mortar/continuity-2d-conforming/conforming.i</a></li><li><a href="#024d2a74-36ab-49de-af72-a3581cf27749" class="modal-trigger">test/tests/meshgenerators/file_mesh_generator/file_mesh_generator.i</a></li><li><a href="#e4c6fc39-d179-41cf-addc-58f395a75fc9" class="modal-trigger">modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact_constant_conductance.i</a></li><li><a href="#08901a1d-b350-4a8d-a7bb-e476042be4dc" class="modal-trigger">test/tests/meshgenerators/smooth_mesh_generator/mesh_smoother_generator.i</a></li><li><a href="#3c759d6e-eff1-4577-b1c9-7bc9594dbf9c" class="modal-trigger">modules/contact/test/tests/normal-nodal-lm-tan-tolerance/normal-nodal-lm-tan-tolerance.i</a></li><li><a href="#57511109-d35f-48a0-a968-05a28e45d5de" class="modal-trigger">test/tests/meshgenerators/sideset_around_subdomain_generator/around.i</a></li><li><a href="#2050b41b-a5a8-4cd1-b486-c912a1257800" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i</a></li><li><a href="#dc0f1ee0-5902-489c-917b-38c79d72aee6" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_splittrue.i</a></li><li><a href="#8c2b37e8-836b-409a-b6de-b8b124462a15" class="modal-trigger">test/tests/meshgenerators/mesh_extruder_generator/extrude_angle.i</a></li><li><a href="#92d018d1-b04c-41ce-95ec-797565e264a6" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_one_retain.i</a></li><li><a href="#d1e89f07-98a1-4d70-9787-9a07622c4de9" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i</a></li><li><a href="#419af371-9333-4478-8425-bdb355a688f0" class="modal-trigger">test/tests/meshgenerators/sidesets_from_points_generator/sidesets_from_points.i</a></li><li><a href="#c69ba9ef-46b4-4db9-9246-ca70dd31d186" class="modal-trigger">test/tests/meshgenerators/patterned_mesh_generator/patterned_mesh_generator.i</a></li><li><a href="#fcc34a0c-1664-44b9-8694-36368f49ea1b" class="modal-trigger">test/tests/mortar/cant-do-3d/periodic.i</a></li><li><a href="#ec5e8ca8-950a-40f9-a03e-e24078266b7e" class="modal-trigger">modules/porous_flow/examples/coal_mining/coarse_with_fluid.i</a></li><li><a href="#385e45cc-203f-4fbd-959b-0a89cf3e7b5e" class="modal-trigger">modules/combined/test/tests/exception/ad.i</a></li><li><a href="#32322ab7-7d7e-4ace-8e78-0891ba97aa7b" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_jac/two_blocks.i</a></li><li><a href="#7974c1e9-3f13-4c25-8970-e661c88f22ad" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_auto.i</a></li><li><a href="#0e93055a-fb01-444c-a3b1-4dea6bbc34f6" class="modal-trigger">test/tests/mortar/continuity-2d-conforming/conforming-2nd-order.i</a></li><li><a href="#38b41a5e-0b1e-41ab-a1e5-772c8a5a64a6" class="modal-trigger">modules/porous_flow/examples/coal_mining/fine_with_fluid.i</a></li><li><a href="#c80d2b83-e2b9-4f99-b255-c5370fbce569" class="modal-trigger">modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_annulus_thermal_contact.i</a></li><li><a href="#8e3fba8a-44ba-4bd0-905d-58732e17c466" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_sideset_generation.i</a></li><li><a href="#e633af26-aa25-49e8-975e-aa91b6eaeadf" class="modal-trigger">modules/contact/test/tests/mechanical-small-problem/frictionless-nodal-lm-mortar-disp.i</a></li><li><a href="#a94a4d1c-f340-4ff4-a7b6-c29a8aec552c" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_interface.i</a></li><li><a href="#a47efd57-dac9-4959-94cd-7e986f437b92" class="modal-trigger">test/tests/meshgenerators/mesh_extruder_generator/extrude_quad.i</a></li><li><a href="#3f66e99a-c61f-4d86-b4ae-5190a27eb17d" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_one_delete.i</a></li><li><a href="#df3990fb-9579-4b5b-89cf-b0b12535da57" class="modal-trigger">modules/combined/test/tests/exception/nonad.i</a></li><li><a href="#6061398f-27ea-4fc3-a11f-15134919abe9" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_htonly/cyl2D_xz.i</a></li><li><a href="#064e9926-e53c-4ec5-8ad9-0db521e99499" class="modal-trigger">modules/contact/test/tests/sliding_block/in_and_out/frictionless_lm.i</a></li><li><a href="#7fa23245-d379-4813-aa93-7dbc5340c050" class="modal-trigger">test/tests/meshgenerators/stitched_mesh_generator/stitched_mesh_generator2.i</a></li><li><a href="#c97d06ed-02a4-409a-af3b-dc9c94ad2aa6" class="modal-trigger">test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance-bnd-aux-kernel.i</a></li><li><a href="#0ace1a65-c3ac-4d69-b799-57f99c5488db" class="modal-trigger">modules/tensor_mechanics/tutorials/basics/part_3_1.i</a></li><li><a href="#94b2c2a5-2eb7-4ec3-963b-e03408f70b87" class="modal-trigger">modules/contact/test/tests/non-singular-frictional-mortar/frictional-mortar.i</a></li><li><a href="#c93f2ad6-8bd8-472a-badf-6365a75e5c47" class="modal-trigger">test/tests/meshgenerators/file_mesh_generator/exodus_file_mesh_with_id.i</a></li><li><a href="#a393d60b-103e-4237-b51c-c8e3b0c20e12" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_all_delete.i</a></li><li><a href="#3ad3007b-c835-4ada-8cdb-cae4620f2511" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_htonly/planar_yz.i</a></li><li><a href="#f084987a-17b4-4b48-a455-ee2b22393079" class="modal-trigger">test/tests/meshgenerators/gmsh_bcs/gmsh_bcs.i</a></li><li><a href="#9d23f5dc-05f2-443f-bd8b-748d17fbd815" class="modal-trigger">modules/contact/test/tests/mechanical-small-problem/mortar-mech.i</a></li><li><a href="#74ea9727-a33a-4811-b321-d75b75f96bb2" class="modal-trigger">modules/contact/test/tests/bouncing-block-contact/ping-ponging/mortar-no-ping-pong.i</a></li><li><a href="#93e13666-ec17-4a03-a52d-463707c0feef" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_htonly/cyl2D_yz.i</a></li><li><a href="#78b6608c-9668-437f-b789-3daa486ce848" class="modal-trigger">modules/tensor_mechanics/test/tests/czm/czm_patch_test.i</a></li><li><a href="#f3128fd1-5080-4ff5-bdf0-ab527bcae2c7" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_htonly/gap_heat_transfer_htonly_rz_test.i</a></li><li><a href="#4a01df76-cfc3-4681-8c9f-984de6fcc200" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_mortar/gap_heat_transfer_mortar_displaced.i</a></li><li><a href="#336421c0-9e39-45fb-b143-35bdfe28a3f9" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_all_retain.i</a></li><li><a href="#83dfda89-b7ee-49bf-bcd4-2605e5b5468a" class="modal-trigger">test/tests/meshgenerators/tiled_mesh_generator/tiled_mesh_generator.i</a></li><li><a href="#a7b995f1-49a7-486d-980a-95f166815112" class="modal-trigger">modules/peridynamics/test/tests/auxkernels/boundary_offset_node_volume_3D.i</a></li><li><a href="#57986d58-bddc-4016-bc53-308ec1dcecc2" class="modal-trigger">test/tests/meshgenerators/transform_generator/rotate_and_scale.i</a></li><li><a href="#9ba528f7-01c9-4793-b8ce-9e0ca4538b3c" class="modal-trigger">test/tests/ics/from_exodus_solution/elem_part2.i</a></li><li><a href="#195b0a57-41fc-47b9-88cd-669dc91d512a" class="modal-trigger">test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_polycrystal.i</a></li><li><a href="#5672d5ac-c8d3-4f05-94f1-d0bf39e5d6f1" class="modal-trigger">test/tests/meshgenerators/sidesets_by_normals_generator/less_simple.i</a></li><li><a href="#94aa0971-4698-42f1-9415-935096d3c74d" class="modal-trigger">modules/peridynamics/test/tests/generalized_plane_strain/generalized_plane_strain_squares_OSPD.i</a></li><li><a href="#5f1946b1-db6f-4492-8e2b-f45dc289c0d9" class="modal-trigger">test/tests/mortar/displaced-gap-conductance-2d-non-conforming/gap-conductance.i</a></li><li><a href="#ee2be903-d3b9-4a2d-a86e-3978ea9d4671" class="modal-trigger">test/tests/meshgenerators/add_all_side_sets_generators/simple.i</a></li><li><a href="#ed4349ca-255b-4449-9a66-d41d5fda40f7" class="modal-trigger">test/tests/mortar/continuity-2d-non-conforming/soln-continuity.i</a></li><li><a href="#1bfa8890-dfd1-4399-8db3-a28f7f4df218" class="modal-trigger">test/tests/meshgenerators/gmsh/gmsh_test.i</a></li><li><a href="#d2f9e131-65f1-4e61-a27c-416fe7159e8e" class="modal-trigger">modules/tensor_mechanics/test/tests/domain_integral_thermal/interaction_integral_2d_rot.i</a></li><li><a href="#c61a1382-988c-4381-af17-c1d1dfcdb538" class="modal-trigger">modules/peridynamics/test/tests/simple_tests/2D_irregularD_variableH_OSPD.i</a></li><li><a href="#4d7d0d76-546f-478a-8789-fb39c47dd052" class="modal-trigger">test/tests/transfers/multiapp_interpolation_transfer/fromrestrictedsub_sub.i</a></li><li><a href="#a6db8c73-b4ab-4700-9912-d045bb39ca4d" class="modal-trigger">test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance.i</a></li><li><a href="#7cca54d5-edc0-41ee-9858-fbff108600c1" class="modal-trigger">modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact.i</a></li><li><a href="#7355ad7a-bccf-4d5b-a80d-78a857b6726a" class="modal-trigger">test/tests/meshgenerators/sidesets_from_normals_generator/sidesets_cylinder_normals.i</a></li><li><a href="#005e3359-1eab-46af-a92d-49a5b1f8f652" class="modal-trigger">test/tests/meshgenerators/mesh_extruder_generator/extrude_remap_layer1.i</a></li><li><a href="#57ce3e05-c679-4eec-b3bc-7e548ee3c556" class="modal-trigger">modules/navier_stokes/test/tests/ins/jeffery_hamel/wedge_dirichlet.i</a></li><li><a href="#95a96a12-5691-4b03-839b-e5f31b1a5115" class="modal-trigger">modules/peridynamics/test/tests/auxkernels/boundary_offset_node_area_2D.i</a></li><li><a href="#bbb8500b-8fe1-4150-bf16-5659e862c3c2" class="modal-trigger">modules/peridynamics/test/tests/mesh/3D_sideset_generation.i</a></li><li><a href="#58adfaf9-36b8-4e45-ba69-d10bdaf2e3a9" class="modal-trigger">test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance-bnd-material.i</a></li><li><a href="#4412d7c4-8d14-465f-a1df-9e59af755c46" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/coarse.i</a></li><li><a href="#53f8c701-f4dc-4eb0-88cd-57e6ab743882" class="modal-trigger">modules/peridynamics/test/tests/mesh/2D_mesh_conversion_single_blocks.i</a></li><li><a href="#e2902356-c5a8-4d23-a3e8-5b78e8baa83a" class="modal-trigger">modules/contact/test/tests/fieldsplit/frictional_mortar_FS.i</a></li><li><a href="#f26c9cb7-ee25-4551-9bb8-c825c488a510" class="modal-trigger">test/tests/mesh/mesh_only/mesh_only.i</a></li><li><a href="#e3b1f0fa-682f-4d13-9eb0-b779af57c2cd" class="modal-trigger">test/tests/mortar/continuity-2d-conforming/equalgradient.i</a></li><li><a href="#138eca9b-cf9d-4fb1-b06c-473ab69f4f5d" class="modal-trigger">modules/contact/test/tests/mechanical-small-problem/frictionless-nodal-lm-mortar-disp-action.i</a></li><li><a href="#92bd24f6-f19c-46a3-9423-c4bce4f50023" class="modal-trigger">modules/tensor_mechanics/test/tests/shell/static/pinched_cylinder_symm.i</a></li><li><a href="#48be5195-4f8c-4d6c-89e3-05cb5ea725aa" class="modal-trigger">modules/contact/test/tests/bouncing-block-contact/frictional-nodal-min-normal-lm-mortar-fb-tangential-lm-mortar-action.i</a></li><li><a href="#199ff07e-6d10-4f8a-9d2f-b2db5c6812e8" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_htonly/planar_xz.i</a></li><li><a href="#6635663e-2fec-457a-8ced-a931fec1fdf7" class="modal-trigger">modules/contact/test/tests/dual_mortar/dm_mechanical_contact.i</a></li><li><a href="#6dd5df5f-359a-4a52-8897-ca116f3255ce" class="modal-trigger">test/tests/meshgenerators/add_all_side_sets_generators/less_simple.i</a></li><li><a href="#4cb10bb1-526c-4546-b849-5635e57c5e7b" class="modal-trigger">test/tests/meshgenerators/stitched_mesh_generator/stitched_mesh_generator.i</a></li><li><a href="#7b63557c-c29a-45fa-84c4-144bf20cc96e" class="modal-trigger">modules/peridynamics/test/tests/simple_tests/2D_irregularD_variableH_BPD.i</a></li><li><a href="#79910847-4e3b-4639-9d8e-483ddf1dad11" class="modal-trigger">test/tests/mortar/periodic-value/periodic.i</a></li><li><a href="#732aaea7-cc62-4287-9782-5ff1db3dccdd" class="modal-trigger">test/tests/meshgenerators/sidesets_between_subdomains_generator/between.i</a></li><li><a href="#15efe582-866f-43c0-8766-f55be876491f" class="modal-trigger">test/tests/meshgenerators/mesh_extruder_generator/extrude_remap_layer2.i</a></li><li><a href="#c686fcf8-6402-499f-bee5-b9cd2c5fb006" class="modal-trigger">test/tests/meshgenerators/sidesets_from_normals_generator/sidesets_cylinder_normals_fixed.i</a></li><li><a href="#b58672db-8c87-48a9-9aa5-9eb6c226c0de" class="modal-trigger">test/tests/mortar/continuity-2d-non-conforming/dual-soln-continuity.i</a></li><li><a href="#01a5a8e9-f732-49d5-a66b-2dfa53fbe2d1" class="modal-trigger">modules/contact/test/tests/bouncing-block-contact/frictional-nodal-min-normal-lm-mortar-fb-tangential-lm-mortar-disp.i</a></li><li><a href="#06886368-289a-428f-8860-3367b63da743" class="modal-trigger">modules/combined/test/tests/gap_heat_transfer_mortar/gap_heat_transfer_mortar.i</a></li><li><a href="#58a8b423-bee4-44f1-abaf-9df936c40c67" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test11.i</a></li><li><a href="#6d36bec7-b51a-45e3-9345-a982e3a6c020" class="modal-trigger">test/tests/mortar/gap-conductance-2d-non-conforming/gap-conductance.i</a></li><li><a href="#838b694a-5096-4f5d-9a34-680acced3845" class="modal-trigger">modules/porous_flow/examples/restart/gas_injection.i</a></li><li><a href="#26157746-a192-4396-9cb2-5fd69a795597" class="modal-trigger">test/tests/mortar/continuity-2d-non-conforming/sequencing-stateful-soln-continuity.i</a></li><li><a href="#150ddc0f-2e70-49a4-af47-07d0ad5b1cff" class="modal-trigger">modules/contact/test/tests/sliding_block/in_and_out/frictional_lm.i</a></li></ul><div class="modal moose-modal" id="e41aaa06-5bc2-4a7f-ab89-62ba3873a56e"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = poly2.msh
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0cb5a772-d036-40fb-a3b4-a7148fc82cf7"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-conforming/conforming_two_var.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-conf.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = &#x27;10001&#x27;
    new_block_name = &#x27;secondary_lower&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = &#x27;10000&#x27;
    new_block_name = &#x27;primary_lower&#x27;
  []
[]

[Functions]
  [./exact_sln]
    type = ParsedFunction
    value = y
  [../]
  [./ffn]
    type = ParsedFunction
    value = 0
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm_u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm_v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]

[]

[Kernels]
  [./diff_u]
    type = Diffusion
    variable = u
  [../]
  [./ffn]
    type = BodyForce
    variable = u
    function = ffn
  [../]
  [./diff_v]
    type = Diffusion
    variable = v
  [../]
  [./coupled_u]
    type = CoupledForce
    variable = v
    v = u
  [../]
[]

[Constraints]
  [./ced_u]
    type = EqualValueConstraint
    variable = lm_u
    secondary_variable = u
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
  [./ced_v]
    type = EqualValueConstraint
    variable = lm_v
    secondary_variable = v
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;1 2 3 4&#x27;
    function = exact_sln
  [../]
  [./allv]
    type = DirichletBC
    variable = v
    boundary = &#x27;1 2 3 4&#x27;
    value = 0
  [../]
[]

[Postprocessors]
  [./l2_error]
    type = ElementL2Error
    variable = u
    function = exact_sln
    block = &#x27;1 2&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./l2_v]
    type = ElementL2Norm
    variable = v
    block = &#x27;1 2&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-12
  l_tol = 1e-12
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f17400d5-c417-4e5e-995c-8fb3ebd83acb"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_by_normals_generator/simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [./generate_sidesets]
    type = AllSideSetsByNormalsGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="94595a00-2fcb-421a-b037-e2edee92a739"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/CylindricalRankTwoAux/test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file_mesh]
    type = FileMeshGenerator
    file = circle.e
  []
  [cnode]
    type = ExtraNodesetGenerator
    coord = &#x27;1000.0 0.0&#x27;
    new_boundary = 10
    input = file_mesh
  []
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[AuxVariables]
  [./T]
  [../]
  [./stress_rr]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_tt]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[ICs]
  [./T_IC]
    type = FunctionIC
    variable = T
    function = &#x27;1000-0.7*sqrt(x^2+y^2)&#x27;
  [../]
[]

[Kernels]
  [./TensorMechanics]
    displacements = &#x27;disp_x disp_y&#x27;
  [../]
[]

[AuxKernels]
  [./stress_rr]
    type = CylindricalRankTwoAux
    variable = stress_rr
    rank_two_tensor = stress
    index_j = 0
    index_i = 0
    center_point = &#x27;0 0 0&#x27;
  [../]
  [./stress_tt]
    type = CylindricalRankTwoAux
    variable = stress_tt
    rank_two_tensor = stress
    index_j = 1
    index_i = 1
    center_point = &#x27;0 0 0&#x27;
  [../]
[]

[BCs]
  [./outer_x]
    type = DirichletBC
    variable = disp_x
    boundary = 2
    value = 0
  [../]
  [./outer_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;2 10&#x27;
    value = 0
  [../]
[]

[Materials]
  [./iso_C]
    type = ComputeElasticityTensor
    fill_method = symmetric_isotropic
    C_ijkl = &#x27;2.15e5 0.74e5&#x27;
    block = 1
  [../]
  [./strain]
    type = ComputeSmallStrain
    displacements = &#x27;disp_x disp_y&#x27;
    block = 1
    eigenstrain_names = eigenstrain
  [../]
  [./stress]
    type = ComputeLinearElasticStress
    block = 1
  [../]
  [./thermal_strain]
    type= ComputeThermalExpansionEigenstrain
    thermal_expansion_coeff = 1e-6
    temperature = T
    stress_free_temperature = 273
    block = 1
    eigenstrain_name = eigenstrain
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre boomeramg 101&#x27;
  l_max_its = 30
  nl_max_its = 10
  nl_abs_tol = 1e-9
  nl_rel_tol = 1e-14
  l_tol = 1e-4
[]

[Outputs]
  exodus = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a7f4cb86-0bd3-449f-8b59-1cb5f8bd7c9a"><div class="modal-content"><h4>test/tests/meshgenerators/sideset_around_subdomain_generator/around_normals_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [./top_block1]
    type = SideSetsAroundSubdomainGenerator
    input = fmg
    block = &#x27;left&#x27;
    new_boundary = &#x27;top_of_left_block&#x27;
    normal = &#x27;0 0 1&#x27;
  []

  [./bottom_block2]
    type = SideSetsAroundSubdomainGenerator
    input = top_block1
    block = &#x27;right&#x27;
    new_boundary = &#x27;bottom_of_right_block&#x27;
    normal = &#x27;0 0 -1&#x27;
  []

  [./right_block1]
    type = SideSetsAroundSubdomainGenerator
    input = bottom_block2
    block = &#x27;left&#x27;
    new_boundary = &#x27;right_of_left_block&#x27;
    normal = &#x27;1 0 0&#x27;
  []

  [./right_block2]
    type = SideSetsAroundSubdomainGenerator
    input = right_block1
    block = &#x27;right&#x27;
    new_boundary = &#x27;right_of_right_block&#x27;
    normal = &#x27;1 0 0&#x27;
  []

[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1f1fd886-69a2-4cbd-b0b4-0e564e7b8d4c"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/fine.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = 0.025*z MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/fine.e
  []
  [./xmin]
    input = file
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
  [../]
  [./xmax]
    input = xmin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
  [../]
  [./ymin]
    input = xmax
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
  [../]
  [./ymax]
    input = ymin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
  [../]
  [./zmax]
    input = ymax
    type = SideSetsAroundSubdomainGenerator
    block = 30
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
  [../]
  [./zmin]
    input = zmax
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    input = excav
    new_boundary = roof
    normal = &#x27;0 0 1&#x27;
  [../]
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;0.8*2500*10E-6*z&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;2500*10E-6*z&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;100.0   0    1000.0 1E-9 1 10&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;100.0   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.5
  end_time = 100.0

[]

[Outputs]
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6923a823-4dcf-4213-9216-394fea474a6e"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-conforming/conforming.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-conf.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = &#x27;10001&#x27;
    new_block_name = &#x27;secondary_lower&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = &#x27;10000&#x27;
    new_block_name = &#x27;primary_lower&#x27;
  []
[]

[Functions]
  [./exact_sln]
    type = ParsedFunction
    value = y
  [../]
  [./ffn]
    type = ParsedFunction
    value = 0
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./ffn]
    type = BodyForce
    variable = u
    function = ffn
  [../]
[]

[Constraints]
  [./ced]
    type = EqualValueConstraint
    variable = lm
    secondary_variable = u
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;1 2 3 4&#x27;
    function = exact_sln
  [../]
[]

[Postprocessors]
  [./l2_error]
    type = ElementL2Error
    variable = u
    function = exact_sln
    block = &#x27;1 2&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-11
  l_tol = 1e-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="024d2a74-36ab-49de-af72-a3581cf27749"><div class="modal-content"><h4>test/tests/meshgenerators/file_mesh_generator/file_mesh_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmg]
    type = FileMeshGenerator
    file = square.e
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e4c6fc39-d179-41cf-addc-58f395a75fc9"><div class="modal-content"><h4>modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact_constant_conductance.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmesh]
    type = FileMeshGenerator
    file = meshed_gap.e
  []
  [block0]
    type = SubdomainBoundingBoxGenerator
    input = fmesh
    bottom_left = &#x27;.5 -.5 0&#x27;
    top_right = &#x27;.7 .5 0&#x27;
    block_id = 4
  []
[]

[Variables]
  [./temp]
    block = &#x27;1 3&#x27;
    initial_condition = 1.0
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    block = &#x27;1 3&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = 1
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = temp
    boundary = 4
    value = 2
  [../]
[]

[ThermalContact]
  [./gap_conductance]
    type = GapHeatTransfer
    variable = temp
    primary = 2
    secondary = 3
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductance = 2.5
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;1 3&#x27;
    temp = temp
    thermal_conductivity = 1
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="08901a1d-b350-4a8d-a7bb-e476042be4dc"><div class="modal-content"><h4>test/tests/meshgenerators/smooth_mesh_generator/mesh_smoother_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = concentric_circle_mesh_in.e
  []

  [./smooth]
    type = SmoothMeshGenerator
    input = fmg
    iterations = 3
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3c759d6e-eff1-4577-b1c9-7bc9594dbf9c"><div class="modal-content"><h4>modules/contact/test/tests/normal-nodal-lm-tan-tolerance/normal-nodal-lm-tan-tolerance.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  preset = false
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-gap_no1000.e
  []
[]

[Modules/TensorMechanics/Master]
  [./all]
    displacements = &#x27;disp_x disp_y&#x27;
    strain = FINITE
    add_variables = true
    block = &#x27;1 2&#x27;
    use_automatic_differentiation = true
    scaling = 1e-4
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e5
    poissons_ratio = 0.345
    block = &#x27;1 2&#x27;
  [../]

  [./_elastic_strain]
    type = ADComputeFiniteStrainElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[Contact]
  [mortar]
    mesh = file
    secondary = 101
    primary = 100
    model = frictionless
    formulation = mortar
    c_normal = 1e4
    tangential_tolerance = .05
    normal_lm_scaling = 1e-3
  []
[]

[Functions]
  [./disp_bc]
    type = PiecewiseLinear
    x = &#x27;0 10.0&#x27;
    y = &#x27;0 -0.30&#x27;
  [../]

[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;left&#x27;
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;left&#x27;
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = &#x27;right&#x27;
    function = disp_bc # &#x27;-30e-3 * t&#x27;
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;right&#x27;
    function = 0
  [../]
[]

[Preconditioning]
  [./fmp]
    type = FDP
    full = true
    finite_difference_type = standard
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Transient
  num_steps = 10
  dt = 1
  dtmin = 1
  nl_rel_tol = 1e-12
  nl_abs_tol = 1e-13

  petsc_options = &#x27;-ksp_monitor_true_residual -snes_converged_reason -ksp_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type  -snes_linesearch_type -pc_factor_shift_type -snes_max_it  -ksp_max_it&#x27;
  petsc_options_value = &#x27;lu        basic                 NONZERO               20            30&#x27;

  [Predictor]
    type = SimplePredictor
    scale = 1
  []
[]

[Outputs]
  checkpoint = true
  exodus = true
  print_linear_residuals = false
  [dof]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57511109-d35f-48a0-a968-05a28e45d5de"><div class="modal-content"><h4>test/tests/meshgenerators/sideset_around_subdomain_generator/around.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [./block_1]
    type = SideSetsAroundSubdomainGenerator
    input = fmg
    block = &#x27;left&#x27;
    new_boundary = &#x27;hull_1&#x27;
  []

  [./block_2]
    type = SideSetsAroundSubdomainGenerator
    input = block_1
    block = &#x27;right&#x27;
    new_boundary = &#x27;hull_2&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2050b41b-a5a8-4cd1-b486-c912a1257800"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="dc0f1ee0-5902-489c-917b-38c79d72aee6"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_splittrue.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = coh3D_3Blocks.e
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8c2b37e8-836b-409a-b6de-b8b124462a15"><div class="modal-content"><h4>test/tests/meshgenerators/mesh_extruder_generator/extrude_angle.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = chimney_quad.e
  []

  [./extrude]
    type = MeshExtruderGenerator
    input = fmg
    num_layers = 20
    extrusion_vector = &#x27;1e-2 1e-2 0&#x27;
    bottom_sideset = &#x27;10&#x27;
    top_sideset = &#x27;20&#x27;
  []
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = 10
    value = 0
  [../]

  [./top]
    type = DirichletBC
    variable = u
    boundary = 20
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  file_base = out_quad_angle
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="92d018d1-b04c-41ce-95ec-797565e264a6"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_one_retain.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_2blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = true
    convert_block_ids = 2
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d1e89f07-98a1-4d70-9787-9a07622c4de9"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_splittrue.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = 4ElementJunction.e
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="419af371-9333-4478-8425-bdb355a688f0"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_from_points_generator/sidesets_from_points.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = cylinder.e
    #parallel_type = replicated
  []

  [./sidesets]
    type = SideSetsFromPointsGenerator
    input = fmg
    points = &#x27;0   0  0.5
              0.1 0  0
              0   0 -0.5&#x27;
    new_boundary = &#x27;top side bottom&#x27;
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 0
  [../]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c69ba9ef-46b4-4db9-9246-ca70dd31d186"><div class="modal-content"><h4>test/tests/meshgenerators/patterned_mesh_generator/patterned_mesh_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = quad_mesh.e
  []

  [./fmg2]
    type = FileMeshGenerator
    file = tri_mesh.e
  []

  [./pmg]
    type = PatternedMeshGenerator
    inputs = &#x27;fmg fmg2&#x27;
    pattern = &#x27;0 0 0 0 0 0 0 0 0 0 0 0 0 0 ;
               0 1 1 0 0 0 0 0 0 0 0 1 1 0 ;
               0 1 1 1 0 0 0 0 0 0 1 1 1 0 ;
               0 1 0 1 1 0 0 0 0 1 1 0 1 0 ;
               0 1 0 0 1 1 0 0 1 1 0 0 1 0 ;
               0 1 0 0 0 1 1 1 1 0 0 0 1 0 ;
               0 1 0 0 0 0 1 1 0 0 0 0 1 0 ;
               0 1 0 0 0 0 0 0 0 0 0 0 1 0 ;
               0 1 0 0 0 0 0 0 0 0 0 0 1 0 ;
               0 1 0 0 0 0 0 0 0 0 0 0 1 0 ;
               0 1 0 0 0 0 0 0 0 0 0 0 1 0 ;
               0 0 0 0 0 0 0 0 0 0 0 0 0 0&#x27;
    bottom_boundary = 1
    right_boundary = 2
    top_boundary = 3
    left_boundary = 4
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = MatCoefDiffusion
    variable = u
    conductivity = conductivity
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 1
  [../]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 0
  [../]
[]

[Materials]
  [./mat1]
    type = GenericConstantMaterial
    block = 1
    prop_names = conductivity
    prop_values = 100
  [../]
  [./mat2]
    type = GenericConstantMaterial
    block = 2
    prop_names = conductivity
    prop_values = 1e-4
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="fcc34a0c-1664-44b9-8694-36368f49ea1b"><div class="modal-content"><h4>test/tests/mortar/cant-do-3d/periodic.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = flow_test.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    new_block_id = 11
    new_block_name = &quot;secondary&quot;
    sidesets = &#x27;1&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    new_block_id = 12
    new_block_name = &quot;primary&quot;
    sidesets = &#x27;2&#x27;
  []
[]

[Variables]
  [u]
    block = &#x27;bottom middle top&#x27;
  []
  [lm]
    block = &#x27;secondary&#x27;
  []
[]

[Kernels]
  [diffusion]
    type = Diffusion
    variable = u
    block = &#x27;bottom middle top&#x27;
  []
  [force]
    type = BodyForce
    variable = u
    block = &#x27;bottom middle top&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    value = 1
    boundary = &#x27;around&#x27;
  []
[]

[Constraints]
  [ev]
    type = EqualValueConstraint
    variable = lm
    secondary_variable = u
    primary_boundary = top
    secondary_boundary = bottom
    primary_subdomain = 12
    secondary_subdomain = 11

    periodic = true
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ec5e8ca8-950a-40f9-a03e-e24078266b7e"><div class="modal-content"><h4>modules/porous_flow/examples/coal_mining/coarse_with_fluid.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fluid flow aaround a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# The excavation takes 0.5 years.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
#  - no flow at x=0, z=-400 and z=0
#  - fixed porepressure at y=-1000, y=1000 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# A single-phase unsaturated fluid is used.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa, and time units are measured in years.
#
# The initial porepressure is hydrostatic with P=0 at z=0, so
# Porepressure ~ - 0.01*z MPa, where the fluid has density 1E3 kg/m^3 and
# gravity = = 10 m.s^-2 = 1E-5 MPa m^2/kg.
# To be more accurate, i use
# Porepressure = -bulk * log(1 + g*rho0*z/bulk)
# where bulk=2E3 MPa and rho0=1Ee kg/m^3.
# The initial stress is consistent with the weight force from undrained
# density 2500 kg/m^3, and fluid porepressure, and a Biot coefficient of 0.7, ie,
# stress_zz^effective = 0.025*z + 0.7 * initial_porepressure
# The maximum and minimum principal horizontal effective stresses are
# assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 2 MPa
# MC friction angle = 35 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
# Fluid density at zero porepressure = 1E3 kg/m^3
# Fluid bulk modulus = 2E3 MPa
# Fluid viscosity = 1.1E-3 Pa.s = 1.1E-9 MPa.s = 3.5E-17 MPa.year
#
[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
  PorousFlowDictator = dictator
  biot_coefficient = 0.7
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/coarse.e
  []
  [./xmin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
    input = file
  [../]
  [./xmax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
    input = xmin
  [../]
  [./ymin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
    input = xmax
  [../]
  [./ymax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
    input = ymin
  [../]
  [./zmax]
    type = SideSetsAroundSubdomainGenerator
    block = 16
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
    input = ymax
  [../]
  [./zmin]
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
    input = zmax
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 3
    paired_block = 1
    input = excav
    new_boundary = roof
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
  [./porepressure]
    scaling = 1E-5
  [../]
[]

[ICs]
  [./porepressure]
    type = FunctionIC
    variable = porepressure
    function = ini_pp
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
  [./poro_x]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./poro_y]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./poro_z]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    component = 2
    variable = disp_z
  [../]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    use_displaced_mesh = false
    fluid_component = 0
    variable = porepressure
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    use_displaced_mesh = false
    variable = porepressure
    gravity = &#x27;0 0 -10E-6&#x27;
    fluid_component = 0
  [../]
  [./poro_vol_exp]
    type = PorousFlowMassVolumetricExpansion
    use_displaced_mesh = false
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    variable = porepressure
    fluid_component = 0
  [../]
[]


[AuxVariables]
  [./saturation]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_x]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_y]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_z]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_water]
    type = PorousFlowPropertyAux
    variable = saturation
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./darcy_x]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_x
    gravity = &#x27;0 0 -10E-6&#x27;
    component = x
  [../]
  [./darcy_y]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_y
    gravity = &#x27;0 0 -10E-6&#x27;
    component = y
  [../]
  [./darcy_z]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_z
    gravity = &#x27;0 0 -10E-6&#x27;
    component = z
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
    execute_on = timestep_end
  [../]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_xx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_xy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_xz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_yx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_yy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_yz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_zx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_zy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_zz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./perm_xx]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_xx
    row = 0
    column = 0
    execute_on = timestep_end
  [../]
  [./perm_yy]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_yy
    row = 1
    column = 1
    execute_on = timestep_end
  [../]
  [./perm_zz]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_zz
    row = 2
    column = 2
    execute_on = timestep_end
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
    execute_on = timestep_end
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
    execute_on = timestep_end
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
    execute_on = timestep_end
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
    execute_on = timestep_end
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
    execute_on = timestep_end
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
    execute_on = timestep_end
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
    execute_on = timestep_end
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
    execute_on = timestep_end
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./fix_porepressure]
    type = FunctionDirichletBC
    variable = porepressure
    boundary = &#x27;ymin ymax xmax&#x27;
    function = ini_pp
  [../]
  [./roof_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    pt_vals = &#x27;-1E3 1E3&#x27;
    multipliers = &#x27;-1 1&#x27;
    fluid_phase = 0
    flux_function = roof_conductance
    boundary = roof
  [../]
  [./roof_bcs]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_pp]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3&#x27;
    value = &#x27;-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)&#x27;
  [../]
  [./ini_xx]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;0.8*(2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)))&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk))&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;0.5   0    1000.0 1E-9 1 60&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;0.5   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
  [./roof_conductance]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax   maxval minval&#x27;
    vals = &#x27;0.5   0    1000.0 1E7      0&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),maxval,minval)&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;porepressure disp_x disp_y disp_z&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1 # MPa^-1
  [../]

  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.99 # MPa
    value_residual = 2.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.61 # 35deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.26 # 15deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E3
      density0 = 1000
      thermal_expansion = 0
      viscosity = 3.5E-17
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./eff_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./vol_strain]
    type = PorousFlowVolumetricStrain
  [../]
  [./ppss]
    type = PorousFlow1PhaseP
    porepressure = porepressure
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity_bulk]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_excav]
    type = PorousFlowPorosityConst
    block = 1
    porosity = 1.0
  [../]
  [./permeability_bulk]
    type = PorousFlowPermeabilityKozenyCarman
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    poroperm_function = kozeny_carman_phi0
    k0 = 1E-15
    phi0 = 0.02
    n = 2
    m = 2
  [../]
  [./permeability_excav]
    type = PorousFlowPermeabilityConst
    block = 1
    permeability = &#x27;0 0 0   0 0 0   0 0 0&#x27;
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.4
    sum_s_res = 0.4
    phase = 0
  [../]

  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.05
    smoothing_tol = 0.05 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./undrained_density_0]
    type = GenericConstantMaterial
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./undrained_density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_roof_pp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = porepressure
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_pp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = porepressure
  [../]
  [./max_perm_zz]
    type = ElementExtremeValue
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    variable = perm_zz
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;

  # best overall
  # petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  # petsc_options_value = &#x27; lu       mumps&#x27;

  # best if you do not have mumps:
  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27; lu       superlu_dist&#x27;

  # best if you do not have mumps or superlu_dist:
  #petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  # very basic:
  #petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 200
  nl_max_its = 30

  start_time = 0.0
  dt = 0.014706
  end_time = 0.014706 #0.5
[]

[Outputs]
  interval = 1
  print_linear_residuals = true
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="385e45cc-203f-4fbd-959b-0a89cf3e7b5e"><div class="modal-content"><h4>modules/combined/test/tests/exception/ad.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = SECOND
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Problem]
  coord_type = RZ
[]

[Mesh]
  patch_update_strategy = iteration
  [./gen]
    type = FileMeshGenerator
    file = mesh.e
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./temp]
    initial_condition = 501
  [../]
[]

[AuxVariables]
  [./density_aux]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Modules/TensorMechanics/Master]
  [./finite]
    strain = FINITE
    use_automatic_differentiation = true
  [../]
[]

[Kernels]
  [./gravity]
    type = ADGravity
    variable = disp_y
    value = -9.81
  [../]
  [./heat]
    type = ADMatDiffusion
    variable = temp
    diffusivity = 1
  [../]
  [./heat_ie]
    type = ADTimeDerivative
    variable = temp
  [../]
[]

[AuxKernels]
  [./conductance]
    type = ADMaterialRealAux
    property = density
    variable = density_aux
    boundary = inner_surface
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = outer_interior
    secondary = inner_surface
    emissivity_primary = 0
    emissivity_secondary = 0
    quadrature = true
  [../]
[]

[BCs]
  [./no_x]
    type = ADDirichletBC
    variable = disp_x
    boundary = &#x27;centerline&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = ADDirichletBC
    variable = disp_y
    boundary = &#x27;centerline outer_exterior&#x27;
    value = 0.0
  [../]
  [./temp]
    type = FunctionDirichletBC
    boundary = outer_exterior
    variable = temp
    function = &#x27;500 + t&#x27;
  [../]
[]

[Materials]
  [./density]
    type = ADGenericConstantMaterial
    prop_names = &#x27;density&#x27;
    prop_values = &#x27;1&#x27;
  [../]

  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e11
    poissons_ratio = 0.3
  [../]

  [./inner_elastic_stress]
    type = ADComputeMultipleInelasticStress
    inelastic_models = &#x27;inner_creep&#x27;
    block = inner
    outputs = all
  [../]

  [./inner_creep]
    type = ADPowerLawCreepExceptionTest
    coefficient = 10e-22
    n_exponent = 2
    activation_energy = 0
    block = inner
  [../]

  [./outer_stressstress]
    type = ADComputeFiniteStrainElasticStress
    block = outer
  [../]
[]

[Executioner]
  type = Transient
  petsc_options = &#x27; -snes_converged_reason -ksp_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  line_search = none

  nl_abs_tol = 1e-7
  l_max_its = 20

  num_steps = 1
  dt = 1
  dtmin = .1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="32322ab7-7d7e-4ace-8e78-0891ba97aa7b"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_jac/two_blocks.i</h4><pre class="moose-pre"><code class="language-text"># This problem consists of two beams with different prescribed temperatures on
# the top of the top beam and the bottom of the bottom beam.  The top beam is
# fixed against vertical displacement on the top surface, and the bottom beam
# bends downward due to thermal expansion.

# This is a test of the effectiveness of the Jacobian terms coupling temperature
# and displacement for thermal contact. The Jacobian is not exactly correct,
# but is close enough that this challenging problem converges in a small number
# of nonlinear iterations using NEWTON.

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [./msh]
    type = FileMeshGenerator
    file = two_blocks.e
  []
[]

[Variables]
  [./temp]
  [../]
[]

[Kernels]
  [./heat]
    type = ADHeatConduction
    variable = temp
  [../]
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = FINITE
    add_variables = true
    eigenstrain_names = thermal_expansion
    generate_output = &#x27;stress_xx stress_yy stress_zz stress_yz stress_xz stress_xy&#x27;
    use_automatic_differentiation = true
  [../]
[]

[Contact]
  [./mechanical]
    primary = 4
    secondary = 5
    formulation = kinematic
    tangential_tolerance = 1e-1
    penalty = 1e10
  [../]
[]

[ThermalContact]
  [./thermal]
    type = GapHeatTransfer
    variable = temp
    primary = 4
    secondary = 5
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 1e4
    quadrature = true
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1
    value = 0.0
  [../]
  [./top_y]
    type = DirichletBC
    variable = disp_y
    boundary = 7
    value = 0
  [../]
  [./top_temp]
    type = DirichletBC
    variable = temp
    boundary = 7
    value = 1000.0
  [../]
  [./bot_temp]
    type = DirichletBC
    variable = temp
    boundary = 6
    value = 500.0
  [../]
[]

[Materials]
  [./density]
    type = Density
    density = 100
  [../]
  [./temp]
    type = ADHeatConductionMaterial
    thermal_conductivity = 1e5
    specific_heat = 620.0
  [../]
  [./Elasticity_tensor]
    type = ADComputeElasticityTensor
    fill_method = symmetric_isotropic
    C_ijkl = &#x27;0.3 0.5e8&#x27;
  [../]
  [./thermal_eigenstrain]
    type = ADComputeThermalExpansionEigenstrain
    thermal_expansion_coeff = 1e-5
    stress_free_temperature = 500
    temperature = temp
    eigenstrain_name = thermal_expansion
  [../]
  [./stress]
    type = ADComputeFiniteStrainElasticStress
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Outputs]
  exodus = true
[]

[Executioner]
  automatic_scaling = true
  type = Transient
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  solve_type = NEWTON
  nl_max_its = 15
  l_tol = 1e-10
  l_max_its = 50
  start_time = 0.0
  dt = 0.2
  dtmin = 0.2
  num_steps = 1
  line_search = none
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7974c1e9-3f13-4c25-8970-e661c88f22ad"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_3D_auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = coh3D_3Blocks.e
    parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0e93055a-fb01-444c-a3b1-4dea6bbc34f6"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-conforming/conforming-2nd-order.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-conf-2nd.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = &#x27;10001&#x27;
    new_block_name = &#x27;secondary_lower&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = &#x27;10000&#x27;
    new_block_name = &#x27;primary_lower&#x27;
  []
[]

[Problem]
  kernel_coverage_check = false
[]

[Functions]
  [./exact_sln]
    type = ParsedFunction
    value = x*x+y*y
  [../]
  [./ffn]
    type = ParsedFunction
    value = -4
  [../]
[]

[Variables]
  [./u]
    order = SECOND
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm]
    order = SECOND
    family = LAGRANGE
    block = secondary_lower
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./ffn]
    type = BodyForce
    variable = u
    function = ffn
  [../]
[]

[Constraints]
  [./ced]
    type = EqualValueConstraint
    variable = lm
    secondary_variable = u
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;1 2 3 4&#x27;
    function = exact_sln
  [../]
[]

[Postprocessors]
  [./l2_error]
    type = ElementL2Error
    variable = u
    function = exact_sln
    block = &#x27;1 2&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-14
  l_tol = 1e-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="38b41a5e-0b1e-41ab-a1e5-772c8a5a64a6"><div class="modal-content"><h4>modules/porous_flow/examples/coal_mining/fine_with_fluid.i</h4><pre class="moose-pre"><code class="language-text">#################################################################
#
#  NOTE:
#  The mesh for this model is too large for the MOOSE repository
#  so is kept in the the large_media submodule
#
#################################################################
#
# Strata deformation and fluid flow aaround a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# The excavation takes 0.5 years.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
#  - no flow at x=0, z=-400 and z=0
#  - fixed porepressure at y=-1000, y=1000 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# A single-phase unsaturated fluid is used.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa, and time units are measured in years.
#
# The initial porepressure is hydrostatic with P=0 at z=0, so
# Porepressure ~ - 0.01*z MPa, where the fluid has density 1E3 kg/m^3 and
# gravity = = 10 m.s^-2 = 1E-5 MPa m^2/kg.
# To be more accurate, i use
# Porepressure = -bulk * log(1 + g*rho0*z/bulk)
# where bulk=2E3 MPa and rho0=1Ee kg/m^3.
# The initial stress is consistent with the weight force from undrained
# density 2500 kg/m^3, and fluid porepressure, and a Biot coefficient of 0.7, ie,
# stress_zz^effective = 0.025*z + 0.7 * initial_porepressure
# The maximum and minimum principal horizontal effective stresses are
# assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 2 MPa
# MC friction angle = 35 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
# Fluid density at zero porepressure = 1E3 kg/m^3
# Fluid bulk modulus = 2E3 MPa
# Fluid viscosity = 1.1E-3 Pa.s = 1.1E-9 MPa.s = 3.5E-17 MPa.year
#
[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
  PorousFlowDictator = dictator
  biot_coefficient = 0.7
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = fine.e
  []
  [./xmin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
    input = file
  [../]
  [./xmax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
    input = xmin
  [../]
  [./ymin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
    input = xmax
  [../]
  [./ymax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
    input = ymin
  [../]
  [./zmax]
    type = SideSetsAroundSubdomainGenerator
    block = 30
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
    input = ymax
  [../]
  [./zmin]
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
    input = zmax
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 3
    paired_block = 1
    input = excav
    new_boundary = roof
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
  [./porepressure]
    scaling = 1E-5
  [../]
[]

[ICs]
  [./porepressure]
    type = FunctionIC
    variable = porepressure
    function = ini_pp
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
  [./poro_x]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./poro_y]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./poro_z]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    component = 2
    variable = disp_z
  [../]
  [./poro_vol_exp]
    type = PorousFlowMassVolumetricExpansion
    use_displaced_mesh = false
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    variable = porepressure
    fluid_component = 0
  [../]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    use_displaced_mesh = false
    fluid_component = 0
    variable = porepressure
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    use_displaced_mesh = false
    variable = porepressure
    gravity = &#x27;0 0 -10E-6&#x27;
    fluid_component = 0
  [../]
[]


[AuxVariables]
  [./saturation]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_x]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_y]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_z]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_water]
    type = PorousFlowPropertyAux
    variable = saturation
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./darcy_x]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_x
    gravity = &#x27;0 0 -10E-6&#x27;
    component = x
  [../]
  [./darcy_y]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_y
    gravity = &#x27;0 0 -10E-6&#x27;
    component = y
  [../]
  [./darcy_z]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_z
    gravity = &#x27;0 0 -10E-6&#x27;
    component = z
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
    execute_on = timestep_end
  [../]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_xx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_xy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_xz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_yx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_yy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_yz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_zx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_zy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_zz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./perm_xx]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_xx
    row = 0
    column = 0
    execute_on = timestep_end
  [../]
  [./perm_yy]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_yy
    row = 1
    column = 1
    execute_on = timestep_end
  [../]
  [./perm_zz]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_zz
    row = 2
    column = 2
    execute_on = timestep_end
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
    execute_on = timestep_end
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
    execute_on = timestep_end
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
    execute_on = timestep_end
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
    execute_on = timestep_end
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
    execute_on = timestep_end
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
    execute_on = timestep_end
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
    execute_on = timestep_end
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
    execute_on = timestep_end
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./fix_porepressure]
    type = FunctionDirichletBC
    variable = porepressure
    boundary = &#x27;ymin ymax xmax&#x27;
    function = ini_pp
  [../]
  [./roof_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    pt_vals = &#x27;-1E3 1E3&#x27;
    multipliers = &#x27;-1 1&#x27;
    fluid_phase = 0
    flux_function = roof_conductance
    boundary = roof
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_pp]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3&#x27;
    value = &#x27;-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)&#x27;
  [../]
  [./ini_xx]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;0.8*(2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)))&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk))&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;0.5   0    1000.0 1E-9 1 10&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;0.5   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
  [./roof_conductance]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax   maxval minval&#x27;
    vals = &#x27;0.5   0    1000.0 1E7      0&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),maxval,minval)&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;porepressure disp_x disp_y disp_z&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1 # MPa^-1
  [../]

  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.99 # MPa
    value_residual = 2.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.61 # 35deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.26 # 15deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E3
      density0 = 1000
      thermal_expansion = 0
      viscosity = 3.5E-17
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./eff_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./vol_strain]
    type = PorousFlowVolumetricStrain
  [../]
  [./ppss]
    type = PorousFlow1PhaseP
    porepressure = porepressure
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity_for_aux]
    type = PorousFlowPorosity
    at_nodes = false
    fluid = true
    mechanical = true
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_bulk]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_excav]
    type = PorousFlowPorosityConst
    block = 1
    porosity = 1.0
  [../]
  [./permeability_bulk]
    type = PorousFlowPermeabilityKozenyCarman
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    poroperm_function = kozeny_carman_phi0
    k0 = 1E-15
    phi0 = 0.02
    n = 2
    m = 2
  [../]
  [./permeability_excav]
    type = PorousFlowPermeabilityConst
    block = 1
    permeability = &#x27;0 0 0   0 0 0   0 0 0&#x27;
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.4
    sum_s_res = 0.4
    phase = 0
  [../]

  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.05
    smoothing_tol = 0.05 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./undrained_density_0]
    type = GenericConstantMaterial
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./undrained_density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_roof_pp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = porepressure
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_pp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = porepressure
  [../]
  [./max_perm_zz]
    type = ElementExtremeValue
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    variable = perm_zz
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;

  # best overall
  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27; lu       mumps&#x27;

  # best if you don&#x27;t have mumps:
  #petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  # very basic:
  #petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 200
  nl_max_its = 30

  start_time = 0.0
  dt = 0.0025
  end_time = 0.5
[]

[Outputs]
  interval = 1
  print_linear_residuals = true
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c80d2b83-e2b9-4f99-b255-c5370fbce569"><div class="modal-content"><h4>modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_annulus_thermal_contact.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmesh]
    type = FileMeshGenerator
    file = meshed_annulus.e
  []
  [rename]
    type = RenameBlockGenerator
    input = fmesh
    old_block_id = &#x27;1 2 3&#x27;
    new_block_id = &#x27;1 4 3&#x27;
  []
[]

[Variables]
  [./temp]
    block = &#x27;1 3&#x27;
    initial_condition = 1.0
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    block = &#x27;1 3&#x27;
  [../]
  [./source]
    type = HeatSource
    variable = temp
    block = 3
    value = 10.0
  [../]
[]

[BCs]
  [./outside]
    type = DirichletBC
    variable = temp
    boundary = 1
    value = 1.0
  [../]
[]

[ThermalContact]
  [./gap_conductivity]
    type = GapHeatTransfer
    variable = temp
    primary = 2
    secondary = 3
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 0.5
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;1 3&#x27;
    temp = temp
    thermal_conductivity = 1
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8e3fba8a-44ba-4bd0-905d-58732e17c466"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_sideset_generation.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = circle.e
  [../]
  [./mgpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    construct_peridynamics_sideset = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e633af26-aa25-49e8-975e-aa91b6eaeadf"><div class="modal-content"><h4>modules/contact/test/tests/mechanical-small-problem/frictionless-nodal-lm-mortar-disp.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [./simple_mesh]
    type = FileMeshGenerator
    file = mesh.e
  [../]
  [./primary]
    type = LowerDBlockFromSidesetGenerator
    input = simple_mesh
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;3&#x27;
  [../]
  [./secondary]
    type = LowerDBlockFromSidesetGenerator
    input = primary
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;4&#x27;
  [../]
[]

[Constraints]
  [./lm]
    type = NormalNodalLMMechanicalContact
    secondary = 1
    primary = 2
    variable = frictionless_normal_lm
    primary_variable = disp_x
    disp_y = disp_y
  [../]
  [x]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;1&#x27;
    primary_subdomain = &#x27;3&#x27;
    secondary_subdomain = &#x27;4&#x27;
    variable = frictionless_normal_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [y]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;1&#x27;
    primary_subdomain = &#x27;3&#x27;
    secondary_subdomain = &#x27;4&#x27;
    variable = frictionless_normal_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
[]

[Variables]
  [./disp_x]
    block = &#x27;1 2&#x27;
  [../]
  [./disp_y]
    block = &#x27;1 2&#x27;
  [../]
  [./frictionless_normal_lm]
    block = 4
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = &#x27;outside_right&#x27;
    function = &#x27;-5e-3 * t&#x27;
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;outside_right&#x27;
    function = 0
  [../]
[]

[Kernels]
  [disp_x]
    type = Diffusion
    variable = disp_x
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    type = Diffusion
    variable = disp_y
    block = &#x27;1 2&#x27;
  []
[]

[Debug]
  show_var_residual_norms = 1
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = PJFNK
  type = Transient
  num_steps = 10
  dt = 1
  dtmin = 1
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
[]

[Outputs]
  exodus = true
[]

[Postprocessors]
  [contact]
    type = ContactDOFSetSize
    variable = frictionless_normal_lm
    subdomain = &#x27;4&#x27;
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a94a4d1c-f340-4ff4-a7b6-c29a8aec552c"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_interface.i</h4><pre class="moose-pre"><code class="language-text"># Two of four disconnected FE mesh blocks are converted to PD mesh blocks
# Interfacial bonds are formed between these two blocks, and assigned with a block ID

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_4blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    convert_block_ids = &#x27;2 3&#x27;
    #non_convert_block_ids = &#x27;1 4&#x27;
    connect_block_id_pairs = &#x27;2 3&#x27;
    construct_peridynamics_sideset = true
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a47efd57-dac9-4959-94cd-7e986f437b92"><div class="modal-content"><h4>test/tests/meshgenerators/mesh_extruder_generator/extrude_quad.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = chimney_quad.e
  []

  [./extrude]
    type = MeshExtruderGenerator
    input = fmg
    num_layers = 20
    extrusion_vector = &#x27;0 1e-2 0&#x27;
    bottom_sideset = &#x27;new_bottom&#x27;
    top_sideset = &#x27;new_top&#x27;
  []
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_bottom&#x27;
    value = 0
  [../]

  [./top]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_top&#x27;
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  file_base = out_quad
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3f66e99a-c61f-4d86-b4ae-5190a27eb17d"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_one_delete.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_2blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    convert_block_ids = 1
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="df3990fb-9579-4b5b-89cf-b0b12535da57"><div class="modal-content"><h4>modules/combined/test/tests/exception/nonad.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  order = SECOND
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Problem]
  coord_type = RZ
[]

[Mesh]
  patch_update_strategy = iteration
  [./gen]
    type = FileMeshGenerator
    file = mesh.e
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./temp]
    initial_condition = 501
  [../]
[]

[AuxVariables]
  [./density_aux]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Modules/TensorMechanics/Master]
  [./finite]
    strain = FINITE
  [../]
[]

[Kernels]
  [./gravity]
    type = Gravity
    variable = disp_y
    value = -9.81
  [../]
  [./heat]
    type = MatDiffusion
    variable = temp
    diffusivity = 1
  [../]
  [./heat_ie]
    type = TimeDerivative
    variable = temp
  [../]
[]

[AuxKernels]
  [./conductance]
    type = MaterialRealAux
    property = density
    variable = density_aux
    boundary = inner_surface
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = outer_interior
    secondary = inner_surface
    emissivity_primary = 0
    emissivity_secondary = 0
    quadrature = true
  [../]
[]

[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;centerline&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;centerline outer_exterior&#x27;
    value = 0.0
  [../]
  [./temp]
    type = FunctionDirichletBC
    boundary = outer_exterior
    variable = temp
    function = &#x27;500 + t&#x27;
  [../]
[]

[Materials]
  [./density]
    type = GenericConstantMaterial
    prop_names = &#x27;density&#x27;
    prop_values = &#x27;1&#x27;
  [../]

  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e11
    poissons_ratio = 0.3
  [../]

  [./inner_elastic_stress]
    type = ComputeMultipleInelasticStress
    inelastic_models = &#x27;inner_creep&#x27;
    block = inner
    outputs = all
  [../]

  [./inner_creep]
    type = PowerLawCreepExceptionTest
    coefficient = 10e-22
    n_exponent = 2
    activation_energy = 0
    block = inner
  [../]

  [./outer_stressstress]
    type = ComputeFiniteStrainElasticStress
    block = outer
  [../]
[]

[Executioner]
  type = Transient
  petsc_options = &#x27; -snes_converged_reason -ksp_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  line_search = none

  nl_abs_tol = 1e-7
  l_max_its = 20

  num_steps = 1
  dt = 1
  dtmin = .1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6061398f-27ea-4fc3-a11f-15134919abe9"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_htonly/cyl2D_xz.i</h4><pre class="moose-pre"><code class="language-text">#
# 2D Cylindrical Gap Heat Transfer Test.
#
# This test exercises 2D gap heat transfer for a constant conductivity gap.
#
# The mesh consists of an inner solid cylinder of radius = 1 unit, and outer
# hollow cylinder with an inner radius of 2 in the x-z plane. In other words,
# the gap between them is 1 radial unit in length.
#
# The calculated results are the same as for the cyl2D.i case in the x-y plane.

[GlobalParams]
  order = SECOND
  family = LAGRANGE
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = cyl2D.e
  []
  [./rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;0 90 0&#x27;
    input = file
  [../]
[]

[Functions]
  [./temp]
    type = PiecewiseLinear
    x = &#x27;0   1&#x27;
    y = &#x27;100 200&#x27;
  [../]
[]

[Variables]
  [./temp]
   initial_condition = 100
  [../]
[]

[AuxVariables]
  [./gap_conductance]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./heat_conduction]
    type = HeatConduction
    variable = temp
  [../]
[]

[AuxKernels]
  [./gap_cond]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_conductance
    boundary = 2
  [../]
[]

[Materials]
  [./heat1]
    type = HeatConductionMaterial
    block = &#x27;1 2&#x27;
    specific_heat = 1.0
    thermal_conductivity = 1000000.0
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 1
    quadrature = true
    gap_geometry_type = CYLINDER
    cylinder_axis_point_1 = &#x27;0 0 0&#x27;
    cylinder_axis_point_2 = &#x27;0 1 0&#x27;
  [../]
[]

[BCs]
  [./mid]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp
    function = temp
  [../]
  [./temp_far_right]
    type = DirichletBC
    boundary = 4
    variable = temp
    value = 100
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27;lu       superlu_dist&#x27;

  dt = 1
  dtmin = 0.01
  end_time = 1

  nl_rel_tol = 1e-12
  nl_abs_tol = 1e-7

  [./Quadrature]
     order = fifth
     side_order = seventh
  [../]
[]

[Outputs]
  exodus = true
[]

[Postprocessors]
  [./temp_left]
    type = SideAverageValue
    boundary = 2
    variable = temp
  [../]

  [./temp_right]
    type = SideAverageValue
    boundary = 3
    variable = temp
  [../]

  [./flux_left]
    type = SideFluxIntegral
    variable = temp
    boundary = 2
    diffusivity = thermal_conductivity
  [../]

  [./flux_right]
    type = SideFluxIntegral
    variable = temp
    boundary = 3
    diffusivity = thermal_conductivity
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="064e9926-e53c-4ec5-8ad9-0db521e99499"><div class="modal-content"><h4>modules/contact/test/tests/sliding_block/in_and_out/frictionless_lm.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  patch_size = 80
  [file]
    type = FileMeshGenerator
    file = sliding_elastic_blocks_2d.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;3&#x27;
    new_block_id = &#x27;30&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  volumetric_locking_correction = false
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    strain = FINITE
    block = &#x27;1 2&#x27;
  [../]
[]

[Variables]
  [normal_lm]
    block = &#x27;30&#x27;
  []
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 4
    function = horizontal_movement
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 4
    function = vertical_movement
  [../]
[]

[Materials]
  [./left]
    type = ComputeIsotropicElasticityTensor
    block = &#x27;1 2&#x27;
    youngs_modulus = 1e6
    poissons_ratio = 0.3
    constant_on = SUBDOMAIN
  [../]
  [./stress]
    type = ComputeFiniteStrainElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -snes_ksp_ew&#x27;
  petsc_options_iname = &#x27;-pc_type -mat_mffd_err -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       1e-5          NONZERO               1e-15&#x27;
  end_time = 15
  dt = 0.1
  dtmin = 0.01
  l_max_its = 30
  nl_max_its = 20
  line_search = &#x27;none&#x27;
  timestep_tolerance = 1e-6
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  sync_times = &#x27;1 2 3 4 5 6 7 8 9 10 11 12 13 14 15&#x27;
  [out]
    type = Exodus
    sync_only = true
  []
  [dof]
    execute_on = &#x27;initial&#x27;
    type = DOFMap
  []
  [csv]
    type = CSV
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]

[Functions]
  [./vertical_movement]
    type = ParsedFunction
    value = -t
  [../]
  [./horizontal_movement]
    type = ParsedFunction
    value = -0.04*sin(4*t)+0.02
  [../]
[]

[Constraints]
  [./lm]
    type = NormalNodalLMMechanicalContact
    secondary = 3
    primary = 2
    variable = normal_lm
    primary_variable = disp_x
    disp_y = disp_y
    ncp_function_type = min
    use_displaced_mesh = true
  [../]
  [normal_x]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = normal_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [normal_y]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = normal_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
[]

[Postprocessors]
  [./num_nl]
    type = NumNonlinearIterations
  [../]
  [lin]
    type = NumLinearIterations
  []
  [contact]
    type = ContactDOFSetSize
    variable = normal_lm
    subdomain = &#x27;30&#x27;
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7fa23245-d379-4813-aa93-7dbc5340c050"><div class="modal-content"><h4>test/tests/meshgenerators/stitched_mesh_generator/stitched_mesh_generator2.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg_left]
    type = FileMeshGenerator
    file = left.e
  []

  [./fmg_center]
    type = FileMeshGenerator
    file = center.e
  []

  [./fmg_right]
    type = FileMeshGenerator
    file = right.e
  []

  [./smg]
    type = StitchedMeshGenerator
    inputs = &#x27;fmg_left fmg_center fmg_right&#x27;
    clear_stitched_boundary_ids = true
    stitch_boundaries_pairs = &#x27;right left;
                               right left&#x27;
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c97d06ed-02a4-409a-af3b-dc9c94ad2aa6"><div class="modal-content"><h4>test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance-bnd-aux-kernel.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
    # block 1: left
    # block 2: right
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[AuxVariables]
  [disp_x]
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    block = &#x27;1 2&#x27;
  []
  [aux_var]
  []
[]

[AuxKernels]
  [function_x]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_x&#x27;
    block = &#x27;2&#x27;
  []
  [function_y]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_y&#x27;
    block = &#x27;2&#x27;
  []
  [flux_modifier]
    type = StatefulAuxLowerD
    variable = &#x27;aux_var&#x27;
    coupled_variable = &#x27;lambda&#x27;
    boundary = &#x27;1&#x27;
  []
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    family = LAGRANGE
    order = FIRST
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = T
    boundary = &#x27;5&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = T
    boundary = &#x27;8&#x27;
    value = 1
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = GapHeatConductanceAuxKernel
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
    use_displaced_mesh = true
    auxkernel_variable = &#x27;aux_var&#x27;
  [../]
[]

[Materials]
  [constant]
    type = ADGenericConstantMaterial
    prop_names = &#x27;gap_conductance&#x27;
    prop_values = &#x27;.03&#x27;
    block = &#x27;1 2&#x27;
    use_displaced_mesh = true
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Transient
  num_steps = 5
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type&#x27;
  petsc_options_value = &#x27;lu       basic&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0ace1a65-c3ac-4d69-b799-57f99c5488db"><div class="modal-content"><h4>modules/tensor_mechanics/tutorials/basics/part_3_1.i</h4><pre class="moose-pre"><code class="language-text">#Tensor Mechanics tutorial: the basics
#Step 3, part 1
#3D simulation of uniaxial tension with J2 plasticity

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  [file_mesh]
    type = FileMeshGenerator
    file = necking_quad4.e
  []
  [extrude]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 0.5&#x27;
    num_layers = 2
    bottom_sideset = &#x27;back&#x27;
    top_sideset = &#x27;front&#x27;
    input = file_mesh
  []
  uniform_refine = 0
  second_order = true
[]

[Modules/TensorMechanics/Master]
  [./block1]
    strain = FINITE
    add_variables = true
    generate_output = &#x27;stress_yy strain_yy&#x27;
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 2.1e5
    poissons_ratio = 0.3
  [../]
  [./stress]
    type = ComputeMultiPlasticityStress
    ep_plastic_tolerance = 1e-9
    plastic_models = J2
  [../]
[]

[UserObjects]
  [./hardening]
    type = TensorMechanicsHardeningCubic
    value_0 = 2.4e2
    value_residual = 3.0e2
    internal_0 = 0
    internal_limit = 0.005
  [../]
  [./J2]
    type = TensorMechanicsPlasticJ2
    yield_strength = hardening
    yield_function_tolerance = 1E-3
    internal_constraint_tolerance = 1E-9
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = disp_x #change the variable to reflect the new displacement names
    boundary = 1
    value = 0.0
  [../]
  [./back]
    type = DirichletBC
    variable = disp_z #change the variable to reflect the new displacement names
    boundary = back
    value = 0.0
  [../]
  [./bottom]
    type = DirichletBC
    variable = disp_y #change the variable to reflect the new displacement names
    boundary = 3
    value = 0.0
  [../]
  [./top]
    type = FunctionDirichletBC
    variable = disp_y #change the variable to reflect the new displacement names
    boundary = 4
    function = &#x27;0.0007*t&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.25
  end_time = 16

  solve_type = &#x27;PJFNK&#x27;

  petsc_options = &#x27;-snes_ksp_ew&#x27;
  petsc_options_iname = &#x27;-pc_type -sub_pc_type -pc_asm_overlap -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;asm lu 1 101&#x27;
[]

[Postprocessors]
  [./ave_stress_bottom]
    type = SideAverageValue
    variable = stress_yy
    boundary = 3
  [../]
  [./ave_strain_bottom]
    type = SideAverageValue
    variable = strain_yy
    boundary = 3
  [../]
[]

[Outputs]
  exodus = true
  perf_graph = true
  csv = true
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="94b2c2a5-2eb7-4ec3-963b-e03408f70b87"><div class="modal-content"><h4>modules/contact/test/tests/non-singular-frictional-mortar/frictional-mortar.i</h4><pre class="moose-pre"><code class="language-text">offset = 0.0202

vy = 0.15
vx = 0.040

refine = 1

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  volumetric_locking_correction = true
[]

[Mesh]
  [./original_file_mesh]
    type = FileMeshGenerator
    file = long_short_blocks.e
  [../]
  uniform_refine =  ${refine}
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = FINITE
    incremental = true
    add_variables = true
    block = &#x27;1 2&#x27;
    scaling = 1e-6
  [../]
[]

[Functions]
  [./horizontal_movement]
    type = ParsedFunction
    value = &#x27;if(t&lt;1.0,${vx}*t-${offset},${vx}-${offset})&#x27;
  [../]
  [./vertical_movement]
    type = ParsedFunction
    value = &#x27;if(t&lt;1.0,${offset},${vy}*(t-1.0)+${offset})&#x27;
  [../]
[]

[BCs]
  [./push_left_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 30
    function = horizontal_movement
  [../]
  [./fix_right_x]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./fix_right_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;40&#x27;
    value = 0.0
  [../]
  [./push_left_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;30&#x27;
    function = vertical_movement
  [../]
[]

[Materials]
  [./elasticity_tensor_left]
    type = ComputeIsotropicElasticityTensor
    block = 1
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_left]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]

  [./elasticity_tensor_right]
    type = ComputeIsotropicElasticityTensor
    block = 2
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_right]
    type = ComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Contact]
  [leftright]
    mesh = original_file_mesh
    secondary = 10
    primary = 20

    model = coulomb
    formulation = mortar

    friction_coefficient = 0.2
    c_tangential = 1e3
    normal_lm_scaling = 1e-3
    tangential_lm_scaling = 1e-3
  [../]
[]

[ICs]
  [./disp_y]
    block = 1
    variable = disp_y
    value = ${offset}
    type = ConstantIC
  [../]
  [./disp_x]
    block = 1
    variable = disp_x
    value = -${offset}
    type = ConstantIC
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient

petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -pc_svd_monitor -snes_ksp_ew -pc_svd_monitor&#x27;

  petsc_options_iname = &#x27;-pc_type -mat_mffd_err&#x27;
  petsc_options_value = &#x27;svd      1e-5&#x27;

  dt = 0.1
  dtmin = 0.1
  num_steps = 7
  end_time = 4
  line_search = none
  snesmf_reuse_base = false
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  [./exodus]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c93f2ad6-8bd8-472a-badf-6365a75e5c47"><div class="modal-content"><h4>test/tests/meshgenerators/file_mesh_generator/exodus_file_mesh_with_id.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [material_id_mesh]
    type = FileMeshGenerator
    file = mesh_with_material_id.e
    exodus_extra_element_integers = material_id
  []
[]

[AuxVariables]
  [material_id]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [set_material_id]
    type = ElemExtraIDAux
    variable = material_id
    extra_id_name = material_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a393d60b-103e-4237-b51c-c8e3b0c20e12"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_all_delete.i</h4><pre class="moose-pre"><code class="language-text">[MeshGenerators]

[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_2blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    convert_block_ids = &#x27;1 2&#x27;
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3ad3007b-c835-4ada-8cdb-cae4620f2511"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_htonly/planar_yz.i</h4><pre class="moose-pre"><code class="language-text"># 1-D Gap Heat Transfer Test without mechanics
#
# This test exercises 1-D gap heat transfer for a constant conductivity gap.
#
# The mesh consists of two element blocks in the y-z plane.  Each element block
# is a square. They sit next to one another with a unit between them.
#
# The conductivity of both blocks is set very large to achieve a uniform temperature
# across each block. The temperature of the far bottom boundary
# is ramped from 100 to 200 over one time unit.  The temperature of the far top
# boundary is held fixed at 100.
#
# A simple analytical solution is possible for the heat flux between the blocks:
#
# Flux = (T_left - T_right) * (gapK/gap_width)
#
# The gap conductivity is specified as 1, thus
#
# gapK(Tavg) = 1.0*Tavg
#
# The heat flux across the gap at time = 1 is then:
#
# Flux = 100 * (1.0/1.0) = 100
#
# For comparison, see results from the flux post processors.  These results
# are the same as for the unit 1-D gap heat transfer between two unit cubes.

[Mesh]
  [file]
    type = FileMeshGenerator
    file = simple_2D.e
  []
  [./rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;0 90 90&#x27;
    input = file
  [../]
[]

[Functions]
  [./temp]
    type = PiecewiseLinear
    x = &#x27;0   1   2&#x27;
    y = &#x27;100 200 200&#x27;
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
  [../]
[]

[Variables]
  [./temp]
    order = FIRST
    family = LAGRANGE
    initial_condition = 100
  [../]
[]

[AuxVariables]
  [./gap_cond]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./heat]
    type = HeatConduction
    variable = temp
  [../]
[]


[BCs]
  [./temp_far_bottom]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp
    function = temp
  [../]
  [./temp_far_top]
    type = DirichletBC
    boundary = 4
    variable = temp
    value = 100
  [../]
[]

[AuxKernels]
  [./conductance]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_cond
    boundary = 2
  [../]
[]

[Materials]
  [./heat1]
    type = HeatConductionMaterial
    block = &#x27;1 2&#x27;
    specific_heat = 1.0
    thermal_conductivity = 100000000.0
  [../]
  [./density]
    type = Density
    block = &#x27;1 2&#x27;
    density = 1.0
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;201                hypre    boomeramg      4&#x27;

  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  l_tol = 1e-3
  l_max_its = 100

  dt = 1e-1
  end_time = 1.0
[]

[Postprocessors]
  [./temp_bottom]
    type = SideAverageValue
    boundary = 2
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./temp_top]
    type = SideAverageValue
    boundary = 3
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_bottom]
    type = SideFluxIntegral
    variable = temp
    boundary = 2
    diffusivity = thermal_conductivity
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_top]
    type = SideFluxIntegral
    variable = temp
    boundary = 3
    diffusivity = thermal_conductivity
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f084987a-17b4-4b48-a455-ee2b22393079"><div class="modal-content"><h4>test/tests/meshgenerators/gmsh_bcs/gmsh_bcs.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = plate_hole.msh
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 12
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = 10
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9d23f5dc-05f2-443f-bd8b-748d17fbd815"><div class="modal-content"><h4>modules/contact/test/tests/mechanical-small-problem/mortar-mech.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = mesh.e
  []
  [./primary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
    input = file
  [../]
  [./secondary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
    input = primary
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./disp_x]
    block = &#x27;1 2&#x27;
  [../]
  [./disp_y]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = &#x27;outside_right&#x27;
    function = &#x27;-5e-3 * t&#x27;
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;outside_right&#x27;
    function = 0
  [../]
[]

[Kernels]
  [disp_x]
    type = Diffusion
    variable = disp_x
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    type = Diffusion
    variable = disp_y
    block = &#x27;1 2&#x27;
  []
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [lm]
    type = NormalMortarLMMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;1&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;10&#x27;
    variable = lambda
    secondary_variable = disp_x
    secondary_disp_y = disp_y
    use_displaced_mesh = true
    compute_primal_residuals = false
  []
  [x]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;1&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;10&#x27;
    variable = lambda
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [y]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;1&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;10&#x27;
    variable = lambda
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
[]


[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = PJFNK
  type = Transient
  num_steps = 10
  dt = 1
  dtmin = 1
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="74ea9727-a33a-4811-b321-d75b75f96bb2"><div class="modal-content"><h4>modules/contact/test/tests/bouncing-block-contact/ping-ponging/mortar-no-ping-pong.i</h4><pre class="moose-pre"><code class="language-text">starting_point = 2e-1
offset = 1e-2

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = long-bottom-block-no-lower-d.e
  []
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[ICs]
  [./disp_y]
    block = 2
    variable = disp_y
    value = ${fparse starting_point + offset}
    type = ConstantIC
  [../]
[]

[Modules/TensorMechanics/Master]
  [all]
    add_variables = false
    use_automatic_differentiation = true
    strain = SMALL
  []
[]

[Materials]
  [elasticity]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e0
    poissons_ratio = 0.3
  []
  [stress]
    type = ADComputeLinearElasticStress
  []
[]

[Contact]
  [leftright]
    mesh = file
    secondary = 10
    primary = 20
    model = frictionless
    formulation = mortar
  []
[]

[BCs]
  [./botx]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./boty]
    type = DirichletBC
    variable = disp_y
    boundary = 40
    value = 0.0
  [../]
  [./topy]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 30
    function = &#x27;${starting_point} * cos(2 * pi / 40 * t) + ${offset}&#x27;
  [../]
  [./leftx]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 50
    function = &#x27;1e-2 * t&#x27;
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 40
  end_time = 200
  dt = 5
  dtmin = 5
  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -mat_mffd_err -pc_factor_shift_type&#x27;
  petsc_options_value = &#x27;lu       1e-5          NONZERO&#x27;
  l_max_its = 30
  nl_max_its = 20
  line_search = &#x27;none&#x27;
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  [exo]
    type = Exodus
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="93e13666-ec17-4a03-a52d-463707c0feef"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_htonly/cyl2D_yz.i</h4><pre class="moose-pre"><code class="language-text">#
# 2D Cylindrical Gap Heat Transfer Test.
#
# This test exercises 2D gap heat transfer for a constant conductivity gap.
#
# The mesh consists of an inner solid cylinder of radius = 1 unit, and outer
# hollow cylinder with an inner radius of 2 in the y-z plane. In other words,
# the gap between them is 1 radial unit in length.
#
# The calculated results are the same as for the cyl2D.i case in the x-y plane.

[GlobalParams]
  order = SECOND
  family = LAGRANGE
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = cyl2D.e
  []
  [./rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;0 90 90&#x27;
    input = file
  [../]
[]

[Functions]
  [./temp]
    type = PiecewiseLinear
    x = &#x27;0   1&#x27;
    y = &#x27;100 200&#x27;
  [../]
[]

[Variables]
  [./temp]
   initial_condition = 100
  [../]
[]

[AuxVariables]
  [./gap_conductance]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./heat_conduction]
    type = HeatConduction
    variable = temp
  [../]
[]

[AuxKernels]
  [./gap_cond]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_conductance
    boundary = 2
  [../]
[]

[Materials]
  [./heat1]
    type = HeatConductionMaterial
    block = &#x27;1 2&#x27;
    specific_heat = 1.0
    thermal_conductivity = 1000000.0
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 1
    quadrature = true
    gap_geometry_type = CYLINDER
    cylinder_axis_point_1 = &#x27;0 0 0&#x27;
    cylinder_axis_point_2 = &#x27;1 0 0&#x27;
  [../]
[]

[BCs]
  [./mid]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp
    function = temp
  [../]
  [./temp_far_right]
    type = DirichletBC
    boundary = 4
    variable = temp
    value = 100
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27;lu       superlu_dist&#x27;

  dt = 1
  dtmin = 0.01
  end_time = 1

  nl_rel_tol = 1e-12
  nl_abs_tol = 1e-7

  [./Quadrature]
     order = fifth
     side_order = seventh
  [../]
[]

[Outputs]
  exodus = true
[]

[Postprocessors]
  [./temp_left]
    type = SideAverageValue
    boundary = 2
    variable = temp
  [../]

  [./temp_right]
    type = SideAverageValue
    boundary = 3
    variable = temp
  [../]

  [./flux_left]
    type = SideFluxIntegral
    variable = temp
    boundary = 2
    diffusivity = thermal_conductivity
  [../]

  [./flux_right]
    type = SideFluxIntegral
    variable = temp
    boundary = 3
    diffusivity = thermal_conductivity
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="78b6608c-9668-437f-b789-3daa486ce848"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/czm/czm_patch_test.i</h4><pre class="moose-pre"><code class="language-text"># Patch test for cohesive zone modeling to check convergence
[Mesh]
  [./msh]
  type = FileMeshGenerator
  file = patch_mesh.e
  []
  [./transform]
  type = TransformGenerator
  input = msh
  transform = TRANSLATE
  vector_value = &#x27;-0.5 -0.5 -0.5&#x27;
  []
  [./split]
    type = BreakMeshByBlockGenerator
    input = transform
  []
  [./add_surfaces]
    type = SideSetsFromNormalsGenerator
    input = split
    normals = &#x27;0  0  1
               0  1  0
               1  0  0
               0  0 -1
               0 -1  0
              -1  0  0&#x27;
    fixed_normal = true
    new_boundary = &#x27;front top right back bottom left&#x27;
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules]
  [./TensorMechanics]
    [./Master]
      [./all]
        strain = FINITE
        add_variables = true
        use_finite_deform_jacobian = true
        use_automatic_differentiation = true
      [../]
    [../]
  [../]
[]


[Functions]
  [./angles]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0&#x27;
  [../]

  [./stretch]
    type = PiecewiseLinear
    x = &#x27;0 1&#x27;
    y = &#x27;0 0.01&#x27;
  [../]

  [./move_y]
    type = ParsedFunction
    value = &#x27;y*cos(theta) - z * (1 + a)*sin(theta) - y&#x27;
    vars = &#x27;a theta&#x27;
    vals = &#x27;stretch angles&#x27;
  [../]

  [./move_z]
    type = ParsedFunction
    value = &#x27;y*sin(theta) + z*(1+a)*cos(theta) - z&#x27;
    vars = &#x27;a theta&#x27;
    vals = &#x27;stretch angles&#x27;
  [../]

  [./dt_fun]
    type = PiecewiseConstant
    x = &#x27;0 1&#x27;
    y = &#x27;0.25 0.25&#x27;
  []
[]

[BCs]
  [./fix]
    type = DirichletBC
    preset = true
    value = 0.0
    boundary = left
    variable = disp_x
  [../]

  [./front_y]
    type = FunctionDirichletBC
    boundary = front
    variable = disp_y
    function = move_y
    preset = true
  [../]

  [./back_y]
    type = FunctionDirichletBC
    boundary = back
    variable = disp_y
    function = move_y
    preset = true
  [../]

  [./front_z]
    type = FunctionDirichletBC
    boundary = front
    variable = disp_z
    function = move_z
    preset = true
  [../]

  [./back_z]
    type = FunctionDirichletBC
    boundary = back
    variable = disp_z
    function = move_z
    preset = true
  [../]

[]


[Modules/TensorMechanics/CohesiveZoneMaster]
  [./czm_ik]
    boundary = &#x27;interface&#x27;
  [../]
[]

[Materials]
  [./stress]
    type = ADComputeFiniteStrainElasticStress
  [../]
  [./elasticity_tensor]
    type = ADComputeElasticityTensor
    fill_method = symmetric9
    C_ijkl = &#x27;1.684e5 0.176e5 0.176e5 1.684e5 0.176e5 1.684e5 0.754e5 0.754e5 0.754e5&#x27;
  [../]
  [./czm_mat]
    boundary = &#x27;interface&#x27;
  [../]
[]



[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;newton&#x27;
  line_search = none

  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;

  l_max_its = 2
  l_tol = 1e-14
  nl_max_its = 15
  nl_rel_tol = 1e-10
  nl_abs_tol = 1e-10
  start_time = 0.0
  dt = 0.25
  end_time = 1
[]

[Postprocessors]
  [./nonlin]
    type = NumNonlinearIterations
  [../]
[]


[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f3128fd1-5080-4ff5-bdf0-ab527bcae2c7"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_htonly/gap_heat_transfer_htonly_rz_test.i</h4><pre class="moose-pre"><code class="language-text">#
# 2-D RZ Gap Heat Transfer Test without mechanics
#
# This test exercises 1-D gap heat transfer for a constant conductivity gap.
#
# The mesh consists of two element blocks containing one element each.  Each
#   element is a unit cube.  They sit next to one another with a unit between them.
#
# The conductivity of both blocks is set very large to achieve a uniform temperature
#  across each block. The temperature of the far left boundary
#  is ramped from 100 to 200 over one time unit, and then held fixed for an additional
#  time unit.  The temperature of the far right boundary is held fixed at 100.
#
# A simple analytical solution is possible for the heat flux between the blocks, or cylinders in the case of RZ.:
#
#  Flux = (T_left - T_right) * (gapK/(r*ln(r2/r1)))
#
# For gapK = 1 (default value)
#
# The integrated heat flux across the gap at time 2 is then:
#
# 2*pi*h*k*delta_T/(ln(r2/r1))
# 2*pi*1*1*100/(ln(2/1)) = 906.5 watts
#
# For comparison, see results from the flux post processors.
#
# As a second test, use the rectilinear (parallel plate) form of the gap heat transfer.
#
#  Flux = (T_left - T_right) * (gapK/gapL)
#
# For gapK = 1 (default value)
#
# The integrated heat flux across the gap at time 2 is then:
#
# 2*pi*h*k*delta_T/(1)
# 2*pi*1*1*100/(1) = 628.3 watts
#
# For comparison, see results from the flux post processors.
#

[Problem]
  coord_type = RZ
  rz_coord_axis = Y # this is modified through CLI args to test Z-R as opposed to R-Z
[]

[Mesh]
  active = &#x27;file&#x27;
  [file]
    type = FileMeshGenerator
    file = gap_heat_transfer_htonly_rz_test.e
  []
  [rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;90 0 0&#x27;
    input = file
  []
[]
[Functions]

  [./ramp]
    type = PiecewiseLinear
    x = &#x27;0   1   2&#x27;
    y = &#x27;100 200 200&#x27;
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
  [../]
  [./thermal_contact2]
    type = GapHeatTransfer
    variable = temp2
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_geometry_type = PLATE
    appended_property_name = 2
  [../]
[]

[Variables]
  [./temp]
    order = FIRST
    family = LAGRANGE
    initial_condition = 100
  [../]
  [./temp2]
    order = FIRST
    family = LAGRANGE
    initial_condition = 100
  [../]
[]

[AuxVariables]
  [./gap_cond]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./gap_cond2]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./heat]
    type = HeatConduction
    variable = temp
  [../]
  [./heat2]
    type = HeatConduction
    variable = temp2
  [../]
[]


[BCs]
  [./temp_far_left]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp
    function = ramp
  [../]

  [./temp_far_right]
    type = DirichletBC
    boundary = 4
    variable = temp
    value = 100
  [../]

  [./temp_far_left2]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp2
    function = ramp
  [../]

  [./temp_far_right2]
    type = DirichletBC
    boundary = 4
    variable = temp2
    value = 100
  [../]
[]

[AuxKernels]
  [./conductance]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_cond
    boundary = 2
  [../]
  [./conductance2]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_cond2
    boundary = 2
  [../]
[]

[Materials]

  [./heat1]
    type = HeatConductionMaterial
    block = &#x27;1 2&#x27;
    specific_heat = 1.0
    thermal_conductivity = 1e6
  [../]
  [./density]
    type = Density
    block = &#x27;1 2&#x27;
    density = 1.0
  [../]
[]

[Executioner]
  type = Transient
#  petsc_options = &#x27;-snes_mf_operator -ksp_monitor -snes_ksp_ew&#x27;

  #Preconditioned JFNK (default)
  solve_type = &#x27;PJFNK&#x27;




#  petsc_options_iname = &#x27;-snes_type -snes_ls -snes_linesearch_type -ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
#  petsc_options_value = &#x27;ls         basic    basic                    201                hypre    boomeramg      4&#x27;
#  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
#  petsc_options_value = &#x27;201                hypre    boomeramg      4&#x27;

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-8

  l_tol = 1e-6
  l_max_its = 100

  start_time = 0.0
  dt = 1e-1
  dtmin = 1e-1
  end_time = 2.0
[]

[Postprocessors]

  [./temp_left]
    type = SideAverageValue
    boundary = 2
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./temp_right]
    type = SideAverageValue
    boundary = 3
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_left]
    type = SideFluxIntegral
    variable = temp
    boundary = 2
    diffusivity = thermal_conductivity
  [../]

  [./flux_right]
    type = SideFluxIntegral
    variable = temp
    boundary = 3
    diffusivity = thermal_conductivity
  [../]

  [./temp_left2]
    type = SideAverageValue
    boundary = 2
    variable = temp2
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./temp_right2]
    type = SideAverageValue
    boundary = 3
    variable = temp2
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_left2]
    type = SideFluxIntegral
    variable = temp2
    boundary = 2
    diffusivity = thermal_conductivity
  [../]

  [./flux_right2]
    type = SideFluxIntegral
    variable = temp2
    boundary = 3
    diffusivity = thermal_conductivity
  [../]

[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4a01df76-cfc3-4681-8c9f-984de6fcc200"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_mortar/gap_heat_transfer_mortar_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = 2blk-gap.e
  []
  [secondary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = 10001
    new_block_name = &#x27;secondary_lower&#x27;
    input = file
  []
  [primary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = 10000
    new_block_name = &#x27;primary_lower&#x27;
    input = secondary
  []
[]

[Problem]
  kernel_coverage_check = false
  material_coverage_check = false
[]

[AuxVariables]
  [./disp_x]
    block = &#x27;1&#x27;
  [../]
  [./disp_y]
    block = &#x27;1&#x27;
  [../]
[]

[AuxKernels]
  [./disp_x_kernel]
    type = ConstantAux
    variable = disp_x
    value = 0.1
    block = &#x27;1&#x27;
  [../]

  [./disp_y_kernel]
    type = ConstantAux
    variable = disp_y
    value = 0
    block = &#x27;1&#x27;
  [../]
[]

[Variables]
  [./temp]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]
[]

[Materials]
  [./left]
    type = HeatConductionMaterial
    block = 1
    thermal_conductivity = 1000
    specific_heat = 1
  [../]

  [./right]
    type = HeatConductionMaterial
    block = 2
    thermal_conductivity = 500
    specific_heat = 1
  [../]
[]

[Kernels]
  [./hc_displaced_block]
    type = HeatConduction
    variable = temp
    use_displaced_mesh = true
    block = &#x27;1&#x27;
  [../]
  [./hc_undisplaced_block]
    type = HeatConduction
    variable = temp
    use_displaced_mesh = false
    block = &#x27;2&#x27;
  [../]
[]

[Constraints]
  [./ced]
    type = GapConductanceConstraint
    variable = lm
    secondary_variable = temp
    k = 100
    use_displaced_mesh = true
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = &#x27;left&#x27;
    value = 1
  [../]

  [./right]
    type = DirichletBC
    variable = temp
    boundary = &#x27;right&#x27;
    value = 0
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-11
[]

[Outputs]
  exodus = true
  show = &#x27;temp disp_x disp_y&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="336421c0-9e39-45fb-b143-35bdfe28a3f9"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_all_retain.i</h4><pre class="moose-pre"><code class="language-text">
[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_2blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = true
    convert_block_ids = &#x27;1 2&#x27;
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="83dfda89-b7ee-49bf-bcd4-2605e5b5468a"><div class="modal-content"><h4>test/tests/meshgenerators/tiled_mesh_generator/tiled_mesh_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = cube.e
  []

  [./tmg]
    type = TiledMeshGenerator
    input = fmg

    left_boundary = left
    right_boundary = right
    top_boundary = top
    bottom_boundary = bottom
    front_boundary = front
    back_boundary = back

    x_tiles = 2
    y_tiles = 2
    z_tiles = 2

    # You can only run this test with ReplicatedMesh because the underlying
    # algorithm, stitch_meshes(), only works with ReplicatedMesh.
    parallel_type = replicated
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a7b995f1-49a7-486d-980a-95f166815112"><div class="modal-content"><h4>modules/peridynamics/test/tests/auxkernels/boundary_offset_node_volume_3D.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 3D_cube.e
  [../]
  [./mgpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
[]

[AuxVariables]
  [./gap_offset]
  [../]
  [./node_volume]
  [../]
[]

[AuxKernels]
  [./gap_offset]
    type = BoundaryOffsetPD
    variable = gap_offset
  [../]
  [./node_volume]
    type = NodalVolumePD
    variable = node_volume
  [../]
[]

[Modules/Peridynamics/Mechanics/Master]
  [./blk1]
    formulation = BOND
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0.3
  [../]

  [./material_pd]
    type = ComputeSmallStrainVariableHorizonMaterialBPD
  [../]
[]

[BCs]
  [./fix_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1001
    value = 0
  [../]
  [./fix_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1001
    value = 0
  [../]
  [./fix_z]
    type = DirichletBC
    variable = disp_z
    boundary = 1001
    value = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;
  end_time = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57986d58-bddc-4016-bc53-308ec1dcecc2"><div class="modal-content"><h4>test/tests/meshgenerators/transform_generator/rotate_and_scale.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = cylinder.e
  []

  [./rotate]
    type = TransformGenerator
    input = fmg
    transform = ROTATE
    vector_value = &#x27;0 90 0&#x27;
  []

  [./scale]
    type = TransformGenerator
    input = rotate
    transform = SCALE
    vector_value =&#x27;1e2 1e2 1e2&#x27;
  []
[]

 [Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 1
    value = 0
  [../]

  [./right]
    type = DirichletBC
    variable = u
    boundary = 2
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9ba528f7-01c9-4793-b8ce-9e0ca4538b3c"><div class="modal-content"><h4>test/tests/ics/from_exodus_solution/elem_part2.i</h4><pre class="moose-pre"><code class="language-text"># Use the exodus file for restarting the problem:
# - restart elemental aux variable

[Mesh]
  [fmg]
    type = FileMeshGenerator
    file = elem_part1_out.e
    use_for_exodus_restart = true
  []
  # This problem uses ExodusII_IO::copy_elemental_solution(), which only
  # works with ReplicatedMesh
  parallel_type = replicated
[]

[Functions]
  [./exact_fn]
    type = ParsedFunction
    value = ((x*x)+(y*y))
  [../]

  [./forcing_fn]
    type = ParsedFunction
    value = -4
  [../]
[]

[AuxVariables]
  [./e]
    order = CONSTANT
    family = MONOMIAL
    initial_from_file_var = e
    initial_from_file_timestep = 6
  [../]
[]

[AuxKernels]
  [./ak]
    type = SelfAux
    variable = e
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]

  [./ffn]
    type = BodyForce
    variable = u
    function = forcing_fn
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;0 1 2 3&#x27;
    function = exact_fn
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="195b0a57-41fc-47b9-88cd-669dc91d512a"><div class="modal-content"><h4>test/tests/meshgenerators/break_mesh_by_block_generator/break_mesh_2DJunction_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = poly.msh
    #parallel_type = replicated
  []

  [./breakmesh]
    type = BreakMeshByBlockGenerator
    input = fmg
    split_interface = true
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5672d5ac-c8d3-4f05-94f1-d0bf39e5d6f1"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_by_normals_generator/less_simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = reactor.e
  []

  [./generate_sidesets]
    type = AllSideSetsByNormalsGenerator
    input = fmg
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="94aa0971-4698-42f1-9415-935096d3c74d"><div class="modal-content"><h4>modules/peridynamics/test/tests/generalized_plane_strain/generalized_plane_strain_squares_OSPD.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = squares.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]

  [./scalar_strain_zz1]
    order = FIRST
    family = SCALAR
  [../]
  [./scalar_strain_zz2]
    order = FIRST
    family = SCALAR
  [../]
[]

[AuxVariables]
  [./temp]
    order = FIRST
    family = LAGRANGE
  [../]

  [./stress_zz1]
    order = FIRST
    family = LAGRANGE
  [../]
  [./stress_zz2]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Modules/Peridynamics/Mechanics]
  [./Master]
    [./block1]
      formulation = ORDINARY_STATE
      block = 1001
    [../]
    [./block2]
      formulation = ORDINARY_STATE
      block = 1002
    [../]
  [../]
  [./GeneralizedPlaneStrain]
    [./block1]
      formulation = ORDINARY_STATE
      scalar_out_of_plane_strain = scalar_strain_zz1
      out_of_plane_stress_variable = stress_zz1
      block = 1001
    [../]
    [./block2]
      formulation = ORDINARY_STATE
      scalar_out_of_plane_strain = scalar_strain_zz2
      out_of_plane_stress_variable = stress_zz2
      block = 1002
    [../]
  [../]
[]

[AuxKernels]
  [./tempfuncaux]
    type = FunctionAux
    variable = temp
    function = tempfunc
    use_displaced_mesh = false
  [../]

  [./stress_zz1]
    type = NodalRankTwoPD
    variable = stress_zz1
    rank_two_tensor = stress
    scalar_out_of_plane_strain = scalar_strain_zz1

    poissons_ratio = 0.3
    youngs_modulus = 1e6
    temperature = temp
    thermal_expansion_coeff = 0.02
    stress_free_temperature = 0.5

    output_type = component
    index_i = 2
    index_j = 2
    block = 1001
  [../]

  [./stress_zz2]
    type = NodalRankTwoPD
    variable = stress_zz2
    scalar_out_of_plane_strain = scalar_strain_zz2

    poissons_ratio = 0.3
    youngs_modulus = 1e6
    temperature = temp
    thermal_expansion_coeff = 0.02
    stress_free_temperature = 0.5

    rank_two_tensor = stress
    output_type = component
    index_i = 2
    index_j = 2
    block = 1002
  [../]
[]

[Postprocessors]
  [./react_z1]
    type = NodalVariableIntegralPD
    variable = stress_zz1
    block = 1001
  [../]
  [./react_z2]
    type = NodalVariableIntegralPD
    variable = stress_zz2
    block = 1002
  [../]
[]

[Functions]
  [./tempfunc]
    type = ParsedFunction
    value = &#x27;(1-x)*t&#x27;
  [../]
[]

[BCs]
  [./bottom1_x]
    type = DirichletBC
    boundary = 1001
    variable = disp_x
    value = 0.0
  [../]
  [./bottom1_y]
    type = DirichletBC
    boundary = 1001
    variable = disp_y
    value = 0.0
  [../]

  [./bottom2_x]
    type = DirichletBC
    boundary = 1002
    variable = disp_x
    value = 0.0
  [../]
  [./bottom2_y]
    type = DirichletBC
    boundary = 1002
    variable = disp_y
    value = 0.0
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    poissons_ratio = 0.3
    youngs_modulus = 1e6
    block = &#x27;1001 1002&#x27;
  [../]

  [./force_density1]
    type = ComputeSmallStrainVariableHorizonMaterialOSPD
    temperature = temp
    thermal_expansion_coeff = 0.02
    stress_free_temperature = 0.5
    scalar_out_of_plane_strain = scalar_strain_zz1
    block = 1001
  [../]
  [./force_density2]
    type = ComputeSmallStrainVariableHorizonMaterialOSPD
    temperature = temp
    thermal_expansion_coeff = 0.02
    stress_free_temperature = 0.5
    scalar_out_of_plane_strain = scalar_strain_zz2
    block = 1002
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient

  solve_type = PJFNK
  line_search = none

  l_tol = 1e-8
  nl_rel_tol = 1e-12

  start_time = 0.0
  end_time = 1.0
[]

[Outputs]
  exodus = true
  file_base = generalized_plane_strain_squares_OSPD
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5f1946b1-db6f-4492-8e2b-f45dc289c0d9"><div class="modal-content"><h4>test/tests/mortar/displaced-gap-conductance-2d-non-conforming/gap-conductance.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
    # block 1: left
    # block 2: right
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[AuxVariables]
  [disp_x]
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    block = &#x27;1 2&#x27;
  []
[]

[AuxKernels]
  [function_x]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_x&#x27;
    block = &#x27;2&#x27;
  []
  [function_y]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_y&#x27;
    block = &#x27;2&#x27;
  []
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = T
    boundary = &#x27;5&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = T
    boundary = &#x27;8&#x27;
    value = 1
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = GapHeatConductanceTest
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
    use_displaced_mesh = true
  [../]
[]

[Materials]
  [constant]
    type = ADGenericConstantMaterial
    prop_names = &#x27;gap_conductance&#x27;
    prop_values = &#x27;.03&#x27;
    block = &#x27;1 2&#x27;
    use_displaced_mesh = true
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Transient
  num_steps = 5
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type&#x27;
  petsc_options_value = &#x27;lu       basic&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ee2be903-d3b9-4a2d-a86e-3978ea9d4671"><div class="modal-content"><h4>test/tests/meshgenerators/add_all_side_sets_generators/simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [read]
    type = FileMeshGenerator
    file = twoblocks.e
  []
  [block_1]
    type = AllSideSetsByNormalsGenerator
    input = read
  []
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ed4349ca-255b-4449-9a66-d41d5fda40f7"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-non-conforming/soln-continuity.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  second_order = true
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
    order = SECOND
  [../]
  [./lambda]
    block = &#x27;10&#x27;
  [../]
[]

[BCs]
  [./neumann]
    type = FunctionGradientNeumannBC
    exact_solution = exact_soln
    variable = T
    boundary = &#x27;3 4 5 6 7 8&#x27;
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./sink]
    type = Reaction
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./forcing_function]
    type = BodyForce
    variable = T
    function = forcing_function
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./forcing_function]
    type = ParsedFunction
    value = &#x27;-4 + x^2 + y^2&#x27;
  [../]
  [./exact_soln]
    type = ParsedFunction
    value = &#x27;x^2 + y^2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = EqualValueConstraint
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Steady
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1bfa8890-dfd1-4399-8db3-a28f7f4df218"><div class="modal-content"><h4>test/tests/meshgenerators/gmsh/gmsh_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = sample.msh
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d2f9e131-65f1-4e61-a27c-416fe7159e8e"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/domain_integral_thermal/interaction_integral_2d_rot.i</h4><pre class="moose-pre"><code class="language-text">#This problem from [Wilson 1979] tests the thermal strain term in the
#interaction integral
#
#theta_e = 10 degrees C; a = 252; E = 207000; nu = 0.3; alpha = 1.35e-5
#
#With uniform_refine = 3, KI converges to
#KI = 5.602461e+02 (interaction integral)
#KI = 5.655005e+02 (J-integral)
#
#Both are in good agreement with [Shih 1986]:
#average_value = 0.4857 = KI / (sigma_theta * sqrt(pi * a))
#sigma_theta = E * alpha * theta_e / (1 - nu)
# = 207000 * 1.35e-5 * 10 / (1 - 0.3) = 39.9214
#KI = average_value * sigma_theta * sqrt(pi * a) = 5.656e+02
#
#References:
#W.K. Wilson, I.-W. Yu, Int J Fract 15 (1979) 377-387
#C.F. Shih, B. Moran, T. Nakamura, Int J Fract 30 (1986) 79-102

[GlobalParams]
  order = FIRST
  family = LAGRANGE
  displacements = &#x27;disp_x disp_y&#x27;
  volumetric_locking_correction = False
[]

[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file_mesh]
    type = FileMeshGenerator
    file = crack2d.e
  []
  [rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;0 0 90&#x27;
    input = file_mesh
  []
[]

[AuxVariables]
  [./SED]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./temp]
    order = FIRST
    family = LAGRANGE
  [../]
[]


[Functions]
  [./tempfunc]
    type = ParsedFunction
    value = 10.0*(2*y/504)
  [../]
[]

[DomainIntegral]
  integrals = &#x27;KFromJIntegral InteractionIntegralKI&#x27;
  boundary = 800
  crack_direction_method = CrackDirectionVector
  crack_direction_vector = &#x27;0 1 0&#x27;
  2d = true
  axis_2d = 2
  radius_inner = &#x27;60.0 80.0 100.0 120.0&#x27;
  radius_outer = &#x27;80.0 100.0 120.0 140.0&#x27;
  symmetry_plane = 0
  incremental = true

  # interaction integral parameters
  disp_x = disp_x
  disp_y = disp_y
  block = 1
  youngs_modulus = 207000
  poissons_ratio = 0.3
  temperature = temp
  eigenstrain_names = thermal_expansion
[]

[Modules/TensorMechanics/Master]
  [./master]
    strain = FINITE
    add_variables = true
    incremental = true
    generate_output = &#x27;stress_xx stress_yy stress_zz vonmises_stress&#x27;
    planar_formulation = PLANE_STRAIN
    eigenstrain_names = thermal_expansion
  [../]
[]

[AuxKernels]
  [./SED]
    type = MaterialRealAux
    variable = SED
    property = strain_energy_density
    execute_on = timestep_end
  [../]
  [./tempfuncaux]
    type = FunctionAux
    variable = temp
    function = tempfunc
    block = 1
  [../]
[]

[BCs]
  [./crack_x]
    type = DirichletBC
    variable = disp_x
    boundary = 100
    value = 0.0
  [../]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = 400
    value = 0.0
  [../]
  [./no_y1]
    type = DirichletBC
    variable = disp_y
    boundary = 900
    value = 0.0
  [../]
[] # BCs

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 207000
    poissons_ratio = 0.3
  [../]
  [./elastic_stress]
    type = ComputeFiniteStrainElasticStress
  [../]
  [./thermal_expansion_strain]
    type = ComputeThermalExpansionEigenstrain
    stress_free_temperature = 0.0
    thermal_expansion_coeff = 1.35e-5
    temperature = temp
    eigenstrain_name = thermal_expansion
  [../]
[]


[Executioner]
  type = Transient

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -ksp_gmres_restart -sub_ksp_type -sub_pc_type -pc_asm_overlap&#x27;
  petsc_options_value = &#x27;asm         31   preonly   lu      1&#x27;

  line_search = &#x27;none&#x27;

   l_max_its = 50
   nl_max_its = 40

   nl_rel_step_tol= 1e-10
   nl_rel_tol = 1e-10


   start_time = 0.0
   dt = 1

   end_time = 1
   num_steps = 1

[]

[Outputs]
  file_base = interaction_integral_2d_rot_out
  exodus = true
  csv = true
[]

[Preconditioning]
  active = &#x27;smp&#x27;
  [./smp]
    type = SMP
    pc_side = left
    ksp_norm = preconditioned
    full = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c61a1382-988c-4381-af17-c1d1dfcdb538"><div class="modal-content"><h4>modules/peridynamics/test/tests/simple_tests/2D_irregularD_variableH_OSPD.i</h4><pre class="moose-pre"><code class="language-text"># Test for ordinary state-based peridynamic formulation
# for irregular grid from file mesh with varying bond constants
# partial Jacobian
# Jacobian from bond-based formulation is used for preconditioning

# Square plate with Dirichlet boundary conditions applied
# at the left, top and bottom edges

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = square.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1001
    value = 0.0
  [../]
  [./top_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1004
    value = 0.0
  [../]
  [./bottom_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 1002
    function = &#x27;-0.001 * t&#x27;
  [../]
[]

[Modules/Peridynamics/Mechanics/Master]
  [./all]
    formulation = ORDINARY_STATE
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 2e5
    poissons_ratio = 0.0
  [../]

  [./force_density]
    type = ComputeSmallStrainVariableHorizonMaterialOSPD
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = PJFNK
  line_search = none
  start_time = 0
  end_time = 1
[]

[Outputs]
  file_base = 2D_irregularD_variableH_OSPD
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4d7d0d76-546f-478a-8789-fb39c47dd052"><div class="modal-content"><h4>test/tests/transfers/multiapp_interpolation_transfer/fromrestrictedsub_sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2subdomains.e
  []
  [boundary_fuel_side]
    input = file
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.2 0 0&#x27;
    top_right = &#x27;0.3 1 0&#x27;
  []
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [elemental]
    block = &#x27;2&#x27;
    order = CONSTANT
    family = MONOMIAL
  []
  [nodal]
    block = &#x27;2&#x27;
  []
[]


[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[AuxKernels]
  [elemaux]
    type = CoupledAux
    variable = elemental
    coupled = u
    block = &#x27;2&#x27;
  []
  [nodaux]
    type = CoupledAux
    variable = nodal
    coupled = u
    block = &#x27;2&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a6db8c73-b4ab-4700-9912-d045bb39ca4d"><div class="modal-content"><h4>test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
    # block 1: left
    # block 2: right
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[AuxVariables]
  [disp_x]
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    block = &#x27;1 2&#x27;
  []
  [aux_var]
  []
[]

[AuxKernels]
  [function_x]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_x&#x27;
    block = &#x27;2&#x27;
  []
  [function_y]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_y&#x27;
    block = &#x27;2&#x27;
  []
  [flux_modifier]
    type = StatefulAuxLowerD
    variable = &#x27;aux_var&#x27;
    coupled_variable = &#x27;lambda&#x27;
    boundary = &#x27;1&#x27;
  []
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    family = LAGRANGE
    order = FIRST
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = T
    boundary = &#x27;5&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = T
    boundary = &#x27;8&#x27;
    value = 1
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = GapHeatConductanceAuxKernel
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
    use_displaced_mesh = true
    auxkernel_variable = &#x27;aux_var&#x27;
  [../]
[]

[Materials]
  [constant]
    type = ADGenericConstantMaterial
    prop_names = &#x27;gap_conductance&#x27;
    prop_values = &#x27;.03&#x27;
    block = &#x27;1 2&#x27;
    use_displaced_mesh = true
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Transient
  num_steps = 5
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type&#x27;
  petsc_options_value = &#x27;lu       basic&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7cca54d5-edc0-41ee-9858-fbff108600c1"><div class="modal-content"><h4>modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmesh]
    type = FileMeshGenerator
    file = meshed_gap.e
  []
  [block0]
    type = SubdomainBoundingBoxGenerator
    input = fmesh
    bottom_left = &#x27;.5 -.5 0&#x27;
    top_right = &#x27;.7 .5 0&#x27;
    block_id = 4
  []
[]

[Variables]
  [./temp]
    block = &#x27;1 3&#x27;
    initial_condition = 1.0
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    block = &#x27;1 3&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = 1
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = temp
    boundary = 4
    value = 2
  [../]
[]

[ThermalContact]
  [./gap_conductivity]
    type = GapHeatTransfer
    variable = temp
    primary = 2
    secondary = 3
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 0.5
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;1 3&#x27;
    temp = temp
    thermal_conductivity = 1
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7355ad7a-bccf-4d5b-a80d-78a857b6726a"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_from_normals_generator/sidesets_cylinder_normals.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = cylinder.e
    #parallel_type = replicated
  []

  [./sidesets]
    type = SideSetsFromNormalsGenerator
    input = fmg
    normals = &#x27;0  0  1
               0  1  0
               0  0 -1&#x27;
    fixed_normal = false
    new_boundary = &#x27;top side bottom&#x27;
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 0
  [../]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="005e3359-1eab-46af-a92d-49a5b1f8f652"><div class="modal-content"><h4>test/tests/meshgenerators/mesh_extruder_generator/extrude_remap_layer1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = multiblock.e
  []

  [./extrude]
    type = MeshExtruderGenerator
    input = fmg
    num_layers = 6
    extrusion_vector = &#x27;0 0 2&#x27;
    bottom_sideset = &#x27;new_bottom&#x27;
    top_sideset = &#x27;new_top&#x27;

    # Remap layers
    existing_subdomains = &#x27;1 2 5&#x27;
    layers = &#x27;1 3 5&#x27;
    new_ids = &#x27;10 12 15
               30 32 35
               50 52 55&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_bottom&#x27;
    value = 0
  [../]

  [./top]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_top&#x27;
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57ce3e05-c679-4eec-b3bc-7e548ee3c556"><div class="modal-content"><h4>modules/navier_stokes/test/tests/ins/jeffery_hamel/wedge_dirichlet.i</h4><pre class="moose-pre"><code class="language-text"># This input file tests whether we can converge to the semi-analytical
# solution for flow in a 2D wedge.
[GlobalParams]
  gravity = &#x27;0 0 0&#x27;

  # Params used by the WedgeFunction for computing the exact solution.
  # The value of K is only required for comparing the pressure to the
  # exact solution, and is computed by the associated jeffery_hamel.py
  # script.
  alpha_degrees = 15
  Re = 30
  K = -9.78221333616
  f = f_theta
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    # file = wedge_4x6.e
    file = wedge_8x12.e
    # file = wedge_16x24.e
    # file = wedge_32x48.e
    # file = wedge_64x96.e
  []
  [./corner_node]
    # Pin is on the centerline of the channel on the left-hand side of
    # the domain at r=1.  If you change the domain, you will need to
    # update this pin location for the pressure exact solution to
    # work.
    type = ExtraNodesetGenerator
    new_boundary = pinned_node
    coord = &#x27;1 0&#x27;
    input = file
  [../]
[]


[Variables]
  [./vel_x]
    order = SECOND
    family = LAGRANGE
  [../]
  [./vel_y]
    order = SECOND
    family = LAGRANGE
  [../]
  [./p]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./mass]
    type = INSMass
    variable = p
    u = vel_x
    v = vel_y
    p = p
  [../]
  [./x_momentum_time]
    type = INSMomentumTimeDerivative
    variable = vel_x
  [../]
  [./x_momentum_space]
    type = INSMomentumLaplaceForm
    variable = vel_x
    u = vel_x
    v = vel_y
    p = p
    component = 0
  [../]
  [./y_momentum_time]
    type = INSMomentumTimeDerivative
    variable = vel_y
  [../]
  [./y_momentum_space]
    type = INSMomentumLaplaceForm
    variable = vel_y
    u = vel_x
    v = vel_y
    p = p
    component = 1
  [../]
[]

[BCs]
  [./vel_x_no_slip]
    type = DirichletBC
    variable = vel_x
    boundary = &#x27;top_wall bottom_wall&#x27;
    value = 0.0
  [../]
  [./vel_y_no_slip]
    type = DirichletBC
    variable = vel_y
    boundary = &#x27;top_wall bottom_wall&#x27;
    value = 0.0
  [../]
  [./vel_x_inlet]
    type = FunctionDirichletBC
    variable = vel_x
    boundary = &#x27;inlet outlet&#x27;
    function = &#x27;vel_x_exact&#x27;
  [../]
  [./vel_y_inlet]
    type = FunctionDirichletBC
    variable = vel_y
    boundary = &#x27;inlet outlet&#x27;
    function = &#x27;vel_y_exact&#x27;
  [../]
  [./pressure_pin]
    type = DirichletBC
    variable = p
    boundary = &#x27;pinned_node&#x27;
    value = 0
  [../]
[]

[Materials]
  [./const]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;rho mu&#x27;
    prop_values = &#x27;1  1&#x27;
  [../]
[]

[Preconditioning]
  [./SMP_PJFNK]
    type = SMP
    full = true
    solve_type = NEWTON
  [../]
[]

[Executioner]
  type = Transient
  dt = 1.e-2
  dtmin = 1.e-2
  num_steps = 5
  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -sub_pc_type -sub_pc_factor_levels&#x27;
  petsc_options_value = &#x27;300                bjacobi  ilu          4&#x27;
  line_search = none
  nl_rel_tol = 1e-13
  nl_abs_tol = 1e-11
  nl_max_its = 10
  l_tol = 1e-6
  l_max_its = 300
[]

[Outputs]
  exodus = true
[]

[Functions]
  [./f_theta]
    # Non-dimensional solution values f(eta), 0 &lt;= eta &lt;= 1 for
    # alpha=15 deg, Re=30.  Note: this introduces an input file
    # ordering dependency: this Function must appear *before* the two
    # functions below which use it since apparently proper dependency
    # resolution is not done in this scenario.
    type = PiecewiseLinear
    data_file = &#x27;f.csv&#x27;
    format = &#x27;columns&#x27;
  [../]
  [./vel_x_exact]
    type = WedgeFunction
    var_num = 0
    mu = 1
    rho = 1
  [../]
  [./vel_y_exact]
    type = WedgeFunction
    var_num = 1
    mu = 1
    rho = 1
  [../]
  [./p_exact]
    type = WedgeFunction
    var_num = 2
    mu = 1
    rho = 1
  [../]
[]

[Postprocessors]
  [./vel_x_L2_error]
    type = ElementL2Error
    variable = vel_x
    function = vel_x_exact
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./vel_y_L2_error]
    type = ElementL2Error
    variable = vel_y
    function = vel_y_exact
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./p_L2_error]
    type = ElementL2Error
    variable = p
    function = p_exact
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="95a96a12-5691-4b03-839b-e5f31b1a5115"><div class="modal-content"><h4>modules/peridynamics/test/tests/auxkernels/boundary_offset_node_area_2D.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_square.e
  [../]
  [./mgpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[AuxVariables]
  [./gap_offset]
  [../]
  [./node_area]
  [../]
[]

[AuxKernels]
  [./gap_offset]
    type = BoundaryOffsetPD
    variable = gap_offset
  [../]
  [./node_area]
    type = NodalVolumePD
    variable = node_area
  [../]
[]

[Modules/Peridynamics/Mechanics/Master]
  [./blk1]
    formulation = BOND
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e6
    poissons_ratio = 0.3
  [../]

  [./material_pd]
    type = ComputeSmallStrainVariableHorizonMaterialBPD
  [../]
[]

[BCs]
  [./fix_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1001
    value = 0
  [../]
  [./fix_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1001
    value = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;
  end_time = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bbb8500b-8fe1-4150-bf16-5659e862c3c2"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/3D_sideset_generation.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = sphere.e
  [../]
  [./mgpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    construct_peridynamics_sideset = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="58adfaf9-36b8-4e45-ba69-d10bdaf2e3a9"><div class="modal-content"><h4>test/tests/mortar/displaced-gap-conductance-2d-bnd-coupling/gap-conductance-bnd-material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
    # block 1: left
    # block 2: right
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[AuxVariables]
  [disp_x]
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    block = &#x27;1 2&#x27;
  []
[]

[AuxKernels]
  [function_x]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_x&#x27;
    block = &#x27;2&#x27;
  []
  [function_y]
    type = FunctionAux
    function = &#x27;.05 * t&#x27;
    variable = &#x27;disp_y&#x27;
    block = &#x27;2&#x27;
  []
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    family = LAGRANGE
    order = FIRST
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = T
    boundary = &#x27;5&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = T
    boundary = &#x27;8&#x27;
    value = 1
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = GapHeatConductanceMaterial
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
    use_displaced_mesh = true
    material_property = &#x27;layer_modifier&#x27;
  [../]
[]

[Materials]
  [constant]
    type = ADGenericConstantMaterial
    prop_names = &#x27;gap_conductance&#x27;
    prop_values = &#x27;.03&#x27;
    block = &#x27;1 2&#x27;
    use_displaced_mesh = true
  []
  [bnd_material_modifier]
    type = ADGenericConstantMaterial
    prop_names = &#x27;layer_modifier&#x27;
    prop_values = &#x27;5.0&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Transient
  num_steps = 5
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type&#x27;
  petsc_options_value = &#x27;lu       basic&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4412d7c4-8d14-465f-a1df-9e59af755c46"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/coarse.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = 0.025*z MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/coarse.e
  []
  [./xmin]
    input = file
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
  [../]
  [./xmax]
    input = xmin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
  [../]
  [./ymin]
    input = xmax
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
  [../]
  [./ymax]
    input = ymin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
  [../]
  [./zmax]
    input = ymax
    type = SideSetsAroundSubdomainGenerator
    block = 16
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
  [../]
  [./zmin]
    input = zmax
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    input = excav
    new_boundary = roof
    normal = &#x27;0 0 1&#x27;
  [../]
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;0.8*2500*10E-6*z&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;2500*10E-6*z&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;17.0   0    1000.0 1E-9 1 60&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;17.0   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.5 # this gives min(disp_z)=-4.3, use dt=0.0625 if you want to restrict disp_z&gt;=-3.2
  end_time = 17.0

[]

[Outputs]
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="53f8c701-f4dc-4eb0-88cd-57e6ab743882"><div class="modal-content"><h4>modules/peridynamics/test/tests/mesh/2D_mesh_conversion_single_blocks.i</h4><pre class="moose-pre"><code class="language-text"># Four disconnected FE mesh blocks are converted to PD mesh blocks
# Interfacial bonds are formed between blocks 1 and 2, 2 and 3, 3 and 4
# All four PD mesh blocks are combined into one block
# All interfacial bonds are gathered into one block

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = 2D_4blocks.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
    convert_block_ids = &#x27;1 2 3 4&#x27;
    single_converted_block = true
    connect_block_id_pairs = &#x27;1 2 2 3 3 4&#x27;
    single_interface_block = true
    construct_peridynamics_sideset = true
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e2902356-c5a8-4d23-a3e8-5b78e8baa83a"><div class="modal-content"><h4>modules/contact/test/tests/fieldsplit/frictional_mortar_FS.i</h4><pre class="moose-pre"><code class="language-text">offset = 0.021

vy = 0.15
vx = 0.04

refine = 1

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  volumetric_locking_correction = true
[]

[Mesh]
  [./original_file_mesh]
    type = FileMeshGenerator
    file = long_short_blocks.e
  [../]
  uniform_refine =  ${refine}
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = FINITE
    incremental = true
    add_variables = true
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./horizontal_movement]
    type = ParsedFunction
    value = &#x27;if(t&lt;0.5,${vx}*t-${offset},${vx}-${offset})&#x27;
  [../]
  [./vertical_movement]
    type = ParsedFunction
    value = &#x27;if(t&lt;0.5,${offset},${vy}*(t-0.5)+${offset})&#x27;
  [../]
[]

[BCs]
  [./push_left_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 30
    function = horizontal_movement
  [../]
  [./fix_right_x]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./fix_right_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;40&#x27;
    value = 0.0
  [../]
  [./push_left_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;30&#x27;
    function = vertical_movement
  [../]
[]

[Materials]
  [./elasticity_tensor_left]
    type = ComputeIsotropicElasticityTensor
    block = 1
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_left]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]

  [./elasticity_tensor_right]
    type = ComputeIsotropicElasticityTensor
    block = 2
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_right]
    type = ComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Contact]
  [leftright]
    mesh = original_file_mesh
    secondary = 10
    primary = 20

    model = coulomb
    formulation = mortar

    friction_coefficient = 0.2
  [../]
[]

[ICs]
  [./disp_y]
    block = 1
    variable = disp_y
    value = ${offset}
    type = ConstantIC
  [../]
  [./disp_x]
    block = 1
    variable = disp_x
    value = -${offset}
    type = ConstantIC
  [../]
[]

[Preconditioning]
  [./FSP]
    type = FSP
    # It is the starting point of splitting
    topsplit = &#x27;contact_interior&#x27; # &#x27;contact_interior&#x27; should match the following block name
    [./contact_interior]
      splitting          = &#x27;contact interior&#x27;
      splitting_type     = multiplicative
    [../]
    [./interior]
      type = ContactSplit
      vars = &#x27;disp_x disp_y&#x27;
      uncontact_primary   = &#x27;20&#x27;
      uncontact_secondary    = &#x27;10&#x27;
      uncontact_displaced = &#x27;30&#x27;
      blocks              = &#x27;1 2&#x27;
      include_all_contact_nodes = 1

      petsc_options_iname = &#x27;-ksp_type -pc_type -pc_hypre_type &#x27;
      petsc_options_value = &#x27;  preonly hypre  boomeramg&#x27;
    [../]
    [./contact]
      type = ContactSplit
      vars = &#x27;disp_x disp_y leftright_normal_lm leftright_tangential_lm&#x27;
      contact_primary   = &#x27;20&#x27;
      contact_secondary    = &#x27;10&#x27;
      contact_displaced = &#x27;30&#x27;
      include_all_contact_nodes = 1
      blocks = &#x27;4&#x27;


      petsc_options_iname = &#x27;-ksp_type -pc_sub_type -pc_factor_shift_type  -pc_factor_shift_amount&#x27;
      petsc_options_value = &#x27;  preonly lu NONZERO 1e-15&#x27;
    [../]
  [../]
[]


[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;

  dt = 0.1
  dtmin = 1e-4
  end_time = 1

  l_tol = 1e-8
  l_max_its = 100

  nl_rel_tol = 1e-8
  nl_abs_tol = 1e-8
  nl_max_its = 10
[]

[Outputs]
  file_base = frictional_mortar_FS_out
  [./exodus]
    type = Exodus
  [../]
  [./console]
    type = Console
    max_rows = 5
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f26c9cb7-ee25-4551-9bb8-c825c488a510"><div class="modal-content"><h4>test/tests/mesh/mesh_only/mesh_only.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  uniform_refine = 1
  [file]
    type = FileMeshGenerator
    file = chimney_quad.e
  []
  [./extrude]
    input = file
    type = MeshExtruderGenerator
    num_layers = 20
    extrusion_vector = &#x27;0 1e-2 0&#x27;
    bottom_sideset = &#x27;2&#x27;
    top_sideset = &#x27;4&#x27;
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e3b1f0fa-682f-4d13-9eb0-b779af57c2cd"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-conforming/equalgradient.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-conf.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = &#x27;10001&#x27;
    new_block_name = &#x27;secondary_lower&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = &#x27;10000&#x27;
    new_block_name = &#x27;primary_lower&#x27;
  []
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lmx]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]
  [./lmy]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]
[]

[ICs]
  [./block1]
    type = FunctionIC
    variable = u
    block = 1
    function = y
  [../]
  [./block2]
    type = FunctionIC
    variable = u
    block = 2
    function = y-0.5
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
[]

[Constraints]
  [./cedx]
    type = EqualGradientConstraint
    secondary_variable = u
    variable = lmx
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
    component = 0
  [../]
  [./cedy]
    type = EqualGradientConstraint
    secondary_variable = u
    variable = lmy
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
    component = 1
  [../]
[]

[BCs]
  [./all]
    type = DiffusionFluxBC
    variable = u
    boundary = &#x27;2 4 100 101&#x27;
  [../]
  [./boundary]
    type = DirichletBC
    boundary = 1
    variable = u
    value = 0.0
  [../]
  [./top]
    type = FunctionDirichletBC
    boundary = 3
    variable = u
    function = 0.5-t
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
    solve_type = &#x27;NEWTON&#x27;
  [../]
[]

[Executioner]
  type = Transient
  nl_rel_tol = 1e-11
  l_tol = 1e-10
  l_max_its = 10
  dt = 0.05
  num_steps = 3
[]

[Outputs]
  exodus = true
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="138eca9b-cf9d-4fb1-b06c-473ab69f4f5d"><div class="modal-content"><h4>modules/contact/test/tests/mechanical-small-problem/frictionless-nodal-lm-mortar-disp-action.i</h4><pre class="moose-pre"><code class="language-text">[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [./simple_mesh]
    type = FileMeshGenerator
    file = mesh.e
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./disp_x]
    block = &#x27;1 2&#x27;
  [../]
  [./disp_y]
    block = &#x27;1 2&#x27;
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;outside_left&#x27;
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = &#x27;outside_right&#x27;
    function = &#x27;-5e-3 * t&#x27;
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;outside_right&#x27;
    function = 0
  [../]
[]

[Kernels]
  [disp_x]
    type = Diffusion
    variable = disp_x
    block = &#x27;1 2&#x27;
  []
  [disp_y]
    type = Diffusion
    variable = disp_y
    block = &#x27;1 2&#x27;
  []
[]

[Debug]
  show_var_residual_norms = 1
[]

[Contact]
  [frictionless]
    mesh = simple_mesh
    primary = 2
    secondary = 1
    formulation = mortar
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = PJFNK
  type = Transient
  num_steps = 10
  dt = 1
  dtmin = 1
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
[]

[Outputs]
  exodus = true
  hide = &#x27;contact_pressure nodal_area_frictionless penetration&#x27;
[]

[Postprocessors]
  [contact]
    type = ContactDOFSetSize
    variable = frictionless_normal_lm
    subdomain = &#x27;4&#x27;
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="92bd24f6-f19c-46a3-9423-c4bce4f50023"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/shell/static/pinched_cylinder_symm.i</h4><pre class="moose-pre"><code class="language-text"># Test for displacement of pinched cylinder
# Ref: Figure 10 and Table 6 from Dvorkin and Bathe, Eng. Comput., Vol. 1, 1984.

# A cylinder of radius 1 m and length 2 m (along Z axis) with clamped ends
# (at z = 0 and 2 m) is pinched at mid-length by placing point loads of 10 N
# at (1, 0, 1) and (-1, 0, 1). Due to the symmetry of the problem, only 1/8th
# of the cylinder needs to be modeled.

# The normalized series solution for the displacement at the loading point is
# w = Wc E t / P = 164.24; where Wc is the displacement in m, E is the Young&#x27;s
# modulus, t is the thickness and P is the point load.

# For this problem, E = 1e6 Pa, L = 2 m, R = 1 m, t = 0.01 m, P = 10 N and
# Poisson&#x27;s ratio = 0.3. FEM results from different mesh discretizations are
# presented below. Only the 10x10 mesh is included as a test.

# Mesh of 1/8 cylinder |  FEM/analytical (Moose) | FEM/analytical (Dvorkin)
#                      |ratio of normalized disp.| ratio of normalized disp.
#----------------------|-------------------------|-------------------------
#     10 x 10          |          0.806          |        0.83
#     20 x 20          |          1.06           |        0.96
#     40 x 40          |          0.95           |         -
#     80 x 160         |          0.96           |         -

# The results from FEM analysis matches well with the series solution and with
# the solution presented by Dvorkin and Bathe (1984).

[Mesh]
  [./mesh]
    type = FileMeshGenerator
    file = pinched_cyl_10_10.msh
  [../]
  [./block_100]
    type = ParsedSubdomainMeshGenerator
    input = mesh
    combinatorial_geometry = &#x27;x &gt; -1.1 &amp; x &lt; 1.1 &amp; y &gt; -1.1 &amp; y &lt; 1.1 &amp; z &gt; -0.1 &amp; z &lt; 2.1&#x27;
    block_id = 100
  [../]
  [./nodeset_1]
    type = BoundingBoxNodeSetGenerator
    input = block_100
    top_right = &#x27;1.1 1.1 0&#x27;
    bottom_left = &#x27;-1.1 -1.1 0&#x27;
    new_boundary = &#x27;CD&#x27; #CD
  [../]
  [./nodeset_2]
    type = BoundingBoxNodeSetGenerator
    input = nodeset_1
    top_right = &#x27;1.1 1.1 1.0&#x27;
    bottom_left = &#x27;-1.1 -1.1 1.0&#x27;
    new_boundary = &#x27;AB&#x27; #AB
  [../]
  [./nodeset_3]
    type = BoundingBoxNodeSetGenerator
    input = nodeset_2
    top_right = &#x27;0.02 1.1 1.0&#x27;
    bottom_left = &#x27;-0.1 0.98 0.0&#x27;
    new_boundary = &#x27;AD&#x27; #AD
  [../]
  [./nodeset_4]
    type = BoundingBoxNodeSetGenerator
    input = nodeset_3
    top_right = &#x27;1.1 0.02 1.0&#x27;
    bottom_left = &#x27;0.98 -0.1 0.0&#x27;
    new_boundary = &#x27;BC&#x27; #BC
  [../]
[]


[Variables]
  [./disp_x]
    order = FIRST
    family = LAGRANGE
  [../]
  [./disp_y]
    order = FIRST
    family = LAGRANGE
  [../]
  [./disp_z]
    order = FIRST
    family = LAGRANGE
  [../]
  [./rot_x]
    order = FIRST
    family = LAGRANGE
  [../]
  [./rot_y]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[BCs]
  [./simply_support_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;CD AD&#x27;
    value = 0.0
  [../]
  [./simply_support_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;CD BC&#x27;
    value = 0.0
  [../]
  [./simply_support_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;CD AB&#x27;
    value = 0.0
  [../]
  [./simply_support_rot_x]
    type = DirichletBC
    variable = rot_x
    boundary = &#x27;CD BC&#x27;
    value = 0.0
  [../]
  [./simply_support_rot_y]
    type = DirichletBC
    variable = rot_y
    boundary = &#x27;CD AD&#x27;
    value = 0.0
  [../]
[]

[DiracKernels]
  [./point1]
    type = ConstantPointSource
    variable = disp_x
    point = &#x27;1 0 1&#x27;
    value = -2.5 # P = 10
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-10
  nl_abs_tol = 1e-8
  dt = 1.0
  dtmin = 1.0
  end_time = 1.0
[]

[Kernels]
  [./solid_disp_x]
    type = ADStressDivergenceShell
    block = &#x27;100&#x27;
    component = 0
    variable = disp_x
    through_thickness_order = SECOND
  [../]
  [./solid_disp_y]
    type = ADStressDivergenceShell
    block = &#x27;100&#x27;
    component = 1
    variable = disp_y
    through_thickness_order = SECOND
  [../]
  [./solid_disp_z]
    type = ADStressDivergenceShell
    block = &#x27;100&#x27;
    component = 2
    variable = disp_z
    through_thickness_order = SECOND
  [../]
  [./solid_rot_x]
    type = ADStressDivergenceShell
    block = &#x27;100&#x27;
    component = 3
    variable = rot_x
    through_thickness_order = SECOND
  [../]
  [./solid_rot_y]
    type = ADStressDivergenceShell
    block = &#x27;100&#x27;
    component = 4
    variable = rot_y
    through_thickness_order = SECOND
  [../]
[]

[Materials]
  [./elasticity]
    type = ADComputeIsotropicElasticityTensorShell
    youngs_modulus = 1e6
    poissons_ratio = 0.3
    block = &#x27;100&#x27;
    through_thickness_order = SECOND
  [../]
  [./strain]
    type = ADComputeIncrementalShellStrain
    block = &#x27;100&#x27;
    displacements = &#x27;disp_x disp_y disp_z&#x27;
    rotations = &#x27;rot_x rot_y&#x27;
    thickness = 0.01
    through_thickness_order = SECOND
  [../]
  [./stress]
    type = ADComputeShellStress
    block = &#x27;100&#x27;
    through_thickness_order = SECOND
  [../]
[]

[Postprocessors]
  [./disp_z2]
    type = PointValue
    point = &#x27;1 0 1&#x27;
    variable = disp_x
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48be5195-4f8c-4d6c-89e3-05cb5ea725aa"><div class="modal-content"><h4>modules/contact/test/tests/bouncing-block-contact/frictional-nodal-min-normal-lm-mortar-fb-tangential-lm-mortar-action.i</h4><pre class="moose-pre"><code class="language-text">starting_point = 2e-1

# We offset slightly so we avoid the case where the bottom of the secondary block and the top of the
# primary block are perfectly vertically aligned which can cause the backtracking line search some
# issues for a coarse mesh (basic line search handles that fine)
offset = 1e-2

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  diffusivity = 1e0
  scaling = 1e0
[]

[Mesh]
  [./original_file_mesh]
    type = FileMeshGenerator
    file = long-bottom-block-1elem-blocks-coarse.e
  [../]
  # These sidesets need to be deleted because the contact action adds them automatically. For this
  # particular mesh, the new IDs will be identical to the deleted ones and will conflict if we don&#x27;t
  # remove the original ones.
  [./delete_3]
    type = BlockDeletionGenerator
    input = original_file_mesh
    block_id = 3
  [../]
  [./revised_file_mesh]
    type = BlockDeletionGenerator
    input = delete_3
    block_id = 4
  [../]
[]

[Variables]
  [./disp_x]
    block = &#x27;1 2&#x27;
    # order = SECOND
  [../]
  [./disp_y]
    block = &#x27;1 2&#x27;
    # order = SECOND
  [../]
[]

[Contact]
  [frictional]
    mesh = revised_file_mesh
    primary = 20
    secondary = 10
    formulation = mortar
    model = coulomb
    friction_coefficient = 0.1
  []
[]

[ICs]
  [./disp_y]
    block = 2
    variable = disp_y
    value = ${fparse starting_point + offset}
    type = ConstantIC
  [../]
[]

[Kernels]
  [./disp_x]
    type = MatDiffusion
    variable = disp_x
  [../]
  [./disp_y]
    type = MatDiffusion
    variable = disp_y
  [../]
[]

[BCs]
  [./botx]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./boty]
    type = DirichletBC
    variable = disp_y
    boundary = 40
    value = 0.0
  [../]
  [./topy]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 30
    function = &#x27;${starting_point} * cos(2 * pi / 40 * t) + ${offset}&#x27;
  [../]
  [./leftx]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 50
    function = &#x27;1e-2 * t&#x27;
  [../]
[]

[Executioner]
  type = Transient
  end_time = 200
  dt = 5
  dtmin = .1
  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -pc_svd_monitor -snes_linesearch_monitor -snes_ksp_ew&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_factor_shift_type -pc_factor_shift_amount -mat_mffd_err&#x27;
  petsc_options_value = &#x27;lu       NONZERO               1e-15                   1e-5&#x27;
  l_max_its = 30
  nl_max_its = 20
  line_search = &#x27;none&#x27;
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  exodus = true
  hide = &#x27;contact_pressure nodal_area_frictional penetration&#x27;
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Postprocessors]
  [./num_nl]
    type = NumNonlinearIterations
  [../]
  [./cumulative]
    type = CumulativeValuePostprocessor
    postprocessor = num_nl
  [../]
  [contact]
    type = ContactDOFSetSize
    variable = frictional_normal_lm
    subdomain = frictional_secondary_subdomain
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="199ff07e-6d10-4f8a-9d2f-b2db5c6812e8"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_htonly/planar_xz.i</h4><pre class="moose-pre"><code class="language-text"># 1-D Gap Heat Transfer Test without mechanics
#
# This test exercises 1-D gap heat transfer for a constant conductivity gap.
#
# The mesh consists of two element blocks in the x-z plane.  Each element block
# is a square. They sit next to one another with a unit between them.
#
# The conductivity of both blocks is set very large to achieve a uniform temperature
# across each block. The temperature of the far bottom boundary
# is ramped from 100 to 200 over one time unit.  The temperature of the far top
# boundary is held fixed at 100.
#
# A simple analytical solution is possible for the heat flux between the blocks:
#
# Flux = (T_left - T_right) * (gapK/gap_width)
#
# The gap conductivity is specified as 1, thus
#
# gapK(Tavg) = 1.0*Tavg
#
# The heat flux across the gap at time = 1 is then:
#
# Flux = 100 * (1.0/1.0) = 100
#
# For comparison, see results from the flux post processors.  These results
# are the same as for the unit 1-D gap heat transfer between two unit cubes.

[Mesh]
  [file]
    type = FileMeshGenerator
    file = simple_2D.e
  []
  [./rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;0 90 0&#x27;
    input = file
  [../]
[]

[Functions]
  [./temp]
    type = PiecewiseLinear
    x = &#x27;0   1   2&#x27;
    y = &#x27;100 200 200&#x27;
  [../]
[]

[ThermalContact]
  [./thermal_contact]
    type = GapHeatTransfer
    variable = temp
    primary = 3
    secondary = 2
    emissivity_primary = 0
    emissivity_secondary = 0
  [../]
[]

[Variables]
  [./temp]
    order = FIRST
    family = LAGRANGE
    initial_condition = 100
  [../]
[]

[AuxVariables]
  [./gap_cond]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./heat]
    type = HeatConduction
    variable = temp
  [../]
[]


[BCs]
  [./temp_far_bottom]
    type = FunctionDirichletBC
    boundary = 1
    variable = temp
    function = temp
  [../]
  [./temp_far_top]
    type = DirichletBC
    boundary = 4
    variable = temp
    value = 100
  [../]
[]

[AuxKernels]
  [./conductance]
    type = MaterialRealAux
    property = gap_conductance
    variable = gap_cond
    boundary = 2
  [../]
[]

[Materials]
  [./heat1]
    type = HeatConductionMaterial
    block = &#x27;1 2&#x27;
    specific_heat = 1.0
    thermal_conductivity = 100000000.0
  [../]
  [./density]
    type = Density
    block = &#x27;1 2&#x27;
    density = 1.0
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;201                hypre    boomeramg      4&#x27;

  line_search = &#x27;none&#x27;
  nl_rel_tol = 1e-12
  l_tol = 1e-3
  l_max_its = 100

  dt = 1e-1
  end_time = 1.0
[]

[Postprocessors]
  [./temp_bottom]
    type = SideAverageValue
    boundary = 2
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./temp_top]
    type = SideAverageValue
    boundary = 3
    variable = temp
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_bottom]
    type = SideFluxIntegral
    variable = temp
    boundary = 2
    diffusivity = thermal_conductivity
    execute_on = &#x27;initial timestep_end&#x27;
  [../]

  [./flux_top]
    type = SideFluxIntegral
    variable = temp
    boundary = 3
    diffusivity = thermal_conductivity
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6635663e-2fec-457a-8ced-a931fec1fdf7"><div class="modal-content"><h4>modules/contact/test/tests/dual_mortar/dm_mechanical_contact.i</h4><pre class="moose-pre"><code class="language-text">offset = 0.001
vy = 0.1

refine = 0

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  volumetric_locking_correction = true
[]

[Mesh]
  [./original_file_mesh]
    type = FileMeshGenerator
    file = long_short_blocks.e
  [../]
  uniform_refine =  ${refine}
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = FINITE
    incremental = true
    add_variables = true
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./horizontal_movement]
    type = ParsedFunction
    value = &#x27;0.002-0.003*exp(-4.05*t)&#x27;
  [../]
  [./vertical_movement]
    type = ParsedFunction
    value = &#x27;${vy}*t+${offset}&#x27;
  [../]
[]

[BCs]
  [./push_left_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 30
    function = horizontal_movement
  [../]
  [./fix_right_x]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./fix_right_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;40&#x27;
    value = 0.0
  [../]
  [./push_left_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = &#x27;30&#x27;
    function = vertical_movement
  [../]
[]

[Materials]
  [./elasticity_tensor_left]
    type = ComputeIsotropicElasticityTensor
    block = 1
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_left]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]

  [./elasticity_tensor_right]
    type = ComputeIsotropicElasticityTensor
    block = 2
    youngs_modulus = 1.0e6
    poissons_ratio = 0.3
  [../]
  [./stress_right]
    type = ComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[Contact]
  [leftright]
    mesh = original_file_mesh
    secondary = 10
    primary = 20

    use_dual = true

    formulation = mortar
    model = frictionless
  [../]
[]

[ICs]
  [./disp_y]
    block = 1
    variable = disp_y
    value = ${offset}
    type = ConstantIC
  [../]
  [./disp_x]
    block = 1
    variable = disp_x
    value = ${offset}
    type = ConstantIC
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;

  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -snes_ksp_ew -snes_fd&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu NONZERO   1e-15&#x27;

  dt = 0.2
  dtmin = 1e-4
  end_time = 0.2

  l_max_its = 100

  nl_max_its = 30
  nl_rel_tol = 1e-6
  snesmf_reuse_base = false
[]

[Outputs]
  file_base = ./dm_contact_out
  [./comp]
    type = CSV
    show = &#x27;contact normal_lm avg_disp_x avg_disp_y max_disp_x max_disp_y min_disp_x min_disp_y&#x27;
  [../]
[]


[Postprocessors]
  [./contact]
    type = ContactDOFSetSize
    variable = leftright_normal_lm
    subdomain = leftright_secondary_subdomain
  []
  [./normal_lm]
    type = ElementAverageValue
    variable = leftright_normal_lm
    block = &#x27;4&#x27;
  [../]
  [./avg_disp_x]
    type = ElementAverageValue
    variable = disp_x
    block = &#x27;1 2&#x27;
  [../]
  [./avg_disp_y]
    type = ElementAverageValue
    variable = disp_y
    block = &#x27;1 2&#x27;
  [../]
  [./max_disp_x]
    type = ElementExtremeValue
    variable = disp_x
    block = &#x27;1 2&#x27;
  [../]
  [./max_disp_y]
    type = ElementExtremeValue
    variable = disp_y
    block = &#x27;1 2&#x27;
  [../]
  [./min_disp_x]
    type = ElementExtremeValue
    variable = disp_x
    block = &#x27;1 2&#x27;
    value_type = min
  [../]
  [./min_disp_y]
    type = ElementExtremeValue
    variable = disp_y
    block = &#x27;1 2&#x27;
    value_type = min
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6dd5df5f-359a-4a52-8897-ca116f3255ce"><div class="modal-content"><h4>test/tests/meshgenerators/add_all_side_sets_generators/less_simple.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [read]
    type = FileMeshGenerator
    file = reactor.e
  []
  [block_1]
    type = AllSideSetsByNormalsGenerator
    input = read
  []
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4cb10bb1-526c-4546-b849-5635e57c5e7b"><div class="modal-content"><h4>test/tests/meshgenerators/stitched_mesh_generator/stitched_mesh_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg_left]
    type = FileMeshGenerator
    file = left.e
  []

  [./fmg_center]
    type = FileMeshGenerator
    file = center.e
  []

  [./fmg_right]
    type = FileMeshGenerator
    file = right.e
  []

  [./smg]
    type = StitchedMeshGenerator
    inputs = &#x27;fmg_left fmg_center fmg_right&#x27;
    clear_stitched_boundary_ids = true
    stitch_boundaries_pairs = &#x27;right left;
                               right left&#x27;
    parallel_type = &#x27;replicated&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7b63557c-c29a-45fa-84c4-144bf20cc96e"><div class="modal-content"><h4>modules/peridynamics/test/tests/simple_tests/2D_irregularD_variableH_BPD.i</h4><pre class="moose-pre"><code class="language-text"># Test for bond-based peridynamic formulation
# for irregular grid from file mesh with varying bond constants

# Square plate with Dirichlet boundary conditions applied
# at the left, top and bottom edges

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  type = PeridynamicsMesh
  horizon_number = 3

  [./fmg]
    type = FileMeshGenerator
    file = square.e
  [../]
  [./gpd]
    type = MeshGeneratorPD
    input = fmg
    retain_fe_mesh = false
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1001
    value = 0.0
  [../]
  [./top_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1004
    value = 0.0
  [../]
  [./bottom_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 1002
    function = &#x27;-0.001*t&#x27;
  [../]
[]

[Modules/Peridynamics/Mechanics/Master]
  [./all]
    formulation = BOND
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 2e5
    poissons_ratio = 0.33
  [../]

  [./force_density]
    type = ComputeSmallStrainVariableHorizonMaterialBPD
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = PJFNK
  line_search = none
  start_time = 0
  end_time = 1
[]

[Outputs]
  file_base = 2D_irregularD_variableH_BPD
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="79910847-4e3b-4639-9d8e-483ddf1dad11"><div class="modal-content"><h4>test/tests/mortar/periodic-value/periodic.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = square.msh
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    new_block_id = 11
    new_block_name = &quot;secondary&quot;
    sidesets = &#x27;101&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    new_block_id = 12
    new_block_name = &quot;primary&quot;
    sidesets = &#x27;103&#x27;
  []
[]

[Variables]
  [u]
    order = SECOND
    block = &#x27;domain&#x27;
  []
  [lm]
    block = &#x27;secondary&#x27;
  []
[]

[Kernels]
  [diffusion]
    type = Diffusion
    variable = u
    block = &#x27;domain&#x27;
  []
  [force]
    type = BodyForce
    variable = u
    block = &#x27;domain&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    value = 1
    boundary = &#x27;left&#x27;
  []
[]

[Constraints]
  [ev]
    type = EqualValueConstraint
    variable = lm
    secondary_variable = u
    primary_boundary = 103
    secondary_boundary = 101
    primary_subdomain = 12
    secondary_subdomain = 11
    periodic = true
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="732aaea7-cc62-4287-9782-5ff1db3dccdd"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_between_subdomains_generator/between.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [./extrude]
    type = SideSetsBetweenSubdomainsGenerator
    input = fmg
    primary_block = &#x27;left&#x27;
    paired_block = &#x27;right&#x27;
    new_boundary = &#x27;in_between&#x27;
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="15efe582-866f-43c0-8766-f55be876491f"><div class="modal-content"><h4>test/tests/meshgenerators/mesh_extruder_generator/extrude_remap_layer2.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = multiblock.e
  []

  [./extrude]
    type = MeshExtruderGenerator
    input = fmg
    num_layers = 6
    extrusion_vector = &#x27;0 0 2&#x27;
    bottom_sideset = &#x27;new_bottom&#x27;
    top_sideset = &#x27;new_top&#x27;

    # Remap layers
    existing_subdomains = &#x27;1 2 5&#x27;
    layers = &#x27;1 3 5&#x27;
    new_ids = &#x27;10 12 15&#x27; # Repeat this remapping for each layer
  []
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_bottom&#x27;
    value = 0
  [../]

  [./top]
    type = DirichletBC
    variable = u
    boundary = &#x27;new_top&#x27;
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c686fcf8-6402-499f-bee5-b9cd2c5fb006"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_from_normals_generator/sidesets_cylinder_normals_fixed.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = cylinder.e
    #parallel_type = replicated
  []

  [./sidesets]
    type = SideSetsFromNormalsGenerator
    input = fmg
    normals = &#x27;0  1  0
               0 -1  0&#x27;
    fixed_normal = true
    new_boundary = &#x27;front back&#x27;
    variance = 0.5
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./front]
    type = DirichletBC
    variable = u
    boundary = front
    value = 0
  [../]
  [./back]
    type = DirichletBC
    variable = u
    boundary = back
    value = 1
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b58672db-8c87-48a9-9aa5-9eb6c226c0de"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-non-conforming/dual-soln-continuity.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  second_order = false
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
    order = FIRST
  [../]
  [./lambda]
    block = &#x27;10&#x27;
    order = FIRST
    use_dual = true
  [../]
[]

[BCs]
  [./neumann]
    type = FunctionGradientNeumannBC
    exact_solution = exact_soln
    variable = T
    boundary = &#x27;3 4 5 6 7 8&#x27;
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./sink]
    type = Reaction
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./forcing_function]
    type = BodyForce
    variable = T
    function = forcing_function
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./forcing_function]
    type = ParsedFunction
    value = &#x27;-4 + x^2 + y^2&#x27;
  [../]
  [./exact_soln]
    type = ParsedFunction
    value = &#x27;x^2 + y^2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = EqualValueConstraint
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Steady
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="01a5a8e9-f732-49d5-a66b-2dfa53fbe2d1"><div class="modal-content"><h4>modules/contact/test/tests/bouncing-block-contact/frictional-nodal-min-normal-lm-mortar-fb-tangential-lm-mortar-disp.i</h4><pre class="moose-pre"><code class="language-text">starting_point = 2e-1

# We offset slightly so we avoid the case where the bottom of the secondary block and the top of the
# primary block are perfectly vertically aligned which can cause the backtracking line search some
# issues for a coarse mesh (basic line search handles that fine)
offset = 1e-2

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
  diffusivity = 1e0
  scaling = 1e0
[]

[Mesh]
  [./file_mesh]
    type = FileMeshGenerator
    file = long-bottom-block-1elem-blocks-coarse.e
  [../]
[]

[Variables]
  [./disp_x]
    block = &#x27;1 2&#x27;
    # order = SECOND
  [../]
  [./disp_y]
    block = &#x27;1 2&#x27;
    # order = SECOND
  [../]
  [./frictional_normal_lm]
    block = 3
    # family = MONOMIAL
    # order = CONSTANT
  [../]
  [./frictional_tangential_lm]
    block = 3
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[ICs]
  [./disp_y]
    block = 2
    variable = disp_y
    value = ${fparse starting_point + offset}
    type = ConstantIC
  [../]
[]

[Kernels]
  [./disp_x]
    type = MatDiffusion
    variable = disp_x
  [../]
  [./disp_y]
    type = MatDiffusion
    variable = disp_y
  [../]
[]


[Constraints]
  [frictional_normal_lm]
    type = NormalNodalLMMechanicalContact
    secondary = 10
    primary = 20
    variable = frictional_normal_lm
    primary_variable = disp_x
    disp_y = disp_y
    ncp_function_type = min
  [../]
  [normal_x]
    type = NormalMortarMechanicalContact
    primary_boundary = 20
    secondary_boundary = 10
    primary_subdomain = 4
    secondary_subdomain = 3
    variable = frictional_normal_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [normal_y]
    type = NormalMortarMechanicalContact
    primary_boundary = 20
    secondary_boundary = 10
    primary_subdomain = 4
    secondary_subdomain = 3
    variable = frictional_normal_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [frictional_tangential_lm]
    type = TangentialMortarLMMechanicalContact
    primary_boundary = 20
    secondary_boundary = 10
    primary_subdomain = 4
    secondary_subdomain = 3
    variable = frictional_tangential_lm
    secondary_variable = disp_x
    secondary_disp_y = disp_y
    use_displaced_mesh = true
    compute_primal_residuals = false
    contact_pressure = frictional_normal_lm
    friction_coefficient = .1
    ncp_function_type = fb
  []
  [tangential_x]
    type = TangentialMortarMechanicalContact
    primary_boundary = 20
    secondary_boundary = 10
    primary_subdomain = 4
    secondary_subdomain = 3
    variable = frictional_tangential_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [tangential_y]
    type = TangentialMortarMechanicalContact
    primary_boundary = 20
    secondary_boundary = 10
    primary_subdomain = 4
    secondary_subdomain = 3
    variable = frictional_tangential_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
[]

[BCs]
  [./botx]
    type = DirichletBC
    variable = disp_x
    boundary = 40
    value = 0.0
  [../]
  [./boty]
    type = DirichletBC
    variable = disp_y
    boundary = 40
    value = 0.0
  [../]
  [./topy]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 30
    function = &#x27;${starting_point} * cos(2 * pi / 40 * t) + ${offset}&#x27;
  [../]
  [./leftx]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 50
    function = &#x27;1e-2 * t&#x27;
  [../]
[]

[Executioner]
  type = Transient
  end_time = 200
  dt = 5
  dtmin = .1
  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -pc_svd_monitor -snes_linesearch_monitor -snes_ksp_ew&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_factor_shift_type -pc_factor_shift_amount -mat_mffd_err&#x27;
  petsc_options_value = &#x27;lu       NONZERO               1e-15                   1e-5&#x27;
  l_max_its = 30
  nl_max_its = 20
  line_search = &#x27;none&#x27;
  snesmf_reuse_base = false

  # [./Predictor]
  #   type = SimplePredictor
  #   scale = 1.0
  # [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  exodus = true
  # checkpoint = true
  # [./dofmap]
  #   type = DOFMap
  #   execute_on = &#x27;initial&#x27;
  # [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Postprocessors]
  [./num_nl]
    type = NumNonlinearIterations
  [../]
  [./cumulative]
    type = CumulativeValuePostprocessor
    postprocessor = num_nl
  [../]
  [contact]
    type = ContactDOFSetSize
    variable = frictional_normal_lm
    subdomain = &#x27;3&#x27;
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="06886368-289a-428f-8860-3367b63da743"><div class="modal-content"><h4>modules/combined/test/tests/gap_heat_transfer_mortar/gap_heat_transfer_mortar.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2blk-gap.e
  []
  [secondary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;101&#x27;
    new_block_id = &#x27;10001&#x27;
    new_block_name = &#x27;secondary_lower&#x27;
    input = file
  []
  [primary]
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;100&#x27;
    new_block_id = &#x27;10000&#x27;
    new_block_name = &#x27;primary_lower&#x27;
    input = secondary
  []
[]

[Problem]
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Variables]
  [./temp]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1 2&#x27;
  [../]

  [./lm]
    order = FIRST
    family = LAGRANGE
    block = &#x27;secondary_lower&#x27;
  [../]
[]

[Materials]
  [./left]
    type = HeatConductionMaterial
    block = 1
    thermal_conductivity = 1000
    specific_heat = 1
  [../]

  [./right]
    type = HeatConductionMaterial
    block = 2
    thermal_conductivity = 500
    specific_heat = 1
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    use_displaced_mesh = false
    block = &#x27;1 2&#x27;
  [../]
[]

[Constraints]
  [./ced]
    type = GapConductanceConstraint
    variable = lm
    secondary_variable = temp
    k = 100
    primary_boundary = 100
    primary_subdomain = 10000
    secondary_boundary = 101
    secondary_subdomain = 10001
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = &#x27;left&#x27;
    value = 1
  [../]

  [./right]
    type = DirichletBC
    variable = temp
    boundary = &#x27;right&#x27;
    value = 0
  [../]
[]

[Preconditioning]
  [./fmp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  nl_rel_tol = 1e-11
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="58a8b423-bee4-44f1-abaf-9df936c40c67"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test11.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = pyramid.e
  []

  [./sbb2]
    type = SubdomainBoundingBoxGenerator
    input = fmg
    block_id = 2
    bottom_left = &#x27;-0.5 -0.5 -0.5&#x27;
    top_right = &#x27;0.5 0.5 0.5&#x27;
  [../]
  [./swiss_cheese2]
    type = BlockDeletionGenerator
    block_id = 2
    input = &#x27;sbb2&#x27;
  [../]
  [./sbb3]
    type = SubdomainBoundingBoxGenerator
    input = swiss_cheese2
    block_id = 3
    bottom_left = &#x27;-5 -5 -3&#x27;
    top_right = &#x27;-2 -2 -1&#x27;
  [../]
  [./swiss_cheese3]
    type = BlockDeletionGenerator
    block_id = 3
    input = &#x27;sbb3&#x27;
  [../]
  [./sbb4]
    type = SubdomainBoundingBoxGenerator
    input = swiss_cheese3
    block_id = 4
    bottom_left = &#x27;-1 2 -2&#x27;
    top_right = &#x27;1 5 0&#x27;
  [../]
  [./swiss_cheese4]
    type = BlockDeletionGenerator
    block_id = 4
    input = &#x27;sbb4&#x27;
  [../]
  [./sbb5]
    type = OrientedSubdomainBoundingBoxGenerator
    input = swiss_cheese4
    block_id = 5
    center = &#x27;2.4 -1.4 0.4&#x27;
    height = 3
    length = 8
    length_direction = &#x27;-2 1 -1&#x27;
    width = 3
    width_direction = &#x27;1 2 0&#x27;
  [../]
  [./swiss_cheese5]
    type = BlockDeletionGenerator
    block_id = 5
    input = &#x27;sbb5&#x27;
  [../]
  [./sbb6]
    type = OrientedSubdomainBoundingBoxGenerator
    input = swiss_cheese5
    block_id = 6
    center = &#x27;-1 0.4 2.2&#x27;
    height = 1
    length = 8
    length_direction = &#x27;2 -1 -1&#x27;
    width = 1
    width_direction = &#x27;1 2 0&#x27;
  [../]
  [./swiss_cheese6]
    type = BlockDeletionGenerator
    block_id = 6
    input = &#x27;sbb6&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 100
  dt = 100

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6d36bec7-b51a-45e3-9345-a982e3a6c020"><div class="modal-content"><h4>test/tests/mortar/gap-conductance-2d-non-conforming/gap-conductance.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
  [../]
  [./lambda]
    block = &#x27;10&#x27;
  [../]
[]

[BCs]
  [./neumann]
    type = FunctionGradientNeumannBC
    exact_solution = exact_soln
    variable = T
    boundary = &#x27;3 4 5 6 7 8&#x27;
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./sink]
    type = Reaction
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./forcing_function]
    type = BodyForce
    variable = T
    function = forcing_function
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./forcing_function]
    type = ParsedFunction
    value = &#x27;-4 + x^2 + y^2&#x27;
  [../]
  [./exact_soln]
    type = ParsedFunction
    value = &#x27;x^2 + y^2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = GapHeatConductanceTest
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
  [../]
[]

[Materials]
  [constant]
    type = ADGenericConstantMaterial
    prop_names = &#x27;gap_conductance&#x27;
    prop_values = &#x27;.03&#x27;
    block = &#x27;1 2&#x27;
  []
  [./ssm]
    type = SpatialStatefulMaterial
    block = &#x27;1 2&#x27;
  [../]
[]


[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Steady
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type&#x27;
  petsc_options_value = &#x27;lu       basic&#x27;
[]

[Outputs]
  exodus = true
  [dofmap]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="838b694a-5096-4f5d-9a34-680acced3845"><div class="modal-content"><h4>modules/porous_flow/examples/restart/gas_injection.i</h4><pre class="moose-pre"><code class="language-text"># Using the results from the equilibrium run to provide the initial condition for
# porepressure, we now inject a gas phase into the brine-saturated reservoir. In this
# example, where the mesh used is identical to the mesh used in gravityeq.i, we can use
# the basic restart capability by simply setting the initial condition for porepressure
# using the results from gravityeq.i.
#
# Even though the gravity equilibrium is established using a 2D mesh, in this example,
# we shift the mesh 0.1 m to the right and rotate it about the Y axis to make a 2D radial
# model.
#
# Methane injection takes place over the surface of the hole created by rotating the mesh,
# and hence the injection area is 2 pi r h. We can calculate this using an AreaPostprocessor,
# and then use this in a ParsedFunction to calculate the injection rate so that 10 kg/s of
# methane is injected.
#
# Results can be improved by uniformly refining the initial mesh.
#
# Note: as this example uses the results from a previous simulation, gravityeq.i MUST be
# run before running this input file.

[Mesh]
  uniform_refine = 1
  [file]
    type = FileMeshGenerator
    file = gravityeq_out.e
  []
  [./translate]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0.1 0 0&#x27;
    input = file
  [../]
[]

[Problem]
  coord_type = RZ
  rz_coord_axis = Y
[]

[GlobalParams]
  PorousFlowDictator = dictator
  gravity = &#x27;0 -9.81 0&#x27;
  temperature_unit = Celsius
[]

[Variables]
  [./pp_liq]
    initial_from_file_var = porepressure
  [../]
  [./sat_gas]
    initial_condition = 0
  [../]
[]

[AuxVariables]
  [./temperature]
    initial_condition = 50
  [../]
  [./xnacl]
    initial_condition = 0.1
  [../]
  [./brine_density]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./methane_density]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./massfrac_ph0_sp0]
    initial_condition = 1
  [../]
  [./massfrac_ph1_sp0]
    initial_condition = 0
  [../]
  [./pp_gas]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./sat_liq]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[Kernels]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    variable = pp_liq
  [../]
  [./flux0]
    type = PorousFlowAdvectiveFlux
    variable = pp_liq
  [../]
  [./mass1]
    type = PorousFlowMassTimeDerivative
    variable = sat_gas
    fluid_component = 1
  [../]
  [./flux1]
    type = PorousFlowAdvectiveFlux
    variable = sat_gas
    fluid_component = 1
  [../]
[]

[AuxKernels]
  [./brine_density]
    type = PorousFlowPropertyAux
    property = density
    variable = brine_density
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./methane_density]
    type = PorousFlowPropertyAux
    property = density
    variable = methane_density
    phase = 1
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./pp_gas]
    type = PorousFlowPropertyAux
    property = pressure
    phase = 1
    variable = pp_gas
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./sat_liq]
    type = PorousFlowPropertyAux
    property = saturation
    variable = sat_liq
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[BCs]
  [./gas_injection]
    type = PorousFlowSink
    boundary = left
    variable = sat_gas
    flux_function = injection_rate
    fluid_phase = 1
  [../]
  [./brine_out]
    type = PorousFlowPiecewiseLinearSink
    boundary = right
    variable = pp_liq
    multipliers = &#x27;0 1e9&#x27;
    pt_vals = &#x27;0 1e9&#x27;
    fluid_phase = 0
    flux_function = 1e-6
    use_mobility = true
  [../]
[]

[Functions]
  [./injection_rate]
    type = ParsedFunction
    vals = injection_area
    vars = area
    value = &#x27;-10/area&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pp_liq sat_gas&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    alpha = 1e-5
    m = 0.5
    sat_lr = 0.2
  [../]
[]

[Modules]
  [./FluidProperties]
    [./brine]
      type = BrineFluidProperties
    [../]
    [./methane]
      type = MethaneFluidProperties
    [../]
    [./methane_tab]
      type = TabulatedFluidProperties
      fp = methane
      save_file = false
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
    temperature = temperature
  [../]
  [./ps]
    type = PorousFlow2PhasePS
    phase0_porepressure = pp_liq
    phase1_saturation = sat_gas
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
    mass_fraction_vars = &#x27;massfrac_ph0_sp0 massfrac_ph1_sp0&#x27;
  [../]
  [./brine]
    type = PorousFlowBrine
    compute_enthalpy = false
    compute_internal_energy = false
    xnacl = xnacl
    phase = 0
  [../]
  [./methane]
    type = PorousFlowSingleComponentFluid
    compute_enthalpy = false
    compute_internal_energy = false
    fp = methane_tab
    phase = 1
  [../]
  [./porosity]
    type = PorousFlowPorosityConst
    porosity = 0.1
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1e-13 0 0 0 1e-13 0  0 0 1e-13&#x27;
  [../]
  [./relperm_liq]
    type = PorousFlowRelativePermeabilityCorey
    n = 2
    phase = 0
    s_res = 0.2
    sum_s_res = 0.3
  [../]
  [./relperm_gas]
    type = PorousFlowRelativePermeabilityCorey
    n = 2
    phase = 1
    s_res = 0.1
    sum_s_res = 0.3
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1e8
  nl_abs_tol = 1e-12
  nl_rel_tol = 1e-06
  nl_max_its = 20
  dtmax = 1e6
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 1e1
  [../]
[]

[Postprocessors]
  [./mass_ph0]
    type = PorousFlowFluidMass
    fluid_component = 0
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./mass_ph1]
    type = PorousFlowFluidMass
    fluid_component = 1
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./injection_area]
    type = AreaPostprocessor
    boundary = left
    execute_on = initial
  [../]
[]

[Outputs]
  execute_on = &#x27;initial timestep_end&#x27;
  exodus = true
  perf_graph = true
  checkpoint = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="26157746-a192-4396-9cb2-5fd69a795597"><div class="modal-content"><h4>test/tests/mortar/continuity-2d-non-conforming/sequencing-stateful-soln-continuity.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  second_order = true
  [file]
    type = FileMeshGenerator
    file = nodal_normals_test_offset_nonmatching_gap.e
  []
  [./primary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  [../]
  [./secondary]
    input = primary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;1&#x27;
    new_block_id = &#x27;10&#x27;
  [../]
[]

[Variables]
  [./T]
    block = &#x27;1 2&#x27;
    order = SECOND
  [../]
  [./lambda]
    block = &#x27;10&#x27;
  [../]
[]

[AuxVariables]
  [ssm]
    order = CONSTANT
    family = MONOMIAL
    block = &#x27;1 2&#x27;
  []
[]

[BCs]
  [./neumann]
    type = FunctionGradientNeumannBC
    exact_solution = exact_soln
    variable = T
    boundary = &#x27;3 4 5 6 7 8&#x27;
  [../]
[]

[Kernels]
  [./conduction]
    type = Diffusion
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./sink]
    type = Reaction
    variable = T
    block = &#x27;1 2&#x27;
  [../]
  [./forcing_function]
    type = BodyForce
    variable = T
    function = forcing_function
    block = &#x27;1 2&#x27;
  [../]
[]

[AuxKernels]
  [ssm]
    type = MaterialRealAux
    variable = ssm
    property = diffusivity
    block = &#x27;1 2&#x27;
  []
[]

[Materials]
  [./ssm]
    type = SpatialStatefulMaterial
    block = &#x27;1 2&#x27;
  [../]
[]

[Functions]
  [./forcing_function]
    type = ParsedFunction
    value = &#x27;-4 + x^2 + y^2&#x27;
  [../]
  [./exact_soln]
    type = ParsedFunction
    value = &#x27;x^2 + y^2&#x27;
  [../]
[]

[Debug]
  show_var_residual_norms = 1
[]

[Constraints]
  [./mortar]
    type = EqualValueConstraint
    primary_boundary = 2
    secondary_boundary = 1
    primary_subdomain = 20
    secondary_subdomain = 10
    variable = lambda
    secondary_variable = T
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  solve_type = NEWTON
  type = Steady
  nl_abs_tol = 1e-12
  petsc_options_iname = &#x27;-pc_type -snes_linesearch_type -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       basic                 NONZERO               1e-15&#x27;
  num_grids = 2
[]

[Outputs]
  exodus = true
[]

[Adaptivity]
  steps = 1
  marker = uniform
  [Markers]
    [uniform]
      type = UniformMarker
      mark = refine
    []
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="150ddc0f-2e70-49a4-af47-07d0ad5b1cff"><div class="modal-content"><h4>modules/contact/test/tests/sliding_block/in_and_out/frictional_lm.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  patch_size = 80
  [file]
    type = FileMeshGenerator
    file = sliding_elastic_blocks_2d.e
  []
  [secondary]
    input = file
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;3&#x27;
    new_block_id = &#x27;30&#x27;
  []
  [primary]
    input = secondary
    type = LowerDBlockFromSidesetGenerator
    sidesets = &#x27;2&#x27;
    new_block_id = &#x27;20&#x27;
  []
[]

[GlobalParams]
  volumetric_locking_correction = false
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Variables]
  [normal_lm]
    block = &#x27;30&#x27;
  []
  [tangential_lm]
    block = &#x27;30&#x27;
    family = MONOMIAL
    order = CONSTANT
  []
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    boundary = 1
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    boundary = 1
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    boundary = 4
    function = horizontal_movement
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    boundary = 4
    function = vertical_movement
  [../]
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    strain = FINITE
    block = &#x27;1 2&#x27;
  [../]
[]

[Materials]
  [./tensor]
    type = ComputeIsotropicElasticityTensor
    block = &#x27;1 2&#x27;
    youngs_modulus = 1e6
    poissons_ratio = 0.3
    constant_on = SUBDOMAIN
  [../]
  [./stress]
    type = ComputeFiniteStrainElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient
  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_converged_reason -ksp_converged_reason -snes_ksp_ew&#x27;
  petsc_options_iname = &#x27;-pc_type -mat_mffd_err -pc_factor_shift_type -pc_factor_shift_amount&#x27;
  petsc_options_value = &#x27;lu       1e-5          NONZERO               1e-15&#x27;
  end_time = 15
  dt = 0.1
  dtmin = 0.01
  l_max_its = 30
  nl_max_its = 20
  line_search = &#x27;none&#x27;
  timestep_tolerance = 1e-6

  [./Predictor]
    type = SimplePredictor
    scale = 1.0
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Outputs]
  sync_times = &#x27;1 2 3 4 5 6 7 8 9 10 11 12 13 14 15&#x27;
  [out]
    type = Exodus
    sync_only = true
  []
  [dof]
    execute_on = &#x27;initial&#x27;
    type = DOFMap
  []
  [csv]
    type = CSV
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]

[Functions]
  [./vertical_movement]
    type = ParsedFunction
    value = -t
  [../]
  [./horizontal_movement]
    type = ParsedFunction
    value = -0.04*sin(4*t)+0.02
  [../]
[]

[Constraints]
  [./lm]
    type = NormalNodalLMMechanicalContact
    secondary = 3
    primary = 2
    variable = normal_lm
    primary_variable = disp_x
    disp_y = disp_y
    ncp_function_type = min
    use_displaced_mesh = true
    c = 1e6 # relative scale difference between pressure and gap
  [../]
  [normal_x]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = normal_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [normal_y]
    type = NormalMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = normal_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [tangential_lm]
    type = TangentialMortarLMMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = tangential_lm
    secondary_variable = disp_x
    secondary_disp_y = disp_y
    use_displaced_mesh = true
    compute_primal_residuals = false
    contact_pressure = normal_lm
    friction_coefficient = .4
    ncp_function_type = fb
    c = 1000 # relative scale difference between pressure and velocity
  []
  [tangential_x]
    type = TangentialMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = tangential_lm
    secondary_variable = disp_x
    component = x
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
  [tangential_y]
    type = TangentialMortarMechanicalContact
    primary_boundary = &#x27;2&#x27;
    secondary_boundary = &#x27;3&#x27;
    primary_subdomain = &#x27;20&#x27;
    secondary_subdomain = &#x27;30&#x27;
    variable = tangential_lm
    secondary_variable = disp_y
    component = y
    use_displaced_mesh = true
    compute_lm_residuals = false
  []
[]

[Postprocessors]
  [./num_nl]
    type = NumNonlinearIterations
  [../]
  [./cumulative]
    type = CumulativeValuePostprocessor
    postprocessor = num_nl
  [../]
  [lin]
    type = NumLinearIterations
  []
  [cum_lin]
    type = CumulativeValuePostprocessor
    postprocessor = lin
  []
  [contact]
    type = ContactDOFSetSize
    variable = normal_lm
    subdomain = &#x27;30&#x27;
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#42afcc8f-60a7-43cd-9d50-d1c0f2c1918c" class="tooltipped" data-position="left" data-tooltip="Supported File Formats">Supported File Formats</a></li><li><a href="#b557cc01-6823-48b2-8b6e-d3d2bbadbe60" class="tooltipped" data-position="left" data-tooltip="Further FileMeshGenerator Documentation">Further FileMeshGenerator Documentation</a></li><li><a href="#6e7062cc-ad71-44e7-8ff5-7c0430c6dda0" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#5368c90d-4eba-450d-a2db-1b2c19ec79be" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>