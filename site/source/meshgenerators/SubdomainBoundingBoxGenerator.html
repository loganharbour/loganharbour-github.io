<!DOCTYPE html><head><meta charset="UTF-8"><title>SubdomainBoundingBoxGenerator.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="a6f22e03-69e9-4e43-a051-e0071685f6ea"><i class="material-icons">menu</i></a><ul class="sidenav" id="a6f22e03-69e9-4e43-a051-e0071685f6ea"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">SubdomainBoundingBoxGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="0f699af4-85b0-4c69-9dcb-92c8cad71b85" data-section-level="1" data-section-text="SubdomainBoundingBoxGenerator"><h1 id="subdomainboundingboxgenerator">SubdomainBoundingBoxGenerator</h1><p>Changes the subdomain ID of elements either (XOR) inside or outside the specified box to the specified ID.</p><section class="scrollspy" id="e7afa666-8ffc-44b8-a96a-a4fe35fbba6e" data-section-level="2" data-section-text="Overview"><h2 id="overview">Overview</h2><p>This MeshGenerator takes a user-specified axis aligned box defined in terms of extreme coordinates (lower left and upper right), and changes subdomain IDs of all elements or elements with certain subdomain IDs  either inside or outside the box to the specified ID.</p></section><section class="scrollspy" id="be5679a3-e2db-4dd8-a09b-1e35b044c3e3" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="e45acd58-3c59-4a20-9acb-e7444204f943" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block_id</span><span class="moose-parameter-header-description">Subdomain id to set for inside/outside the bounding box</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned short</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Subdomain id to set for inside/outside the bounding box</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">bottom_left</span><span class="moose-parameter-header-description">The bottom left point (in x,y,z with spaces in-between).</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>libMesh::VectorValue<double></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The bottom left point (in x,y,z with spaces in-between).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">input</span><span class="moose-parameter-header-description">The mesh we want to modify</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshGeneratorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The mesh we want to modify</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">top_right</span><span class="moose-parameter-header-description">The bottom left point (in x,y,z with spaces in-between).</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>libMesh::VectorValue<double></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The bottom left point (in x,y,z with spaces in-between).</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="323bd980-2bd6-4465-b316-4b888df1dbef" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block_name</span><span class="moose-parameter-header-description">Subdomain name to set for inside/outside the bounding box (optional)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>SubdomainName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Subdomain name to set for inside/outside the bounding box (optional)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">integer_name</span><span class="moose-parameter-header-description">Element integer to be assigned (default to subdomain ID)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Element integer to be assigned (default to subdomain ID)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">location</span><span class="moose-parameter-header-default">INSIDE</span><span class="moose-parameter-header-description">Control of where the subdomain id is to be set</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>INSIDE</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>INSIDE OUTSIDE</p><p class="moose-parameter-description"><span>Description:</span>Control of where the subdomain id is to be set</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">restricted_subdomains</span><span class="moose-parameter-header-description">Only reset subdomain ID for given subdomains within the bounding box</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<SubdomainName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Only reset subdomain ID for given subdomains within the bounding box</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="a482fad0-5491-4179-a72d-77251757b0b6" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="cbd39abd-743d-47ed-8eba-57c6f39611dc" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#339e1062-3370-41c5-8140-d00663ff0d03" class="modal-trigger">test/tests/kernels/ad_transient_diffusion/ad_transient_vector_diffusion.i</a></li><li><a href="#d4838a1b-751c-4c46-b3ab-f28f5cc6b84f" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_action/two_block_no_action.i</a></li><li><a href="#15da08f6-5b59-441d-9e1c-9075331c2726" class="modal-trigger">test/tests/kernels/array_kernels/array_save_in.i</a></li><li><a href="#04365e83-8ffd-4cc0-83c5-c9ce2b9f3d51" class="modal-trigger">test/tests/interfacekernels/ad_coupled_value/coupled.i</a></li><li><a href="#bd30f4bc-1697-4f7c-b9d4-a10cdba994ad" class="modal-trigger">modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_2D.i</a></li><li><a href="#be6087ae-9f5c-4dee-bbf7-6d7c2b3e0f07" class="modal-trigger">modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_smooth.i</a></li><li><a href="#eeef550b-7faf-42de-99bf-f7456c07d139" class="modal-trigger">modules/tensor_mechanics/test/tests/czm/czm_3DC_3D_base_input.i</a></li><li><a href="#b34597f6-1bfc-4124-929a-ccbeb7269327" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp_sticky_longitudinal.i</a></li><li><a href="#c8b74d4a-202d-4765-be80-cdba4f6c4267" class="modal-trigger">test/tests/postprocessors/interface_value/interface_average_variable_value_postprocessor.i</a></li><li><a href="#bb42c9ff-7546-452f-8c2d-968a59edbf73" class="modal-trigger">test/tests/interfacekernels/ik_displaced/displaced.i</a></li><li><a href="#10fb49e2-f83d-48ae-9edd-9093818692b3" class="modal-trigger">modules/porous_flow/examples/tutorial/10.i</a></li><li><a href="#594465e7-9d56-4df2-a1de-8296fdcbaab8" class="modal-trigger">modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_2D_single.i</a></li><li><a href="#b39ec526-c36b-4f83-abd6-9a19d8a2e0f7" class="modal-trigger">test/tests/interfacekernels/1d_interface/coupled_value_coupled_flux.i</a></li><li><a href="#2206f999-aefd-49cc-8c85-d080e039eb4c" class="modal-trigger">test/tests/meshgenerators/break_boundary_on_subdomain/break_bottom_interface_on_subdomain.i</a></li><li><a href="#a75c5252-d493-4c2a-8008-14be2ca06f09" class="modal-trigger">modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact_constant_conductance.i</a></li><li><a href="#1aeaacef-9df1-4191-b084-182dc37a4e10" class="modal-trigger">test/tests/materials/declare_overlap/error.i</a></li><li><a href="#3b806f54-eea0-447f-806a-8cd883126287" class="modal-trigger">modules/porous_flow/test/tests/flux_limited_TVD_advection/fltvd_2D_blocks.i</a></li><li><a href="#f6df2014-6a28-4d8e-a237-6b365d037628" class="modal-trigger">test/tests/vectorpostprocessors/element_id_counters/interface_element_counter.i</a></li><li><a href="#8256a6f6-6b56-4969-98c5-15ccd47c944b" class="modal-trigger">test/tests/quadrature/order/code-order-bump.i</a></li><li><a href="#b928725d-8aa4-4ab5-a79a-1145d7017b62" class="modal-trigger">modules/phase_field/test/tests/misc/equal_gradient_lagrange.i</a></li><li><a href="#78a4c7c6-dcfc-494d-8a72-54352c601109" class="modal-trigger">modules/tensor_mechanics/test/tests/action/two_coord.i</a></li><li><a href="#1bd59f18-83c9-4bbd-9fcd-4296d2ffed18" class="modal-trigger">test/tests/tag/tag_interface_kernels.i</a></li><li><a href="#26adebbc-84a9-4f45-8aa4-54361a8e9d72" class="modal-trigger">test/tests/postprocessors/nodal_sum/nodal_sum_block.i</a></li><li><a href="#caa2ac1c-4934-4a6e-a3cb-b200ae76e393" class="modal-trigger">test/tests/postprocessors/interface_value/interface_integral_variable_value_postprocessor.i</a></li><li><a href="#bbe2742f-2dcf-4121-beea-28e33dfc49e0" class="modal-trigger">modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_abbo.i</a></li><li><a href="#4e466e2b-82e4-4172-8bf3-5defdc13bede" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_wp_only.i</a></li><li><a href="#48820396-8d64-4b3f-a5ca-51f68111cbf2" class="modal-trigger">modules/heat_conduction/test/tests/heat_conduction/min_gap/min_gap.i</a></li><li><a href="#7e628865-3e57-4de8-a207-5b1e285c9d35" class="modal-trigger">test/tests/interfacekernels/1d_interface/ik_save_in_test.i</a></li><li><a href="#1f5c64aa-f096-40fa-a63b-ec2dd1b2ade7" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_elastic.i</a></li><li><a href="#497f69d7-ccf8-4b9b-bf2c-901235dd04a7" class="modal-trigger">modules/porous_flow/test/tests/actions/block_restricted_materials.i</a></li><li><a href="#ab896ff8-daeb-4482-a474-42398a93d436" class="modal-trigger">test/tests/materials/get_material_property_names/get_material_property_any_block_id.i</a></li><li><a href="#2e8b9102-2f55-4891-8e0c-e463cba74ebe" class="modal-trigger">test/tests/interfacekernels/1d_interface/coupled_value_coupled_flux_with_jump_material.i</a></li><li><a href="#60e06868-3fc1-47ba-842d-d4c0cf16947e" class="modal-trigger">test/tests/materials/interface_material/interface_value_material.i</a></li><li><a href="#ca734bf2-1dd4-4c5a-8505-ba184ea5ebdc" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test8.i</a></li><li><a href="#8ab405d6-e574-4d44-96f2-63d046b9874c" class="modal-trigger">test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux_with_jump_material.i</a></li><li><a href="#e7eb9cae-19ef-4665-bbbd-39343a82f479" class="modal-trigger">test/tests/vectorpostprocessors/element_id_counters/element_counter_block_restricted.i</a></li><li><a href="#8f392d4f-2cb1-45e6-8406-5d7b6462af63" class="modal-trigger">test/tests/functions/image_function/flip_quad.i</a></li><li><a href="#b33076e7-3814-46ca-91b5-c2c8ed9b27e2" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_action/two_coord.i</a></li><li><a href="#0cc6cd75-4f5e-4cc6-881d-b871105573b1" class="modal-trigger">test/tests/meshgenerators/final_generator/final_linear.i</a></li><li><a href="#fe181dae-c0ab-48fa-ade7-e2cb0a71f302" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test6.i</a></li><li><a href="#485e4595-48fa-44e6-a58d-abbe1f1c1ef2" class="modal-trigger">modules/phase_field/examples/interfacekernels/interface_gradient.i</a></li><li><a href="#15f926a3-8531-46bf-942e-e3b6a984aa43" class="modal-trigger">test/tests/interfacekernels/3d_interface/coupled_value_coupled_flux.i</a></li><li><a href="#04bccc9d-d000-405e-9efa-8ba1f98a2df4" class="modal-trigger">test/tests/meshgenerators/stack_generator/stack_generator_2d.i</a></li><li><a href="#84ed074e-0fba-4ea0-8c87-367783a624e7" class="modal-trigger">test/tests/meshgenerators/stack_generator/stack_generator.i</a></li><li><a href="#03e91ddd-17a2-40f7-a736-72b55ba8bfc3" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/sub_power_density.i</a></li><li><a href="#c52199df-30b1-4749-8cdd-bbb3ff2302e7" class="modal-trigger">test/tests/materials/discrete/recompute2.i</a></li><li><a href="#933f6023-de47-4781-a4ac-f4093212a8d9" class="modal-trigger">test/tests/kernels/array_kernels/array_diffusion_reaction_dg.i</a></li><li><a href="#6ddfb052-8990-46ab-8ba9-a1dad6013396" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test10.i</a></li><li><a href="#b1bd64d3-2a8b-4035-9064-1ed0ac12672b" class="modal-trigger">modules/phase_field/test/tests/misc/interface_grad.i</a></li><li><a href="#92377e78-77dd-4b16-a184-1cedba4e8598" class="modal-trigger">test/tests/interfacekernels/1d_interface/reaction_1D_transient.i</a></li><li><a href="#120ee95e-51a0-4d58-9a25-8bd43c987080" class="modal-trigger">test/tests/interfacekernels/3d_interface/vector_3d.i</a></li><li><a href="#d2949a09-bdbd-49ba-857b-241168ee769e" class="modal-trigger">test/tests/userobjects/layered_average/block_restricted.i</a></li><li><a href="#148d983b-c75d-40f6-9f42-36fcf871d5ba" class="modal-trigger">test/tests/userobjects/interface_user_object/interface_userobject_material_value.i</a></li><li><a href="#42b44a91-2c60-4064-8223-da50ce39d1af" class="modal-trigger">test/tests/materials/discrete/recompute_boundary_error.i</a></li><li><a href="#cda57764-6ea6-444c-83ce-54d0d270dc72" class="modal-trigger">modules/porous_flow/examples/tutorial/03.i</a></li><li><a href="#49b97ccb-274a-492c-8893-2e33bac74ba7" class="modal-trigger">modules/porous_flow/examples/tutorial/00.i</a></li><li><a href="#20f8765a-b6d5-481e-ae7c-1f504134052d" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/master_nearest_point.i</a></li><li><a href="#553bc720-e057-442a-b39f-87354f9ac293" class="modal-trigger">modules/tensor_mechanics/test/tests/action/two_block.i</a></li><li><a href="#58075f7c-0c6f-4b69-b052-891f0dd925af" class="modal-trigger">test/tests/userobjects/interface_user_object/interface_mp_real_user_object_QP.i</a></li><li><a href="#812c833a-0ff3-4f83-90ed-26450089e854" class="modal-trigger">test/tests/misc/block_user_object_check/coupled_check.i</a></li><li><a href="#b6b90b1b-7c70-4042-a7a7-4f9abb0f6f67" class="modal-trigger">modules/porous_flow/test/tests/actions/basicthm_hm.i</a></li><li><a href="#e8c8d392-464f-475a-bedb-31c70b05bc56" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test9.i</a></li><li><a href="#9a0015ef-7773-4b95-bac5-26187fcac867" class="modal-trigger">test/tests/quadrature/order/block-order.i</a></li><li><a href="#d9592873-1fc0-4cdb-8ec2-fe351773d229" class="modal-trigger">modules/porous_flow/test/tests/actions/basicthm_th.i</a></li><li><a href="#098fc6da-e949-47c3-be16-90af324e8508" class="modal-trigger">modules/porous_flow/examples/tutorial/00_2D.i</a></li><li><a href="#251ec0c6-fbd1-4f12-bc5f-d96ede66aabd" class="modal-trigger">test/tests/interfacekernels/ik_displaced/different_jxw_displaced.i</a></li><li><a href="#82aa221e-788d-4484-84ea-83c619c3fc8d" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test3.i</a></li><li><a href="#4ed35166-c4ff-48c6-ac2a-7456351e4ce5" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test11.i</a></li><li><a href="#ed57f03e-3e5e-468e-936f-e5188cc79d8a" class="modal-trigger">test/tests/materials/interface_material/interface_value_material_split_mesh.i</a></li><li><a href="#6dcc7120-026c-4b86-b0e5-77d0269abc79" class="modal-trigger">modules/porous_flow/examples/tutorial/08.i</a></li><li><a href="#1625fb7d-8d66-4a08-86a5-8e792ecdc939" class="modal-trigger">test/tests/interfacekernels/ad_coupled_vector_value/coupled.i</a></li><li><a href="#a1366e3e-d0eb-4bc5-af91-6197134e0a21" class="modal-trigger">test/tests/meshgenerators/break_boundary_on_subdomain/break_boundary_on_subdomain.i</a></li><li><a href="#a33cee52-2908-4988-80c1-c8a1dca3d1b7" class="modal-trigger">test/tests/materials/discrete/recompute_warning.i</a></li><li><a href="#72a24466-7686-4748-8152-b8ee81096b08" class="modal-trigger">test/tests/kernels/transient_vector_diffusion/transient_vector_diffusion.i</a></li><li><a href="#9d6b1cab-3535-4fa8-9fdf-1799b80fb230" class="modal-trigger">test/tests/interfacekernels/1d_interface/reaction_1D_steady.i</a></li><li><a href="#85a46c5a-0000-45f8-9f33-21b7a6131cb6" class="modal-trigger">test/tests/materials/discrete/recompute_no_calc.i</a></li><li><a href="#1d53385e-b8a8-41d8-a147-18940bdbfec9" class="modal-trigger">test/tests/materials/get_material_property_names/get_material_property_block_names.i</a></li><li><a href="#57134c97-9811-49d1-9d20-17474367aa4c" class="modal-trigger">test/tests/postprocessors/nodal_sum/nodal_sum.i</a></li><li><a href="#c0428f8f-44d9-429e-8990-7a85f7ddc1b6" class="modal-trigger">test/tests/userobjects/interface_user_object/interface_value_user_object_QP.i</a></li><li><a href="#c6510109-b94b-474c-bfde-1bab66bae93a" class="modal-trigger">modules/porous_flow/test/tests/actions/basicthm_h.i</a></li><li><a href="#0bed075d-04fc-4b8c-88ae-09c691962e2f" class="modal-trigger">test/tests/meshgenerators/sideset_around_subdomain_generator/sideset_around_subdomain.i</a></li><li><a href="#256207ba-f2c3-4e28-925f-5579a0ae3e34" class="modal-trigger">test/tests/vectorpostprocessors/element_id_counters/side_element_counter.i</a></li><li><a href="#1a281eea-0c19-47ae-9926-3a9435249e11" class="modal-trigger">test/tests/postprocessors/nodal_sum/nodal_sum_block_non_unique.i</a></li><li><a href="#065177c2-fecc-4f25-b98f-d08f93e9f399" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test4.i</a></li><li><a href="#3a8ae889-058e-4006-8994-24767a6ad23d" class="modal-trigger">test/tests/materials/material/material_check_test.i</a></li><li><a href="#d8920f2f-b6c1-4b1e-ab80-e26fabb7eb1a" class="modal-trigger">modules/tensor_mechanics/test/tests/action/no_block.i</a></li><li><a href="#e2af0cf1-5207-408f-9f42-1dda0da585bc" class="modal-trigger">modules/porous_flow/examples/tutorial/11.i</a></li><li><a href="#3694ba19-5cb0-4336-b44a-ec338ca0f28a" class="modal-trigger">modules/heat_conduction/test/tests/sideset_heat_transfer/gap_thermal_1D.i</a></li><li><a href="#7e01adb0-e8de-4960-88c0-c4073514cf92" class="modal-trigger">modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact.i</a></li><li><a href="#77ef3b7d-70b4-4ada-9fb6-94fe4ce2134c" class="modal-trigger">test/tests/functions/image_function/flip_dual.i</a></li><li><a href="#6610de2a-b27e-42e9-b1e7-564610f57633" class="modal-trigger">test/tests/userobjects/setup_interface_count/internal_side.i</a></li><li><a href="#3d03dd2f-5e0e-4a41-bcd5-9b06bcdf5653" class="modal-trigger">modules/heat_conduction/test/tests/sideset_heat_transfer/gap_thermal_ktemp_1D.i</a></li><li><a href="#d29785dc-9e8d-49ca-886c-a3c2582c3ade" class="modal-trigger">test/tests/userobjects/setup_interface_count/general.i</a></li><li><a href="#4dbddea1-b8f3-4252-bb2d-4ba3ef4bd1d3" class="modal-trigger">modules/tensor_mechanics/test/tests/notched_plastic_block/cmc_smooth.i</a></li><li><a href="#9e01e140-8f1f-4b8d-b1d6-dafe2af3f714" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_mc_only.i</a></li><li><a href="#2d8ae985-62b9-4f41-9f8c-024fa2c39259" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp.i</a></li><li><a href="#15bfcc14-4437-4d34-b04f-8817c43bb99c" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/fine.i</a></li><li><a href="#3d92789e-3765-4ca1-a556-1b832ef0fbee" class="modal-trigger">test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux_dot.i</a></li><li><a href="#e2974050-b94f-4221-8798-5b6431235098" class="modal-trigger">modules/porous_flow/test/tests/actions/basicthm_thm.i</a></li><li><a href="#3e804189-b6c5-4ea2-a7a0-6eb536634dd0" class="modal-trigger">test/tests/outputs/debug/show_material_props_debug.i</a></li><li><a href="#a81a6ad1-5a10-4b1c-9a66-f50f28f243a2" class="modal-trigger">modules/porous_flow/examples/tutorial/07.i</a></li><li><a href="#733a95f0-d8e1-45f7-ac9d-d67633045c11" class="modal-trigger">modules/tensor_mechanics/test/tests/notched_plastic_block/cmc_planar.i</a></li><li><a href="#cedebf13-1416-4860-b8dd-50f0566a0c7b" class="modal-trigger">modules/porous_flow/examples/coal_mining/coarse_with_fluid.i</a></li><li><a href="#277d0054-52af-4cbc-8d65-ab6052cdd813" class="modal-trigger">test/tests/misc/save_in/block-restricted-save-in.i</a></li><li><a href="#b84d671f-cab9-420a-b08e-600b51d34318" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test5.i</a></li><li><a href="#cee30f5b-b42c-4be4-96f8-f02933f22af8" class="modal-trigger">modules/heat_conduction/test/tests/sideset_heat_transfer/cfem_gap.i</a></li><li><a href="#12aded92-33ba-4c59-beeb-25216448ad76" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/sub_nearest_point.i</a></li><li><a href="#7867bc92-ad07-410b-963e-fb920e1eef39" class="modal-trigger">modules/ray_tracing/test/tests/trace_ray/internal_sidesets/internal_sidesets_1d.i</a></li><li><a href="#abbd9c0a-899f-4155-9180-b86635ee3f6c" class="modal-trigger">modules/tensor_mechanics/test/tests/action/two_block_base_name.i</a></li><li><a href="#e57811cc-f2da-41b3-a405-fc645d2044c8" class="modal-trigger">test/tests/materials/interface_material/interface_value_material_noIK.i</a></li><li><a href="#30a41dd8-7959-44bc-b028-acc66ebb0257" class="modal-trigger">test/tests/postprocessors/internal_side_jump/internal_side_jump.i</a></li><li><a href="#c2cc8e04-c4f5-454b-ba35-6db209c1901a" class="modal-trigger">test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_outside.i</a></li><li><a href="#dc092030-33d0-4dae-adb8-604119768f8f" class="modal-trigger">test/tests/meshgenerators/rename_block_generator/rename_block1.i</a></li><li><a href="#e9b946a5-1bf4-4efa-bb1c-774c9b4132fb" class="modal-trigger">test/tests/meshgenerators/mesh_side_set_generator/mesh_side_set_generator.i</a></li><li><a href="#b951b06c-9f08-4aab-badf-fd9a12f73ce8" class="modal-trigger">test/tests/materials/get_material_property_names/get_material_property_any_boundary_id.i</a></li><li><a href="#3019d1c9-12de-4134-8f74-f6399aef774e" class="modal-trigger">modules/porous_flow/examples/tutorial/05.i</a></li><li><a href="#03de4305-6469-4cff-8190-a88cba994630" class="modal-trigger">test/tests/userobjects/setup_interface_count/element.i</a></li><li><a href="#e0dcc202-a8da-4207-9bda-c3fbef2682f5" class="modal-trigger">test/tests/outputs/debug/show_material_props.i</a></li><li><a href="#d0e75823-2bcf-428f-939f-48ca80437fc2" class="modal-trigger">test/tests/meshgenerators/final_generator/final_multi_trees.i</a></li><li><a href="#989c1f53-59f5-44f3-92f3-f4bed05b1a6e" class="modal-trigger">test/tests/variables/second_derivative/interface_kernels.i</a></li><li><a href="#7530bd9a-9d47-47c7-a189-60185e3b0b78" class="modal-trigger">modules/ray_tracing/test/tests/outputs/ray_tracing_mesh_output/ray_mesh_output.i</a></li><li><a href="#bf46c685-15cd-40a0-9736-d49d3b422d51" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/coarse.i</a></li><li><a href="#4cea4187-480f-4ef9-943a-d8f9317232f8" class="modal-trigger">test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_inside.i</a></li><li><a href="#5b443bb2-59aa-4af6-ac37-f1febd63c4cd" class="modal-trigger">modules/rdg/test/tests/advection_1d/block_restrictable.i</a></li><li><a href="#6d1452dc-7095-4799-882a-98da20004d40" class="modal-trigger">modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_3D_single.i</a></li><li><a href="#b55dce31-1486-49e8-bf91-498a0a14e1f9" class="modal-trigger">test/tests/interfacekernels/1d_interface/mixed_shapes.i</a></li><li><a href="#9ee890ba-eabd-4b53-9634-1ff8536b44d8" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_action/two_block_new.i</a></li><li><a href="#7e5b1506-0bda-4865-8251-48a5e2f43a7f" class="modal-trigger">test/tests/mesh/multi_elem_integers/multi_element_integer.i</a></li><li><a href="#79913b8f-84ac-4f06-8a5f-db293a86a22a" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test12.i</a></li><li><a href="#f445df31-8f85-433f-aa04-ace03ebe2b63" class="modal-trigger">test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_restricted.i</a></li><li><a href="#ca04c276-35fe-48db-ad88-03e125029c44" class="modal-trigger">modules/porous_flow/examples/tutorial/04.i</a></li><li><a href="#f02c80a2-4499-4c63-a3ba-a526b43b003c" class="modal-trigger">modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_planar.i</a></li><li><a href="#4f397510-7f30-4c76-b220-b1b2affebbfb" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test2.i</a></li><li><a href="#34ee85ab-0d6b-424f-92a1-4464cc8b3692" class="modal-trigger">test/tests/userobjects/interface_user_object/interface_value_rate_increment_user_object_QP.i</a></li><li><a href="#be11a350-347a-434c-b6f0-92d2cef962b3" class="modal-trigger">modules/porous_flow/examples/tutorial/06.i</a></li><li><a href="#f35d990f-baa7-441d-b432-860f800aa553" class="modal-trigger">test/tests/materials/discrete/recompute.i</a></li><li><a href="#64e20c53-9c6a-4f21-ab9d-55c67da65518" class="modal-trigger">test/tests/markers/block_restricted/marker_block.i</a></li><li><a href="#6f406eb3-0e78-430e-8566-ae34f8eb86db" class="modal-trigger">test/tests/materials/discrete/recompute_block_error.i</a></li><li><a href="#424554e3-58e0-456f-8fdb-d16ef5a370a9" class="modal-trigger">modules/phase_field/test/tests/misc/interface_flux.i</a></li><li><a href="#c00ccc5f-95bc-4b5b-a4c1-8d94a856e519" class="modal-trigger">test/tests/meshgenerators/final_generator/final_ambigious.i</a></li><li><a href="#a9635038-84cc-4ad0-8841-28a1593d83d8" class="modal-trigger">modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp_sticky.i</a></li><li><a href="#c37cb5a1-8c21-4026-8736-dda85bdf2f11" class="modal-trigger">modules/porous_flow/examples/tutorial/06_KT.i</a></li><li><a href="#f28e4be5-581d-4b87-8a14-2964375f1c55" class="modal-trigger">modules/porous_flow/examples/coal_mining/fine_with_fluid.i</a></li><li><a href="#1fbf8aad-1537-4baa-a133-3bf83b0381f8" class="modal-trigger">test/tests/userobjects/setup_interface_count/nodal.i</a></li><li><a href="#dbada2cc-6161-4357-8da9-8471fdcfeeb9" class="modal-trigger">modules/porous_flow/examples/tutorial/05_tabulated.i</a></li><li><a href="#d8678a55-561b-4e13-abac-98aed607cf6f" class="modal-trigger">test/tests/vectorpostprocessors/element_id_counters/internal_side_element_counter.i</a></li><li><a href="#a42f2110-37dd-4552-b2a5-e9fe4439cb71" class="modal-trigger">test/tests/misc/block_user_object_check/block_check.i</a></li><li><a href="#5d08673d-1fd4-4473-9ce9-5cc472b75f9e" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/master_power_density.i</a></li><li><a href="#e307e70b-0281-445b-b64b-0806a40126f5" class="modal-trigger">test/tests/userobjects/setup_interface_count/side.i</a></li><li><a href="#539cec4a-4022-4d88-b237-a9b3575b4981" class="modal-trigger">modules/tensor_mechanics/test/tests/ad_action/two_block.i</a></li><li><a href="#b357b7b8-f498-4035-8c1d-891a5d1977bb" class="modal-trigger">test/tests/kernels/array_kernels/standard_save_in.i</a></li><li><a href="#f8357cfc-5e25-44a9-a7e8-f67d72eaa428" class="modal-trigger">modules/phase_field/examples/interfacekernels/interface_fluxbc.i</a></li><li><a href="#294df260-33fc-4150-b405-2aea14e642cb" class="modal-trigger">test/tests/materials/interface_material/interface_value_material_split_mesh_stateful.i</a></li><li><a href="#48f2f979-0ecd-45e3-94b1-42cb445a945e" class="modal-trigger">python/chigger/tests/input/block_vars.i</a></li><li><a href="#8c751e83-056a-4e08-9632-a9455d00ff3c" class="modal-trigger">test/tests/vectorpostprocessors/element_id_counters/element_counter.i</a></li><li><a href="#af746dab-95b4-4680-9047-91044a817973" class="modal-trigger">modules/porous_flow/examples/tutorial/08_KT.i</a></li><li><a href="#ad9f7822-64e3-4b40-b532-75f6968a3dcc" class="modal-trigger">test/tests/interfacekernels/2d_interface/vector_2d.i</a></li><li><a href="#c257390a-9971-4048-8294-195067ed5548" class="modal-trigger">test/tests/auxkernels/mesh_integer/mesh_integer.i</a></li><li><a href="#033a2ea6-294f-49b1-b026-48873d4e0e63" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test1.i</a></li><li><a href="#3f907cd2-1824-4122-8138-a2dea49a0aca" class="modal-trigger">test/tests/dgkernels/dg_block_restrict/2d_dg_diffusion_block_restrict.i</a></li><li><a href="#3176ef48-b7a6-4111-a941-574657ed123c" class="modal-trigger">modules/porous_flow/examples/tutorial/01.i</a></li><li><a href="#57e97537-4a2a-486c-8f54-4f745b62bba4" class="modal-trigger">test/tests/transfers/multiapp_userobject_transfer/two_pipe_master.i</a></li><li><a href="#e9d0822d-82d3-4ed1-af0e-e2a4056fecb2" class="modal-trigger">test/tests/meshgenerators/sidesets_between_subdomains_generator/sideset_between_subdomains.i</a></li><li><a href="#48714d13-4841-49b0-a109-95933cca7fcf" class="modal-trigger">modules/tensor_mechanics/test/tests/action/two_block_new.i</a></li><li><a href="#1575d0cc-d4af-49eb-85a2-4ed70074d21b" class="modal-trigger">test/tests/meshgenerators/rename_block_generator/rename_block2.i</a></li><li><a href="#3c4d0779-1e11-4229-a5ec-040cdec74263" class="modal-trigger">test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux.i</a></li><li><a href="#21b06e4d-8ee1-4d62-91f5-3647f16de890" class="modal-trigger">test/tests/interfacekernels/1d_interface/single_variable_coupled_flux.i</a></li><li><a href="#50c86f52-7b89-475e-a364-f5c86900f3e3" class="modal-trigger">test/tests/interfacekernels/adaptivity/adaptivity.i</a></li><li><a href="#110ce5b5-b3db-4f14-9358-e00149829162" class="modal-trigger">test/tests/transfers/multiapp_interpolation_transfer/fromrestrictedsub_sub.i</a></li><li><a href="#1624adbd-8cb9-4d9c-874e-1a7b2baee928" class="modal-trigger">modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_3D.i</a></li><li><a href="#d9019917-1b13-43ef-a9ec-5f926775d7cd" class="modal-trigger">test/tests/meshgenerators/block_deletion_generator/block_deletion_test7.i</a></li><li><a href="#76762851-5865-427e-9405-a12e5a7501b0" class="modal-trigger">test/tests/misc/subdomain_setup/mat_prop_block.i</a></li><li><a href="#40d61c8a-227a-4035-983c-e0726b788eef" class="modal-trigger">modules/porous_flow/examples/tutorial/11_2D.i</a></li><li><a href="#edecd565-280a-4264-824b-124b67a3e0f7" class="modal-trigger">modules/porous_flow/test/tests/gravity/grav01d.i</a></li><li><a href="#75340dbd-90f2-45ed-9055-c4a0992104f7" class="modal-trigger">modules/ray_tracing/test/tests/outputs/ray_tracing_mesh_output/ray_mesh_output_3d.i</a></li><li><a href="#456e9903-a37f-47b5-b347-8398613d6990" class="modal-trigger">test/tests/interfacekernels/3d_interface/coupled_value_coupled_flux_with_jump_material.i</a></li><li><a href="#c65a0144-0478-48ae-9265-86a3594f36cb" class="modal-trigger">test/tests/dgkernels/dg_block_restrict/1d_dg_block_restrict.i</a></li></ul><div class="modal moose-modal" id="339e1062-3370-41c5-8140-d00663ff0d03"><div class="modal-content"><h4>test/tests/kernels/ad_transient_diffusion/ad_transient_vector_diffusion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  [../]
  [./block1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 -1&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./block2]
    type = SubdomainBoundingBoxGenerator
    input = block1
    bottom_left = &#x27;0.33 0.33 -1&#x27;
    top_right = &#x27;0.67 0.67 1&#x27;
    block_id = 2
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE_VEC
  [../]
[]

[ICs]
  [./u]
    type = VectorConstantIC
    variable = u
    x_value = 1
    y_value = 2
    z_value = 3
    block = 2
  [../]
[]

[Kernels]
  [./diff]
    type = ADVectorDiffusion
    variable = u
  [../]
  [./time]
    type = ADVectorTimeDerivative
    variable = u
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 20
  dt = 0.01
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d4838a1b-751c-4c46-b3ab-f28f5cc6b84f"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_action/two_block_no_action.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

# [Modules/TensorMechanics/Master]
#   [./block1]
#     strain = FINITE
#     add_variables = true
#     #block = 1
#     use_automatic_differentiation = true
#   [../]
#   [./block2]
#     strain = SMALL
#     add_variables = true
#     block = 2
#     use_automatic_differentiation = true
#   [../]
# []

[Kernels]
  [./disp_x]
    type = ADStressDivergenceTensors
    variable = disp_x
    component = 0
  [../]
  [./disp_y]
    type = ADStressDivergenceTensors
    variable = disp_y
    component = 1
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = ADRankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./block_1]
    type = ADComputeFiniteStrain
    block = 1
  [../]
  [./block_2]
    type = ADComputeSmallStrain
    block = 2
  [../]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ADComputeLinearElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="15da08f6-5b59-441d-9e1c-9075331c2726"><div class="modal-content"><h4>test/tests/kernels/array_kernels/array_save_in.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0.5 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [u]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
[]

[AuxVariables]
  [u_diff_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
  [u_vacuum_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
  [u_dg_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []

  [u_diff_diag_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
  [u_vacuum_diag_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
  [u_dg_diag_save_in]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
[]

[Kernels]
  [diff]
    type = ArrayDiffusion
    variable = u
    diffusion_coefficient = dc
    save_in = u_diff_save_in
    diag_save_in = u_diff_diag_save_in
  []
  [reaction]
    type = ArrayReaction
    variable = u
    reaction_coefficient = rc
  []
[]

[DGKernels]
  [dgdiff]
    type = ArrayDGDiffusion
    variable = u
    diff = dc
    save_in = u_dg_save_in
    diag_save_in = u_dg_diag_save_in
  []
[]

[BCs]
  [left]
    type = ArrayVacuumBC
    variable = u
    boundary = 1
    save_in = u_vacuum_save_in
    diag_save_in = u_vacuum_diag_save_in
  []

  [right]
    type = ArrayPenaltyDirichletBC
    variable = u
    boundary = 2
    value = &#x27;1 2&#x27;
    penalty = 4
  []
[]

[Materials]
  [dc0]
    type = GenericConstantArray
    block = 0
    prop_name = dc
    prop_value = &#x27;1 1&#x27;
  []
  [dc1]
    type = GenericConstantArray
    block = 1
    prop_name = dc
    prop_value = &#x27;2 1&#x27;
  []
  [rc]
    type = GenericConstant2DArray
    block = &#x27;0 1&#x27;
    prop_name = rc
    prop_value = &#x27;1 0; -0.1 1&#x27;
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [intu0]
    type = ElementIntegralArrayVariablePostprocessor
    variable = u
    component = 0
  []
  [intu1]
    type = ElementIntegralArrayVariablePostprocessor
    variable = u
    component = 1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="04365e83-8ffd-4cc0-83c5-c9ce2b9f3d51"><div class="modal-content"><h4>test/tests/interfacekernels/ad_coupled_value/coupled.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 20
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    block = &#x27;0&#x27;
  [../]
  [./v]
    block = &#x27;1&#x27;
  [../]
  [w][]
[]

[Kernels]
  [./diff_u]
    type = Diffusion
    variable = u
    block = 0
  [../]
  [./diff_v]
    type = Diffusion
    variable = v
    block = 1
  [../]
  [diff_w]
    type = Diffusion
    variable = w
  []
[]

[InterfaceKernels]
  [./interface]
    type = ADCoupledInterfacialSource
    variable = u
    neighbor_var = v
    var_source = w
    boundary = primary0_interface
    D = 1
    D_neighbor = 1
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 10
  [../]
  [./middle]
    type = MatchedValueBC
    variable = v
    boundary = &#x27;primary0_interface&#x27;
    v = u
  [../]
  [w_left]
    type = DirichletBC
    variable = w
    boundary = &#x27;left&#x27;
    value = 0
  []
  [w_right]
    type = DirichletBC
    variable = w
    boundary = &#x27;right&#x27;
    value = 4
  []
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bd30f4bc-1697-4f7c-b9d4-a10cdba994ad"><div class="modal-content"><h4>modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_2D.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 50
    ny = 50
    xmin = 0
    xmax = 50
    ymin = 0
    ymax = 50
    elem_type = QUAD4
  []
  [./left_side]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;24.9 50 0&#x27;
    input = gen
  [../]
  [./right_side]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;25.1 0 0&#x27;
    top_right = &#x27;50 50 0&#x27;
    input = left_side
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = right_side
  [../]
[]

[Variables]
  [./c]
    order = FIRST
    family = LAGRANGE
  []
[]

[AuxVariables]
  [./unique_regions]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[ICs]
  [./c]
    type = SpecifiedSmoothCircleIC
    variable = c
    invalue = 1.0
    outvalue = 0.0
    radii =       &#x27;4    5  10&#x27;
    x_positions = &#x27;25   25 25&#x27;
    y_positions = &#x27;37.5 25 0&#x27;
    z_positions = &#x27;0    0  0&#x27;
    int_width = 2.0
  []
[]

[Postprocessors]
  [./flood_count]
    type = FeatureFloodCount
    variable = c

    # Must be turned on to build data structures necessary for FeatureVolumeVPP
    compute_var_to_feature_map = true
    threshold = 0.001
    execute_on = INITIAL
  [../]
[]

[VectorPostprocessors]
  [./features]
    type = FeatureVolumeVectorPostprocessor
    flood_counter = flood_count

    # Turn on centroid output
    output_centroids = true
    execute_on = INITIAL
    boundary = 10
    single_feature_per_element = false
  [../]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = c
  []
[]

[AuxKernels]
  [./unique_regions]
    type = FeatureFloodCountAux
    variable = unique_regions
    flood_counter = flood_count
    field_display = UNIQUE_REGION
  [../]
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = INITIAL
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="be6087ae-9f5c-4dee-bbf7-6d7c2b3e0f07"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_smooth.i</h4><pre class="moose-pre"><code class="language-text"># Uses a multi-smooted version of Mohr-Coulomb (via CappedMohrCoulombStressUpdate and ComputeMultipleInelasticStress) to simulate the following problem.
# A cubical block is notched around its equator.
# All of its outer surfaces have roller BCs, but the notched region is free to move as needed
# The block is initialised with a high hydrostatic tensile stress
# Without the notch, the BCs do not allow contraction of the block, and this stress configuration is admissible
# With the notch, however, the interior parts of the block are free to move in order to relieve stress, and this causes plastic failure
# The top surface is then pulled upwards (the bottom is fixed because of the roller BCs)
# This causes more failure
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 9
    ny = 9
    nz = 9
    xmin = 0
    xmax = 0.1
    ymin = 0
    ymax = 0.1
    zmin = 0
    zmax = 0.1
  []
  [block_to_remove_xmin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.01 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = generated_mesh
  []
  [block_to_remove_xmax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.09 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmin
  []
  [block_to_remove_ymin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.01 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmax
  []
  [block_to_remove_ymax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 0.09 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_ymin
  []
  [remove_block]
    type = BlockDeletionGenerator
    block_id = 1
    input = block_to_remove_ymax
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    incremental = true
    generate_output = &#x27;max_principal_stress mid_principal_stress min_principal_stress stress_zz&#x27;
    eigenstrain_names = ini_stress
  [../]
[]

[Postprocessors]
  [./uz]
    type = PointValue
    point = &#x27;0 0 0.1&#x27;
    use_displaced_mesh = false
    variable = disp_z
  [../]
  [./s_zz]
    type = ElementAverageValue
    use_displaced_mesh = false
    variable = stress_zz
  [../]
  [./num_res]
    type = NumResidualEvaluations
  [../]
  [./nr_its] # num_iters is the average number of NR iterations encountered per element in this timestep
    type = ElementAverageValue
    variable = num_iters
  [../]
  [./max_nr_its] # max_num_iters is the maximum number of NR iterations encountered in the element during the whole simulation
    type = ElementExtremeValue
    variable = max_num_iters
  [../]
  [./runtime]
    type = PerfGraphData
    data_type = TOTAL
    section_name = &#x27;Root&#x27;
  [../]
[]

[BCs]
  # back=zmin, front=zmax, bottom=ymin, top=ymax, left=xmin, right=xmax
  [./xmin_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./xmax_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.0
  [../]
  [./ymin_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./ymax_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = top
    value = 0.0
  [../]
  [./zmin_zzero]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = &#x27;0&#x27;
  [../]
  [./zmax_disp]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = front
    function = &#x27;1E-6*max(t,0)&#x27;
  [../]
[]

[AuxVariables]
  [./mc_int]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./max_num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./yield_fcn]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./mc_int_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_internal_parameter
    variable = mc_int
  [../]
  [./num_iters_auxk]
    type = MaterialRealAux
    property = plastic_NR_iterations
    variable = num_iters
  [../]
  [./max_num_iters_auxk]
    type = MaterialRealAux
    property = max_plastic_NR_iterations
    variable = max_num_iters
  [../]
  [./yield_fcn_auxk]
    type = MaterialStdVectorAux
    index = 6
    property = plastic_yield_function
    variable = yield_fcn
  [../]
[]

[UserObjects]
  [./ts]
    type = TensorMechanicsHardeningConstant
    value = 1E16
  [../]
  [./mc_coh]
    type = TensorMechanicsHardeningConstant
    value = 5E6
  [../]
  [./mc_phi]
    type = TensorMechanicsHardeningConstant
    value = 35
    convert_to_radians = true
  [../]
  [./mc_psi]
    type = TensorMechanicsHardeningConstant
    value = 10
    convert_to_radians = true
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 16E9
    poissons_ratio = 0.25
  [../]
  [./mc]
    type = CappedMohrCoulombStressUpdate
    tensile_strength = ts
    compressive_strength = ts
    cohesion = mc_coh
    friction_angle = mc_phi
    dilation_angle = mc_psi
    smoothing_tol = 0.2E6
    yield_function_tol = 1E-5
  [../]
  [./stress]
    type = ComputeMultipleInelasticStress
    inelastic_models = mc
    perform_finite_strain_rotations = false
  [../]
  [./strain_from_initial_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;6E6 0 0  0 6E6 0  0 0 6E6&#x27;
    eigenstrain_name = ini_stress
  [../]
[]

[Preconditioning]
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  start_time = -1
  end_time = 10
  dt = 1
  solve_type = NEWTON
  type = Transient

  l_tol = 1E-2
  nl_abs_tol = 1E-5
  nl_rel_tol = 1E-7
  l_max_its = 200
  nl_max_its = 400

  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;
[]


[Outputs]
  file_base = biaxial_smooth
  perf_graph = true
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="eeef550b-7faf-42de-99bf-f7456c07d139"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/czm/czm_3DC_3D_base_input.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./msh]
    type = GeneratedMeshGenerator
  []
  [./subdomain_1]
    type = SubdomainBoundingBoxGenerator
    input = msh
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 1
    top_right = &#x27;0.5 1 1&#x27;
  []
  [./subdomain_2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain_1
    bottom_left = &#x27;0.5 0 0&#x27;
    block_id = 2
    top_right = &#x27;1 1 1&#x27;
  []
  [./breakmesh]
    input = subdomain_2
    type = BreakMeshByBlockGenerator
  [../]
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    strain = SMALL
    add_variables = true
    generate_output = &#x27;stress_xx stress_yy stress_zz stress_yz stress_xz stress_xy&#x27;
  [../]
[]

[Modules/TensorMechanics/CohesiveZoneMaster]
  [./czm1]
    boundary = &#x27;interface&#x27;
    displacements = &#x27;disp_x disp_y disp_z&#x27;
  [../]
[]

[BCs]
  [./left_x]
    type = DirichletBC
    variable = disp_x
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./left_y]
    type = DirichletBC
    variable = disp_y
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./left_z]
    type = DirichletBC
    variable = disp_z
    preset = false
    boundary = left
    value = 0.0
  [../]
  [./right_x]
    type = FunctionDirichletBC
    variable = disp_x
    preset = false
    boundary = right
  [../]
  [./right_y]
    type = FunctionDirichletBC
    variable = disp_y
    preset = false
    boundary = right
  [../]
  [./right_z]
    type = FunctionDirichletBC
    variable = disp_z
    preset = false
    boundary = right
  [../]
[]

[Materials]
  [./Elasticity_tensor]
    type = ComputeElasticityTensor
    block = &#x27;1 2&#x27;
    fill_method = symmetric_isotropic
    C_ijkl = &#x27;0.3 0.5e8&#x27;
  [../]
  [./stress]
    type = ComputeLinearElasticStress
    block = &#x27;1 2&#x27;
  [../]
  [./czm_3dc]
    type = SalehaniIrani3DCTraction
    boundary = &#x27;interface&#x27;
    normal_gap_at_maximum_normal_traction = 1
    tangential_gap_at_maximum_shear_traction = 0.5
    maximum_normal_traction = 100
    maximum_shear_traction = 70
    displacements = &#x27;disp_x disp_y disp_z&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  solve_type = NEWTON
  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-6
  nl_max_its = 5
  l_tol = 1e-10
  l_max_its = 50
  start_time = 0.0
  dt = 0.2
  end_time = 5
  dtmin = 0.2
  line_search = none
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]

[Postprocessors]
  [./sxx]
    type = SideAverageValue
    variable = stress_xx
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./syy]
    type = SideAverageValue
    variable = stress_yy
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./szz]
    type = SideAverageValue
    variable = stress_zz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./syz]
    type = SideAverageValue
    variable = stress_yz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./sxz]
    type = SideAverageValue
    variable = stress_xz
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./sxy]
    type = SideAverageValue
    variable = stress_xy
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;interface&#x27;
  [../]
  [./disp_x]
    type = SideAverageValue
    variable = disp_x
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
  [./disp_y]
    type = SideAverageValue
    variable = disp_y
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
  [./disp_z]
    type = SideAverageValue
    variable = disp_z
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
    boundary = &#x27;right&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b34597f6-1bfc-4124-929a-ccbeb7269327"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp_sticky_longitudinal.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a longitudinal section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 400m deep
# and just the roof is studied (0&lt;=z&lt;=400).  The model sits
# between -300&lt;=y&lt;=1800.  The excavation sits in 0&lt;=y&lt;=1500.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this elastic simulation are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=-300 and y=1800
#  - disp_z = 0 at z=0, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=300 and y=1800.
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
#
[Mesh]
   [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 400
    bias_z = 1.1
    ny = 140 # 15m elements
    ymin = -300
    ymax = 1800
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 1500 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = 18
    normal = &#x27;0 0 1&#x27;
    input = excav
  []
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = &#x27;18&#x27;
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(400-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(400-z)&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;1.0   0    1500.0 1E-9  1      15&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;1.0   0    1500.0 0     2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1.0
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = 0
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    # this is needed so as to correctly apply the initial stress
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = 0
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Postprocessors]
  [./subs]
    type = PointValue
    point = &#x27;0 0 400&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 100

  start_time = 0.0
  dt = 0.01 # 1 element per step
  end_time = 1.0

[]

[Outputs]
  file_base = cosserat_mc_wp_sticky_longitudinal
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
  #[./console]
  #  type = Console
  #  output_linear = false
  #[../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c8b74d4a-202d-4765-be80-cdba4f6c4267"><div class="modal-content"><h4>test/tests/postprocessors/interface_value/interface_average_variable_value_postprocessor.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 6
    xmax = 3
    ny = 9
    ymax = 3
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;2 1 0&#x27;
    block_id = 1
    [../]
  [./interface]
    input = subdomain_id
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;interface&#x27;
  [../]
[]

[Functions]
  [./fn_exact]
    type = ParsedFunction
    value = &#x27;x*x+y*y&#x27;
  [../]

  [./ffn]
    type = ParsedFunction
    value = -4
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE
    order = FIRST
  [../]
[]


[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]

  [./ffn]
    type = BodyForce
    variable = u
    function = ffn
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;0 1 2 3&#x27;
    function = fn_exact
  [../]
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 5
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
  [../]
[]

[AuxKernels]
  [./diffusivity_1]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_1
  []
  [./diffusivity_2]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_2
  []
[]

[AuxVariables]
  [./diffusivity_1]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_2]
    family = MONOMIAL
    order = CONSTANT
  []
[]



[Postprocessors]
  [./diffusivity_average]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = average
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_primary_secondary]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = jump_primary_minus_secondary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_secondary_primary]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = jump_secondary_minus_primary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_abs]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = jump_abs
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_primary]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = primary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_secondary]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = secondary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bb42c9ff-7546-452f-8c2d-968a59edbf73"><div class="modal-content"><h4>test/tests/interfacekernels/ik_displaced/displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[AuxVariables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfacialSource
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    use_displaced_mesh = true
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  file_base = displaced
  exodus = true
[]

[Functions]
  [./disp_x_func]
    type = ParsedFunction
    value = x
  [../]
  [./disp_y_func]
    type = ParsedFunction
    value = y
  [../]
[]

[ICs]
  [./disp_x_ic]
    function = disp_x_func
    variable = disp_x
    type = FunctionIC
  [../]
  [./disp_y_ic]
    function = disp_y_func
    variable = disp_y
    type = FunctionIC
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="10fb49e2-f83d-48ae-9edd-9093818692b3"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/10.i</h4><pre class="moose-pre"><code class="language-text"># Unsaturated Darcy-Richards flow without using an Action
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    input = annular
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = pp
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    alpha = 1E-6
    m = 0.6
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./pp]
  [../]
[]

[Kernels]
  [./time_derivative]
    type = PorousFlowMassTimeDerivative
    variable = pp
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    variable = pp
    gravity = &#x27;0 0 0&#x27;
  [../]
[]

[AuxVariables]
  [./sat]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./saturation]
    type = PorousFlowPropertyAux
    variable = sat
    property = saturation
  [../]
[]


[BCs]
  [./production]
    type = PorousFlowSink
    variable = pp
    fluid_phase = 0
    flux_function = 1E-2
    use_relperm = true
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
  [./saturation_calculator]
    type = PorousFlow1PhaseP
    porepressure = pp
    capillary_pressure = pc
  [../]
  [./temperature]
    type = PorousFlowTemperature
    temperature = 293
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = the_simple_fluid
    phase = 0
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 3
    s_res = 0.1
    sum_s_res = 0.1
    phase = 0
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="594465e7-9d56-4df2-a1de-8296fdcbaab8"><div class="modal-content"><h4>modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_2D_single.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 50
    ny = 50
    xmin = 0
    xmax = 50
    ymin = 0
    ymax = 50
    elem_type = QUAD4
  []
  [./left_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;24.9 50 0&#x27;
  [../]
  [./right_side]
    input = left_side
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;25.1 0 0&#x27;
    top_right = &#x27;50 50 0&#x27;
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = right_side
  [../]
[]

[Variables]
  [./c]
    order = FIRST
    family = LAGRANGE
  []
[]

[AuxVariables]
  [./unique_regions]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[ICs]
  [./c]
    type = SpecifiedSmoothCircleIC
    variable = c
    invalue = 1.0
    outvalue = 0.0
    radii =       &#x27;4    5  10&#x27;
    x_positions = &#x27;25   25 25&#x27;
    y_positions = &#x27;37.5 25 0&#x27;
    z_positions = &#x27;0    0  0&#x27;
    int_width = 2.0
  []
[]

[Postprocessors]
  [./flood_count]
    type = FeatureFloodCount
    variable = c

    # Must be turned on to build data structures necessary for FeatureVolumeVPP
    compute_var_to_feature_map = true
    threshold = 0.5
    execute_on = INITIAL
  [../]
[]

[VectorPostprocessors]
  [./features]
    type = FeatureVolumeVectorPostprocessor
    flood_counter = flood_count

    # Turn on centroid output
    output_centroids = true
    execute_on = INITIAL
    boundary = 10
    single_feature_per_element = true
  [../]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = c
  []
[]

[AuxKernels]
  [./unique_regions]
    type = FeatureFloodCountAux
    variable = unique_regions
    flood_counter = flood_count
    field_display = UNIQUE_REGION
  [../]
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = INITIAL
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b39ec526-c36b-4f83-abd6-9a19d8a2e0f7"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/coupled_value_coupled_flux.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]


  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1&#x27;
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
[]

[InterfaceKernels]
  active = &#x27;interface&#x27;
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    D = &#x27;D&#x27;
    D_neighbor = &#x27;D&#x27;
  [../]
  [./penalty_interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  active = &#x27;left right middle&#x27;
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 0
  [../]
  [./middle]
    type = MatchedValueBC
    variable = v
    boundary = &#x27;primary0_interface&#x27;
    v = u
  [../]
[]

[Materials]
  [./stateful]
    type = StatefulMaterial
    initial_diffusivity = 1
    boundary = primary0_interface
  [../]
  [./block0]
    type = GenericConstantMaterial
    block = &#x27;0&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;4&#x27;
  [../]
  [./block1]
    type = GenericConstantMaterial
    block = &#x27;1&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;2&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2206f999-aefd-49cc-8c85-d080e039eb4c"><div class="modal-content"><h4>test/tests/meshgenerators/break_boundary_on_subdomain/break_bottom_interface_on_subdomain.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
  []

  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  []

  [./subdomain2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain1
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 1 1&#x27;
    block_id = 2
  []

  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain2
    primary_block = &#x27;1 2&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;interface&#x27;
  []

  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
    boundaries = &#x27;bottom interface&#x27;
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a75c5252-d493-4c2a-8008-14be2ca06f09"><div class="modal-content"><h4>modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact_constant_conductance.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmesh]
    type = FileMeshGenerator
    file = meshed_gap.e
  []
  [block0]
    type = SubdomainBoundingBoxGenerator
    input = fmesh
    bottom_left = &#x27;.5 -.5 0&#x27;
    top_right = &#x27;.7 .5 0&#x27;
    block_id = 4
  []
[]

[Variables]
  [./temp]
    block = &#x27;1 3&#x27;
    initial_condition = 1.0
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    block = &#x27;1 3&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = 1
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = temp
    boundary = 4
    value = 2
  [../]
[]

[ThermalContact]
  [./gap_conductance]
    type = GapHeatTransfer
    variable = temp
    primary = 2
    secondary = 3
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductance = 2.5
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;1 3&#x27;
    temp = temp
    thermal_conductivity = 1
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1aeaacef-9df1-4191-b084-182dc37a4e10"><div class="modal-content"><h4>test/tests/materials/declare_overlap/error.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./all]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;2 2.5     2.468&#x27;
    block = ANY_BLOCK_ID
    outputs = all
  [../]

  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;1 0.5     1.2345&#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3b806f54-eea0-447f-806a-8cd883126287"><div class="modal-content"><h4>modules/porous_flow/test/tests/flux_limited_TVD_advection/fltvd_2D_blocks.i</h4><pre class="moose-pre"><code class="language-text"># Using Flux-Limited TVD Advection ala Kuzmin and Turek
# 2D version with blocks
# Top block: tracer is defined here, with velocity = (0.1, 0, 0)
# Central block: tracer is not defined here
# Bottom block: tracer is defined here, with velocity = (-0.1, 0, 0)

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmin = 0
    xmax = 1
    ny = 5
    ymin = 0
    ymax = 1
  []
  [./top]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0.6 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./center]
    input = bottom
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0.4 0&#x27;
    top_right = &#x27;1 0.6 0&#x27;
    block_id = 2
  [../]
  [./bottom]
    input = top
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.6 0&#x27;
    block_id = 3
  [../]
  [./split_bdys]
    type = BreakBoundaryOnSubdomainGenerator
    input = center
    boundaries = &#x27;left right&#x27;
  [../]
[]

[GlobalParams]
  block = &#x27;1 2 3&#x27;
[]

[Variables]
  [./tracer]
    block = &#x27;1 3&#x27;
  [../]
  [./dummy]
  [../]
[]

[ICs]
  [./tracer_top]
    type = FunctionIC
    variable = tracer
    function = &#x27;if(x&lt;0.1 | x&gt;0.3, 0, 1)&#x27;
    block = &#x27;1&#x27;
  [../]
  [./tracer_bot]
    type = FunctionIC
    variable = tracer
    function = &#x27;if(x&lt;0.7 | x &gt; 0.9, 0, 1)&#x27;
    block = &#x27;3&#x27;
  [../]
[]

[Kernels]
  [./mass_dot]
    type = MassLumpedTimeDerivative
    variable = tracer
    block = &#x27;1 3&#x27;
  [../]
  [./flux_top]
    type = FluxLimitedTVDAdvection
    variable = tracer
    advective_flux_calculator = fluo_top
    block = &#x27;1&#x27;
  [../]
  [./flux_bot]
    type = FluxLimitedTVDAdvection
    variable = tracer
    advective_flux_calculator = fluo_bot
    block = &#x27;3&#x27;
  [../]
  [.dummy]
    type = TimeDerivative
    variable = dummy
  [../]
[]

[UserObjects]
  [./fluo_top]
    type = AdvectiveFluxCalculatorConstantVelocity
    flux_limiter_type = superbee
    u = tracer
    velocity = &#x27;0.1 0 0&#x27;
    block = &#x27;1&#x27;
  [../]
  [./fluo_bot]
    type = AdvectiveFluxCalculatorConstantVelocity
    flux_limiter_type = superbee
    u = tracer
    velocity = &#x27;-0.1 0 0&#x27;
    block = &#x27;3&#x27;
  [../]
[]

[BCs]
  [./no_tracer_on_left_top]
    type = DirichletBC
    variable = tracer
    value = 0
    boundary = &#x27;left_to_1&#x27;
  [../]
  [./remove_tracer_top]
# Ideally, an OutflowBC would be used, but that does not exist in the framework
# In 1D VacuumBC is the same as OutflowBC, with the alpha parameter being twice the velocity
    type = VacuumBC
    boundary = &#x27;right_to_1&#x27;
    alpha = 0.2 # 2 * velocity
    variable = tracer
  [../]
  [./no_tracer_on_left_bot]
# Ideally, an OutflowBC would be used, but that does not exist in the framework
# In 1D VacuumBC is the same as OutflowBC, with the alpha parameter being twice the velocity
    type = VacuumBC
    boundary = &#x27;left_to_3&#x27;
    alpha = 0.2 # 2 * velocity
    variable = tracer
  [../]
  [./remove_tracer_bot]
    type = DirichletBC
    variable = tracer
    value = 0
    boundary = &#x27;right_to_3&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[VectorPostprocessors]
  [./tracer_bot]
    type = LineValueSampler
    start_point = &#x27;0 0 0&#x27;
    end_point = &#x27;1 0 0&#x27;
    num_points = 11
    sort_by = x
    variable = tracer
  [../]
  [./tracer_top]
    type = LineValueSampler
    start_point = &#x27;0 1 0&#x27;
    end_point = &#x27;1 1 0&#x27;
    num_points = 11
    sort_by = x
    variable = tracer
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 6
  dt = 6E-2
  timestep_tolerance = 1E-3
[]

[Outputs]
  print_linear_residuals = false
  [./out]
    type = CSV
    execute_on = final
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f6df2014-6a28-4d8e-a237-6b365d037628"><div class="modal-content"><h4>test/tests/vectorpostprocessors/element_id_counters/interface_element_counter.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    extra_element_integers = foo_id
  []

  [id0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
    top_right = &#x27;1 1 0&#x27;
    integer_name = foo_id
  []

  [id1]
    type = SubdomainBoundingBoxGenerator
    input = id0
    bottom_left = &#x27;0.4 0.4 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    integer_name = foo_id
  []

  [id2]
    type = SubdomainBoundingBoxGenerator
    input = id1
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 2
    top_right = &#x27;0.6 0.6 0&#x27;
    integer_name = foo_id
  []

  [subdomain]
    type = SubdomainBoundingBoxGenerator
    input = id2
    bottom_left = &#x27;0 0.6 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  []

  [side0to1]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain
    master_block = 0
    paired_block = 1
    new_boundary = side0to1
  []
[]

[AuxVariables]
  [foo_id_var]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [foo_id]
    type = ElemExtraIDAux
    variable = foo_id_var
    extra_id_name = foo_id
  []
[]

[VectorPostprocessors]
  [elem_counter]
    type = InterfaceElementCounterWithID
    boundary = side0to1
    id_name = foo_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
  csv = true
  execute_on = &#x27;timestep_end&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8256a6f6-6b56-4969-98c5-15ccd47c944b"><div class="modal-content"><h4>test/tests/quadrature/order/code-order-bump.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 1
    ny = 2
    xmin = 0
    xmax = 1
    ymin = 0
    ymax = 2
  []

  [left]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
  [right]
    type = SubdomainBoundingBoxGenerator
    input = left
    block_id = 2
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;1 2 0&#x27;
  []
[]

[Materials]
  [mat2]
    type = QuadratureOrderBumper
    order = third
    block = &#x27;1&#x27;
  []
  [mat]
    type = QuadratureOrderBumper
    order = tenth
    block = &#x27;2&#x27;
  []
[]

[Postprocessors]
  [block1_qps]
    type = NumElemQPs
    block = 1
  []
  [block2_qps]
    type = NumElemQPs
    block = 2
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b928725d-8aa4-4ab5-a79a-1145d7017b62"><div class="modal-content"><h4>modules/phase_field/test/tests/misc/equal_gradient_lagrange.i</h4><pre class="moose-pre"><code class="language-text">#
# This test demonstrates an InterfaceKernel set that can enforce the componentwise
# continuity of the gradient of a variable using the Lagrange multiplier method.
#

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 20
    ny = 10
    ymax = 0.5
  []
  [./box1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.51 1 0&#x27;
    input = gen
  [../]
  [./box2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.49 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = box1
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = box2
  [../]
[]

[Variables]
  [./u2]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v2]
    block = 2
    initial_condition = 0.8
  [../]
  [./lambda]
  [../]
[]

[Kernels]
  [./u2_diff]
    type = Diffusion
    variable = u2
    block = 1
  [../]
  [./u2_dt]
    type = TimeDerivative
    variable = u2
    block = 1
  [../]
  [./v2_diff]
    type = Diffusion
    variable = v2
    block = 2
  [../]
  [./v2_dt]
    type = TimeDerivative
    variable = v2
    block = 2
  [../]
  [./lambda]
    type = NullKernel
    variable = lambda
  [../]
[]

[InterfaceKernels]
  [./iface]
    type = InterfaceDiffusionBoundaryTerm
    boundary = 10
    variable = u2
    neighbor_var = v2
  [../]
  [./lambda]
    type = EqualGradientLagrangeMultiplier
    variable = lambda
    boundary = 10
    element_var = u2
    neighbor_var = v2
    component = 0
  [../]
  [./constraint]
    type = EqualGradientLagrangeInterface
    boundary = 10
    lambda = lambda
    variable = u2
    neighbor_var = v2
    component = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[VectorPostprocessors]
  [./uv]
    type = LineValueSampler
    variable = &#x27;u2 v2&#x27;
    start_point = &#x27;0 0.5 0&#x27;
    end_point = &#x27;1 0.5 0&#x27;
    sort_by = x
    num_points = 100
  [../]
[]

[Executioner]
  type = Transient

  petsc_options_iname = &#x27;-pctype -sub_pc_type -sub_pc_factor_shift_type -pc_factor_shift_type&#x27;
  petsc_options_value = &#x27; asm    lu          nonzero                    nonzero&#x27;

  dt = 0.002
  num_steps = 10
[]

[Outputs]
  exodus = true
  csv = true
  hide = lambda
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="78a4c7c6-dcfc-494d-8a72-54352c601109"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/action/two_coord.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 16
    ny = 8
    xmin = -1
    xmax = 1
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-1 0 0&#x27;
    top_right = &#x27;0 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[Problem]
  coord_type = &#x27;XYZ RZ&#x27;
  block      = &#x27;1   2&#x27;
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  active = &#x27;block1 block2&#x27;
  [./error]
    strain = SMALL
    add_variables = true
  [../]
  [./block1]
    strain = SMALL
    add_variables = true
    block = 1
  [../]
  [./block2]
    strain = SMALL
    add_variables = true
    block = 2
  [../]
[]

[AuxVariables]
  [./vmstress]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./vmstress]
    type = RankTwoScalarAux
    rank_two_tensor = total_strain
    variable = vmstress
    scalar_type = VonMisesStress
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress]
    type = ComputeLinearElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[BCs]
  [./topx]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./topy]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./bottomx]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./bottomy]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.05
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1bd59f18-83c9-4bbd-9fcd-4296d2ffed18"><div class="modal-content"><h4>test/tests/tag/tag_interface_kernels.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    input = subdomain1
    type = BreakBoundaryOnSubdomainGenerator
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = break_boundary
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1 vec_tag2&#x27;
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1 vec_tag2&#x27;
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 back_to_0 right top front&#x27;
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1 back_to_1&#x27;
    extra_matrix_tags = &#x27;mat_tag1 mat_tag2&#x27;
    extra_vector_tags = &#x27;vec_tag1&#x27;
  [../]
[]

[AuxVariables]
  [./tag_variable1]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./tag_variable2]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[AuxKernels]
  [./TagVectorAux1]
    type = TagVectorAux
    variable = tag_variable1
    v = u
    block = 0
    vector_tag = vec_tag2
    execute_on = timestep_end
  [../]

  [./TagVectorAux2]
    type = TagMatrixAux
    variable = tag_variable2
    v = v
    block = 1
    matrix_tag = mat_tag2
    execute_on = timestep_end
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Problem]
  type = TagTestProblem
  test_tag_vectors =  &#x27;nontime residual vec_tag1 vec_tag2&#x27;
  test_tag_matrices = &#x27;mat_tag1 mat_tag2&#x27;

  extra_tag_matrices = &#x27;mat_tag1 mat_tag2&#x27;
  extra_tag_vectors  = &#x27;vec_tag1 vec_tag2&#x27;
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="26adebbc-84a9-4f45-8aa4-54361a8e9d72"><div class="modal-content"><h4>test/tests/postprocessors/nodal_sum/nodal_sum_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./left]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 100
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Postprocessors]
  [./nodal_sum]
    type = NodalSum
    variable = u
    execute_on = &#x27;initial timestep_end&#x27;
    block = &#x27;0 100&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="caa2ac1c-4934-4a6e-a3cb-b200ae76e393"><div class="modal-content"><h4>test/tests/postprocessors/interface_value/interface_integral_variable_value_postprocessor.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 6
    xmax = 3
    ny = 9
    ymax = 3
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;2 1 0&#x27;
    block_id = 1
    [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain_id
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;interface&#x27;
  [../]
[]

[Functions]
  [./fn_exact]
    type = ParsedFunction
    value = &#x27;x*x+y*y&#x27;
  [../]

  [./ffn]
    type = ParsedFunction
    value = -4
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE
    order = FIRST
  [../]
[]


[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]

  [./ffn]
    type = BodyForce
    variable = u
    function = ffn
  [../]
[]

[BCs]
  [./all]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;0 1 2 3&#x27;
    function = fn_exact
  [../]
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 5
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
  [../]
[]

[AuxKernels]
  [./diffusivity_1]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_1
  []
  [./diffusivity_2]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_2
  []
[]

[AuxVariables]
  [./diffusivity_1]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_2]
    family = MONOMIAL
    order = CONSTANT
  []
[]



[Postprocessors]
  [./diffusivity_average]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = average
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_primary_secondary]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = jump_primary_minus_secondary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_secondary_primary]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = jump_secondary_minus_primary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_jump_abs]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = jump_abs
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_primary]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = primary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
  [./diffusivity_secondary]
    type = InterfaceIntegralVariableValuePostprocessor
    interface_value_type = secondary
    variable = diffusivity_1
    neighbor_variable = diffusivity_2
    execute_on = TIMESTEP_END
    boundary = &#x27;interface&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bbe2742f-2dcf-4121-beea-28e33dfc49e0"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_abbo.i</h4><pre class="moose-pre"><code class="language-text"># Uses an Abbo et al smoothed version of Mohr-Coulomb (via TensorMechanicsPlasticMohrCoulomb and ComputeMultiPlasticityStress) to simulate the following problem.
# A cubical block is notched around its equator.
# All of its outer surfaces have roller BCs, but the notched region is free to move as needed
# The block is initialised with a high hydrostatic tensile stress
# Without the notch, the BCs do not allow contraction of the block, and this stress configuration is admissible
# With the notch, however, the interior parts of the block are free to move in order to relieve stress, and this causes plastic failure
# The top surface is then pulled upwards (the bottom is fixed because of the roller BCs)
# This causes more failure
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 9
    ny = 9
    nz = 9
    xmin = 0
    xmax = 0.1
    ymin = 0
    ymax = 0.1
    zmin = 0
    zmax = 0.1
  []
  [block_to_remove_xmin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.01 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = generated_mesh
  []
  [block_to_remove_xmax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.09 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmin
  []
  [block_to_remove_ymin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.01 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmax
  []
  [block_to_remove_ymax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 0.09 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_ymin
  []
  [remove_block]
    type = BlockDeletionGenerator
    block_id = 1
    input = block_to_remove_ymax
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    incremental = true
    generate_output = &#x27;max_principal_stress mid_principal_stress min_principal_stress stress_zz&#x27;
    eigenstrain_names = ini_stress
  [../]
[]

[Postprocessors]
  [./uz]
    type = PointValue
    point = &#x27;0 0 0.1&#x27;
    use_displaced_mesh = false
    variable = disp_z
  [../]
  [./s_zz]
    type = ElementAverageValue
    use_displaced_mesh = false
    variable = stress_zz
  [../]
  [./num_res]
    type = NumResidualEvaluations
  [../]
  [./nr_its] # num_iters is the average number of NR iterations encountered per element in this timestep
    type = ElementAverageValue
    variable = num_iters
  [../]
  [./max_nr_its] # num_iters is the average number of NR iterations encountered in the element in this timestep, so we must get max(max_nr_its) to obtain the max number of iterations
    type = ElementExtremeValue
    variable = num_iters
  [../]
  [./runtime]
    type = PerfGraphData
    data_type = TOTAL
    section_name = &#x27;Root&#x27;
  [../]
[]

[BCs]
  # back=zmin, front=zmax, bottom=ymin, top=ymax, left=xmin, right=xmax
  [./xmin_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./xmax_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.0
  [../]
  [./ymin_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./ymax_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = top
    value = 0.0
  [../]
  [./zmin_zzero]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = &#x27;0&#x27;
  [../]
  [./zmax_disp]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = front
    function = &#x27;1E-6*max(t,0)&#x27;
  [../]
[]

[AuxVariables]
  [./mc_int]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./yield_fcn]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./mc_int_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_internal_parameter
    variable = mc_int
  [../]
  [./num_iters_auxk]
    type = MaterialRealAux
    property = plastic_NR_iterations
    variable = num_iters
  [../]
  [./yield_fcn_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_yield_function
    variable = yield_fcn
  [../]
[]

[UserObjects]
  [./mc_coh]
    type = TensorMechanicsHardeningConstant
    value = 5E6
  [../]
  [./mc_phi]
    type = TensorMechanicsHardeningConstant
    value = 35
    convert_to_radians = true
  [../]
  [./mc_psi]
    type = TensorMechanicsHardeningConstant
    value = 10
    convert_to_radians = true
  [../]
  [./mc]
    type = TensorMechanicsPlasticMohrCoulomb
    cohesion = mc_coh
    friction_angle = mc_phi
    dilation_angle = mc_psi
    mc_tip_smoother = 0.02E6
    mc_edge_smoother = 29
    yield_function_tolerance = 1E-5
    internal_constraint_tolerance = 1E-11
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 16E9
    poissons_ratio = 0.25
  [../]
  [./mc]
    type = ComputeMultiPlasticityStress
    ep_plastic_tolerance = 1E-11
    plastic_models = mc
    max_NR_iterations = 1000
    debug_fspb = crash
  [../]
  [./strain_from_initial_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;6E6 0 0  0 6E6 0  0 0 6E6&#x27;
    eigenstrain_name = ini_stress
  [../]
[]

[Preconditioning]
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  start_time = -1
  end_time = 10
  dt = 1
  solve_type = NEWTON
  type = Transient

  l_tol = 1E-2
  nl_abs_tol = 1E-5
  nl_rel_tol = 1E-7
  l_max_its = 200
  nl_max_its = 400

  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;
[]


[Outputs]
  file_base = biaxial_abbo
  perf_graph = true
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4e466e2b-82e4-4172-8bf3-5defdc13bede"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_wp_only.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a transverse section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 300m deep
# and just the roof is studied (0&lt;=z&lt;=300).  The model sits
# between 0&lt;=y&lt;=450.  The excavation sits in 0&lt;=y&lt;=150.  This
# is a &quot;half model&quot;: the boundary conditions are such that
# the model simulates an excavation sitting in -150&lt;=y&lt;=150
# inside a model of the region -450&lt;=y&lt;=450.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).  Mining is simulated by moving the excavation&#x27;s
# roof down, until disp_z=-3 at t=1.
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=0 and y=450
#  - disp_z = 0 for y&gt;150
#  - disp_z = -3 at maximum, for 0&lt;=y&lt;=150.  See excav function.
# That is, rollers on the sides, free at top, and prescribed at bottom.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Below you will see Drucker-Prager parameters and AuxVariables, etc.
# These are not actally used in this example.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# Weak-plane cohesion = 0.1 MPa
# Weak-plane friction angle = 20 deg
# Weak-plane dilation angle = 10 deg
# Weak-plane tensile strength = 0.1 MPa
# Weak-plane compressive strength = 100 MPa, varying down to 1 MPa when tensile strain = 1
#
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 400
    bias_z = 1.1
    ny = 30 # make this a multiple of 3, so y=150 is at a node
    ymin = 0
    ymax = 450
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 150 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsBetweenSubdomainsGenerator
    new_boundary = 21
    primary_block = 0
    paired_block = 1
    input = excav
  []
  [hole]
    type = BlockDeletionGenerator
    block_id = 1
    input = roof
  []
[]

[GlobalParams]
  block = 0
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./dp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = dp_plastic_internal_parameter
    variable = dp_shear
  [../]
  [./dp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = dp_plastic_internal_parameter
    variable = dp_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./dp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = dp_plastic_yield_function
    variable = dp_shear_f
  [../]
  [./dp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = dp_plastic_yield_function
    variable = dp_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12 16 21&#x27; # note addition of 16 and 21
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./roof]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = 21
    function = excav_sideways
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(400-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(400-z)&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*max(min((t/end_t*(ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
  [./excav_downwards]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*t/end_t*max(min(((ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
[]

[UserObjects]
  [./dp_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.9 # MPa
    value_residual = 3.1 # MPa
    rate = 1.0
  [../]
  [./dp_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./dp_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.65
  [../]

  [./dp_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.4 # MPa
    rate = 1.0
  [../]
  [./dp_compressive_str]
    type = TensorMechanicsHardeningConstant
    value = 1.0E3 # Large!
  [../]

  [./drucker_prager_model]
    type = TensorMechanicsPlasticDruckerPrager
    mc_cohesion = dp_coh_strong_harden
    mc_friction_angle = dp_fric
    mc_dilation_angle = dp_dil
    internal_constraint_tolerance = 1 # irrelevant here
    yield_function_tolerance = 1      # irrelevant here
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1.0
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeLayeredCosseratElasticityTensor
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3
  [../]

  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
    eigenstrain_name = ini_stress
  [../]

  [./stress]
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = &#x27;wp&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./dp]
    type = CappedDruckerPragerCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = dp
    DP_model = drucker_prager_model
    tensile_strength = dp_tensile_str_strong_harden
    compressive_strength = dp_compressive_str
    max_NR_iterations = 100000
    tip_smoother = 0.1E1
    smoothing_tol = 0.1E1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density]
    type = GenericConstantMaterial
    prop_names = density
    prop_values = 2500
  [../]
[]

[Postprocessors]
  [./subsidence]
    type = PointValue
    point = &#x27;0 0 400&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]
[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.2
  end_time = 0.2

[]

[Outputs]
  file_base = cosserat_wp_only
  interval = 1
  print_linear_residuals = false
  csv = true
  exodus = true
  [./console]
    type = Console
    output_linear = false
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48820396-8d64-4b3f-a5ca-51f68111cbf2"><div class="modal-content"><h4>modules/heat_conduction/test/tests/heat_conduction/min_gap/min_gap.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = MeshGeneratorMesh
  displacements = &#x27;disp_x disp_y&#x27;
  [./left_gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 3
    xmin = -3
    xmax = 0
    ymin = -5
    ymax = 5
  [../]
  [./right_gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 3
    xmin = 3
    xmax = 6
    ymin = -5
    ymax = 5
  [../]

  [./left_and_right]
    type = MeshCollectionGenerator
    inputs = &#x27;left_gen right_gen&#x27;
  [../]
  [./leftleft]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = leftleft
    normal = &#x27;-1 0 0&#x27;
    input = left_and_right
  [../]
  [./leftright]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = leftright
    normal = &#x27;1 0 0&#x27;
    input = leftleft
  [../]

  [./right]
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;6 5 0&#x27;
    bottom_left = &#x27;3 -5 0&#x27;
    block_id = 1
    input = leftright
  [../]

  [./rightleft]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = rightleft
    normal = &#x27;-1 0 0&#x27;
    input = right
  [../]
  [./rightright]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = rightright
    normal = &#x27;1 0 0&#x27;
    input = rightleft
  [../]
[]

[Variables]
  [./temp]
  [../]
[]

[AuxVariables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./gap_conductance]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Functions]
  [./disp_x]
    type = ParsedFunction
    value = -3+t
  [../]
  [./left_temp]
    type = ParsedFunction
    value = 1000+t
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
  [../]
[]

[AuxKernels]
  [./disp_x]
    type = FunctionAux
    block = 1
    variable = disp_x
    function = disp_x
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./gap_conductivity]
    type = MaterialRealAux
    boundary = leftright
    property = gap_conductance
    variable = gap_conductance
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
[]

[BCs]
  [./left]
    type = FunctionDirichletBC
    variable = temp
    boundary = leftleft
    function = left_temp
  [../]
  [./right]
    type = DirichletBC
    variable = temp
    boundary = rightright
    value = 400
  [../]
[]

[ThermalContact]
  [./left_to_right]
    secondary = leftright
    quadrature = true
    primary = rightleft
    variable = temp
    min_gap = 1
    min_gap_order = 1
    emissivity_primary = 0
    emissivity_secondary = 0
    type = GapHeatTransfer
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;0 1&#x27;
    specific_heat = 1
    thermal_conductivity = 1
    use_displaced_mesh = true
  [../]
[]

[Postprocessors]
  [./gap_conductance]
    type = PointValue
    point = &#x27;0 0 0&#x27;
    variable = gap_conductance
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.25
  end_time = 3.0
  solve_type = &#x27;PJFNK&#x27;
[]

[Outputs]
  csv = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7e628865-3e57-4de8-a207-5b1e285c9d35"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/ik_save_in_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 2
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./interface_again]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]
  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1&#x27;
  [../]
[]

[AuxVariables]
  [./primary_resid]
  [../]
  [./secondary_resid]
  [../]
  [./primary_jac]
  [../]
  [./secondary_jac]
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
    save_in = &#x27;primary_resid&#x27;
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
    save_in = &#x27;secondary_resid&#x27;
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    D = 4
    D_neighbor = 2
    save_in_var_side = &#x27;m s&#x27;
    save_in = &#x27;primary_resid secondary_resid&#x27;
    diag_save_in_var_side = &#x27;m s&#x27;
    diag_save_in = &#x27;primary_jac secondary_jac&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 0
    save_in = &#x27;primary_resid&#x27;
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 1
    save_in = &#x27;secondary_resid&#x27;
  [../]
  [./middle]
    type = MatchedValueBC
    variable = v
    boundary = &#x27;primary0_interface&#x27;
    v = u
    save_in = &#x27;secondary_resid&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1f5c64aa-f096-40fa-a63b-ec2dd1b2ade7"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_elastic.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a transverse section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 400m deep
# and just the roof is studied (0&lt;=z&lt;=400).  The model sits
# between 0&lt;=y&lt;=450.  The excavation sits in 0&lt;=y&lt;=150.  This
# is a &quot;half model&quot;: the boundary conditions are such that
# the model simulates an excavation sitting in -150&lt;=y&lt;=150
# inside a model of the region -450&lt;=y&lt;=450.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this elastic simulation are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=0 and y=450
#  - disp_z = 0 for y&gt;150
#  - wc_x = 0 at y=0 and y=450.
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# This is an elastic simulation, but the weak-plane and Drucker-Prager
# parameters and AuxVariables may be found below.  They are irrelevant
# in this simulation.  The weak-plane and Drucker-Prager cohesions,
# tensile strengths and compressive strengths have been set very high
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
#
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 403.003
    bias_z = 1.1
    ny = 30 # make this a multiple of 3, so y=150 is at a node
    ymin = 0
    ymax = 450
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 150 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsBetweenSubdomainsGenerator
    new_boundary = 21
    primary_block = 0
    paired_block = 1
    input = excav
  []
  [hole]
    type = BlockDeletionGenerator
    block_id = 1
    input = roof
  []
[]

[GlobalParams]
  block = 0
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./dp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./dp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = dp_plastic_internal_parameter
    variable = dp_shear
  [../]
  [./dp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = dp_plastic_internal_parameter
    variable = dp_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./dp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = dp_plastic_yield_function
    variable = dp_shear_f
  [../]
  [./dp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = dp_plastic_yield_function
    variable = dp_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(403.003-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(403.003-z)&#x27;
  [../]
[]

[UserObjects]
  [./dp_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.9 # MPa
    value_residual = 3.1 # MPa
    rate = 1.0
  [../]
  [./dp_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./dp_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.65
  [../]

  [./dp_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.4 # MPa
    rate = 1.0
  [../]
  [./dp_compressive_str]
    type = TensorMechanicsHardeningConstant
    value = 1.0E3 # Large!
  [../]

  [./drucker_prager_model]
    type = TensorMechanicsPlasticDruckerPrager
    mc_cohesion = dp_coh_strong_harden
    mc_friction_angle = dp_fric
    mc_dilation_angle = dp_dil
    internal_constraint_tolerance = 1 # irrelevant here
    yield_function_tolerance = 1      # irrelevant here
  [../]

  [./wp_coh]
    type = TensorMechanicsHardeningConstant
    value = 1E12
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str]
    type = TensorMechanicsHardeningConstant
    value = 1E12
  [../]
  [./wp_compressive_str]
    type = TensorMechanicsHardeningConstant
    value = 1E12
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeLayeredCosseratElasticityTensor
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
    eigenstrain_name = ini_stress
  [../]

  [./stress]
    # this is needed so as to correctly apply the initial stress
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./dp]
    type = CappedDruckerPragerCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = dp
    DP_model = drucker_prager_model
    tensile_strength = dp_tensile_str_strong_harden
    compressive_strength = dp_compressive_str
    max_NR_iterations = 100000
    tip_smoother = 0.1E1
    smoothing_tol = 0.1E1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str
    compressive_strength = wp_compressive_str
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density]
    type = GenericConstantMaterial
    prop_names = density
    prop_values = 2500
  [../]
[]

[Postprocessors]
  [./subs_max]
    type = PointValue
    point = &#x27;0 0 403.003&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;Linear&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 1.0
  end_time = 1.0

[]

[Outputs]
  file_base = cosserat_elastic
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
  #[./console]
  #  type = Console
  #  output_linear = false
  #[../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="497f69d7-ccf8-4b9b-bf2c-901235dd04a7"><div class="modal-content"><h4>modules/porous_flow/test/tests/actions/block_restricted_materials.i</h4><pre class="moose-pre"><code class="language-text"># Tests that the actions to automatically add PorousFlowJoiner&#x27;s and the correct
# qp or nodal version of each material work as expected when a material is block
# restricted. Tests both phase dependent properties (like relative permeability)
# as well as phase-independent materials (like porosity)

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    ny = 2
  []
  [./subdomain0]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 0
  [../]
  [./subdomain1]
    input = subdomain0
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0.5 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./p0]
    initial_condition = 1
  [../]
  [./p1]
    initial_condition = 1.1
  [../]
[]

[AuxVariables]
  [./porosity]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./kl]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./kg]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
  [../]
  [./kl]
    type = PorousFlowPropertyAux
    property = relperm
    variable = kl
    phase = 0
  [../]
  [./kg]
    type = PorousFlowPropertyAux
    property = relperm
    variable = kg
    phase = 1
  [../]
[]

[Kernels]
  [./p0]
    type = PorousFlowMassTimeDerivative
    variable = p0
  [../]
  [./p1]
    type = PorousFlowAdvectiveFlux
    gravity = &#x27;0 0 0&#x27;
    variable = p1
  [../]
[]

[Modules]
  [./FluidProperties]
    [./fluid0]
      type = SimpleFluidProperties
    [../]
    [./fluid1]
      type = SimpleFluidProperties
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./ppss]
    type = PorousFlow2PhasePP
    phase0_porepressure = p0
    phase1_porepressure = p1
    capillary_pressure = pc
  [../]
  [./krl0]
    type = PorousFlowRelativePermeabilityConst
    kr = 0.7
    phase = 0
    block = 0
  [../]
  [./krg0]
    type = PorousFlowRelativePermeabilityConst
    kr = 0.8
    phase = 1
    block = 0
  [../]
  [./krl1]
    type = PorousFlowRelativePermeabilityConst
    kr = 0.5
    phase = 0
    block = 1
  [../]
  [./krg1]
    type = PorousFlowRelativePermeabilityConst
    kr = 0.4
    phase = 1
    block = 1
  [../]
  [./perm]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1 0 0 0 1 0 0 0 1&#x27;
  [../]
  [./fluid0]
    type = PorousFlowSingleComponentFluid
    fp = fluid0
    phase = 0
  [../]
  [./fluid1]
    type = PorousFlowSingleComponentFluid
    fp = fluid1
    phase = 1
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./porosity0]
    type = PorousFlowPorosityConst
    porosity = 0.1
    block = 0
  [../]
  [./porosity1]
    type = PorousFlowPorosityConst
    porosity = 0.2
    block = 1
  [../]
[]


[Executioner]
  type = Transient
  end_time = 1
  nl_abs_tol = 1e-10
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;p0 p1&#x27;
    number_fluid_phases = 2
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureConst
    pc = 0
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ab896ff8-daeb-4482-a474-42398a93d436"><div class="modal-content"><h4>test/tests/materials/get_material_property_names/get_material_property_any_block_id.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [./add_subdomain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;1 1 0&#x27;
    bottom_left = &#x27;0 0.5 0&#x27;
    block_id = 100
    block_name = &#x27;top&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./block]
    type = GenericConstantMaterial
    prop_names = block_prop
    block = ANY_BLOCK_ID
    prop_values = 12345
  [../]
[]

[UserObjects]
  [./get_material_block_names_test]
    type = GetMaterialPropertyBoundaryBlockNamesTest
    expected_names = &#x27;ANY_BLOCK_ID&#x27;
    property_name = &#x27;block_prop&#x27;
    test_type = &#x27;block&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2e8b9102-2f55-4891-8e0c-e463cba74ebe"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/coupled_value_coupled_flux_with_jump_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
    input = gen
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]


  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1&#x27;
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
[]

[InterfaceKernels]
  [./penalty_interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
    jump_prop_name = jump
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 0
  [../]
[]

[Materials]
    [./jump]
      type = JumpInterfaceMaterial
      var = u
      neighbor_var = v
      boundary = primary0_interface
    [../]
  [./stateful]
    type = StatefulMaterial
    initial_diffusivity = 1
    boundary = primary0_interface
  [../]
  [./block0]
    type = GenericConstantMaterial
    block = &#x27;0&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;4&#x27;
  [../]
  [./block1]
    type = GenericConstantMaterial
    block = &#x27;1&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;2&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="60e06868-3fc1-47ba-842d-d4c0cf16947e"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]

  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain_id
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;interface&#x27;
  [../]

[]

[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[InterfaceKernels]
  [tied]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    jump_prop_name = &quot;average_jump&quot;
    penalty = 1e6
    boundary = &#x27;interface&#x27;
  []
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ca734bf2-1dd4-4c5a-8505-ba184ea5ebdc"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test8.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmin = 0
    xmax = 5
    ymin = 0
    ymax = 5
  []

  [./SubdomainBoundingBox1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;4 4 1&#x27;
  [../]
  [./interior_nodeset]
    type = GenerateBoundingBoxNodeSet
    input = SubdomainBoundingBox1
    new_boundary = interior_ns
    bottom_left = &#x27;2 2 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = interior_nodeset
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8ab405d6-e574-4d44-96f2-63d046b9874c"><div class="modal-content"><h4>test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux_with_jump_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
    input = gen
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
    jump_prop_name = jump
  [../]
[]

[Materials]
  [./jump]
    type = JumpInterfaceMaterial
    var = u
    neighbor_var = v
    boundary = primary0_interface
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e7eb9cae-19ef-4665-bbbd-39343a82f479"><div class="modal-content"><h4>test/tests/vectorpostprocessors/element_id_counters/element_counter_block_restricted.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    extra_element_integers = foo_id
  []

  [id0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
    top_right = &#x27;1 1 0&#x27;
    integer_name = foo_id
  []

  [id1]
    type = SubdomainBoundingBoxGenerator
    input = id0
    bottom_left = &#x27;0.4 0.4 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    integer_name = foo_id
  []

  [id2]
    type = SubdomainBoundingBoxGenerator
    input = id1
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 2
    top_right = &#x27;0.6 0.6 0&#x27;
    integer_name = foo_id
  []
  [subdomain]
    type = SubdomainBoundingBoxGenerator
    input = id2
    bottom_left = &#x27;0 0.5 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  []
[]

[VectorPostprocessors]
  [elem_counter0]
    type = ElementCounterWithID
    id_name = foo_id
    block = 0
  []
  [elem_counter1]
    type = ElementCounterWithID
    id_name = foo_id
    block = 1
  []
  [elem_counter]
    type = ElementCounterWithID
    id_name = subdomain_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = &#x27;timestep_end&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8f392d4f-2cb1-45e6-8406-5d7b6462af63"><div class="modal-content"><h4>test/tests/functions/image_function/flip_quad.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  uniform_refine = 1
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 20
    ny = 20
    xmax = 2
    ymax = 2
  []
  # Define block IDs for the four quadrants in CCW order:
  # 1=top_right
  # 2=top_left
  # 3=bottom_left
  # 4=bottom_right
  [top_right_modifier]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;2 2 0&#x27;
    bottom_left = &#x27;1 1 0&#x27;
    block_id = 1
  []
  [top_left_modifier]
    input = top_right_modifier
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;1 2 0&#x27;
    bottom_left = &#x27;0 1 0&#x27;
    block_id = 2
  []
  [bottom_left_modifier]
    input = top_left_modifier
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;1 1 0&#x27;
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 3
  []
  [bottom_right_modifier]
    input = bottom_left_modifier
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;2 1 0&#x27;
    bottom_left = &#x27;1 0 0&#x27;
    block_id = 4
  []
[]

[Variables]
  [u]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[Functions]
  [bottom_left_func]
    type = ImageFunction
    file_base = stack/test
    flip_x = true
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    file_suffix = png
    origin = &#x27;0 0 0&#x27;
    dimensions = &#x27;1 1 0&#x27;
  []
  [top_left_func]
    type = ImageFunction
    file_base = stack/test
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    file_suffix = png
    origin = &#x27;0 1 0&#x27;
    dimensions = &#x27;1 1 0&#x27;
    flip_x = true
    flip_y = true
  []
  [top_right_func]
    type = ImageFunction
    origin = &#x27;1 1 0&#x27;
    file_base = stack/test
    file_suffix = png
    flip_y = true
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    dimensions = &#x27;1 1 0&#x27;
  []
  [bottom_right_func]
    type = ImageFunction
    origin = &#x27;1 0 0&#x27;
    file_base = stack/test
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    file_suffix = png
    dimensions = &#x27;1 1 0&#x27;
  []
[]

[ICs]
  # Defined the same way as the MeshGenerators
  [top_right_ic]
    function = top_right_func
    variable = u
    type = FunctionIC
    block = 1
  []
  [top_left_ic]
    function = top_left_func
    variable = u
    type = FunctionIC
    block = 2
  []
  [bottom_left_ic]
    function = bottom_left_func
    variable = u
    type = FunctionIC
    block = 3
  []
  [bottom_right_ic]
    function = bottom_right_func
    variable = u
    type = FunctionIC
    block = 4
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b33076e7-3814-46ca-91b5-c2c8ed9b27e2"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_action/two_coord.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 16
    ny = 8
    xmin = -1
    xmax = 1
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-1 0 0&#x27;
    top_right = &#x27;0 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[Problem]
  coord_type = &#x27;XYZ RZ&#x27;
  block      = &#x27;1   2&#x27;
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  active = &#x27;block1 block2&#x27;
  [./error]
    strain = SMALL
    add_variables = true
  [../]
  [./block1]
    strain = SMALL
    add_variables = true
    block = 1
    use_automatic_differentiation = true
  [../]
  [./block2]
    strain = SMALL
    add_variables = true
    block = 2
    use_automatic_differentiation = true
  [../]
[]

[AuxVariables]
  [./vmstress]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./vmstress]
    type = ADRankTwoScalarAux
    rank_two_tensor = total_strain
    variable = vmstress
    scalar_type = VonMisesStress
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress]
    type = ADComputeLinearElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[BCs]
  [./topx]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./topy]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./bottomx]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./bottomy]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.05
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0cc6cd75-4f5e-4cc6-881d-b871105573b1"><div class="modal-content"><h4>test/tests/meshgenerators/final_generator/final_linear.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  final_generator = subdomain_lower

  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmax = 1
    ymax = 1
    #uniform_refine = 2
  []

  [./subdomain_lower]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.2 0.2 0&#x27;
    block_id = 1
    top_right = &#x27;0.4 0.4 0&#x27;
  []

  # This generator won&#x27;t be executed because of the &quot;final_generator&quot; parameter
  [./scale]
    type = TransformGenerator
    input = subdomain_lower
    transform = SCALE
    vector_value =&#x27;1e2 1e2 1e2&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="fe181dae-c0ab-48fa-ade7-e2cb0a71f302"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test6.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 4
    ny = 4
    nz = 2
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
    zmin = 0
    zmax = 2
  []

  [./SubdomainBoundingBox1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 2 1&#x27;
  [../]
  [./SubdomainBoundingBox2]
    type = SubdomainBoundingBoxGenerator
    input = SubdomainBoundingBox1
    block_id = 1
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./SubdomainBoundingBox3]
    type = SubdomainBoundingBoxGenerator
    input = SubdomainBoundingBox2
    block_id = 1
    bottom_left = &#x27;2 2 1&#x27;
    top_right = &#x27;3 3 2&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = SubdomainBoundingBox3
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="485e4595-48fa-44e6-a58d-abbe1f1c1ef2"><div class="modal-content"><h4>modules/phase_field/examples/interfacekernels/interface_gradient.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 50
    ny = 50
  []
  [./box1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.51 1 0&#x27;
  [../]
  [./box2]
    input = box1
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.49 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  [../]
  [./iface]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = box2
  [../]
  [./rotate]
    type = TransformGenerator
    transform = ROTATE
    vector_value = &#x27;5 0 0&#x27;
    input = iface
  [../]
[]

[GlobalParams]
  order = FIRST
  family = LAGRANGE
[]

[Variables]
  [./u]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v]
    block = 2
    initial_condition = 0.8
  [../]
[]

[Kernels]
  [./u_diff]
    type = Diffusion
    variable = u
    block = 1
  [../]
  [./u_dt]
    type = TimeDerivative
    variable = u
    block = 1
  [../]
  [./v_diff]
    type = Diffusion
    variable = v
    block = 2
  [../]
  [./v_dt]
    type = TimeDerivative
    variable = v
    block = 2
  [../]
[]

[InterfaceKernels]
  [./flux_continuity]
    type = InterfaceDiffusionFluxMatch
    variable = u
    boundary = 10
    neighbor_var = v
  [../]
  [./diffusion_surface_term]
    type = InterfaceDiffusionBoundaryTerm
    boundary = 10
    variable = u
    neighbor_var = v
  [../]
[]

[Executioner]
  type = Transient

  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27;lu       superlu_dist&#x27;

  dt = 0.001
  num_steps = 20
[]

[Outputs]
  [./out]
    type = Exodus
    use_problem_dimension = false
  [../]
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="15f926a3-8531-46bf-942e-e3b6a984aa43"><div class="modal-content"><h4>test/tests/interfacekernels/3d_interface/coupled_value_coupled_flux.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    input = subdomain1
    type = BreakBoundaryOnSubdomainGenerator
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = break_boundary
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 back_to_0 right top front&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1 back_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="04bccc9d-d000-405e-9efa-8ba1f98a2df4"><div class="modal-content"><h4>test/tests/meshgenerators/stack_generator/stack_generator_2d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./layer1]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmax = 10
    ny = 5
    ymax = 5
  []

  [./layer2]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmax = 10
    ny = 5
    ymax = 10
  []

  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmax = 10
    ny = 10
    ymax = 10
  []

  [./bounding_box1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    top_right = &#x27;10 10 0&#x27;
    bottom_left = &#x27;0 7 0&#x27;
    block_id = 1
  []

  [./layer3]
    type = SubdomainBoundingBoxGenerator
    input = bounding_box1
    top_right = &#x27;3 3 0&#x27;
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 2
  []

  [./layer4]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmax = 10
    ny = 2
    ymax = 2
  []

  [./stack_them]
    type = StackGenerator
    inputs = &#x27;layer1 layer2 layer3 layer4&#x27;
    dim = 2
    bottom_height = 3
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="84ed074e-0fba-4ea0-8c87-367783a624e7"><div class="modal-content"><h4>test/tests/meshgenerators/stack_generator/stack_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./layer1]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 10
    xmax = 10
    ny = 10
    ymax = 10
    nz = 3
    zmax = 3
  []

  [./layer2]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 10
    xmax = 10
    ny = 10
    ymax = 10
    nz = 5
    zmax = 5
  []

  [./layer3]
    type = SubdomainBoundingBoxGenerator
    input = layer2
    bottom_left = &#x27;3 3 3&#x27;
    top_right = &#x27;5 5 5&#x27;
    block_id = 2
  []

  [./layer4]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 10
    xmax = 10
    ny = 10
    ymax = 10
    nz = 5
    zmax = 2
  []

  [./stack]
    type = StackGenerator
    dim = 3
    inputs = &#x27;layer1 layer2 layer3 layer4&#x27;
    bottom_height = 4
  []


[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="03e91ddd-17a2-40f7-a736-72b55ba8bfc3"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/sub_power_density.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0.01 # to make sure the meshes don&#x27;t align
    xmax = 0.49 # to make sure the meshes don&#x27;t align
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.2 0.2 0&#x27;
    top_right = &#x27;0.3 0.8 0&#x27;
  []
[]

[Variables]
  [sink]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[Functions]
  [sink_func]
    type = ParsedFunction
    value = &#x27;5e2*x*(0.5-x)+5e1&#x27;
  []
[]

[Kernels]
  [reaction]
    type = Reaction
    variable = sink
  []

  [coupledforce]
    type = BodyForce
    variable = sink
    function = sink_func
  []
[]

[AuxVariables]
  [from_master]
    block = 1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [sink]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = sink
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_master_pp]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = from_master
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c52199df-30b1-4749-8cdd-bbb3ff2302e7"><div class="modal-content"><h4>test/tests/materials/discrete/recompute2.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [left_domain]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  []
[]

[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]
  [./recompute_props]
    type = RecomputeMaterial
    block = 0
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    outputs = all
    output_properties = &#x27;f f_prime p&#x27;
    constant = 3
    compute = false # make this material &quot;discrete&quot;
  [../]

  [./newton]
    type = NewtonMaterial
    block = 0
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = &#x27;recompute_props&#x27;
  [../]


  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;1 0.5     1.2345&#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="933f6023-de47-4781-a4ac-f4093212a8d9"><div class="modal-content"><h4>test/tests/kernels/array_kernels/array_diffusion_reaction_dg.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0.5 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [u]
    order = FIRST
    family = L2_LAGRANGE
    components = 2
  []
[]

[Kernels]
  [diff]
    type = ArrayDiffusion
    variable = u
    diffusion_coefficient = dc
  []
  [reaction]
    type = ArrayReaction
    variable = u
    reaction_coefficient = rc
  []
[]

[DGKernels]
  [dgdiff]
    type = ArrayDGDiffusion
    variable = u
    diff = dc
  []
[]

[BCs]
  [left]
    type = ArrayVacuumBC
    variable = u
    boundary = 1
  []

  [right]
    type = ArrayPenaltyDirichletBC
    variable = u
    boundary = 2
    value = &#x27;1 2&#x27;
    penalty = 4
  []
[]

[Materials]
  [dc0]
    type = GenericConstantArray
    block = 0
    prop_name = dc
    prop_value = &#x27;1 1&#x27;
  []
  [dc1]
    type = GenericConstantArray
    block = 1
    prop_name = dc
    prop_value = &#x27;2 1&#x27;
  []
  [rc]
    type = GenericConstant2DArray
    block = &#x27;0 1&#x27;
    prop_name = rc
    prop_value = &#x27;1 0; -0.1 1&#x27;
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [intu0]
    type = ElementIntegralArrayVariablePostprocessor
    variable = u
    component = 0
  []
  [intu1]
    type = ElementIntegralArrayVariablePostprocessor
    variable = u
    component = 1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6ddfb052-8990-46ab-8ba9-a1dad6013396"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test10.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmin = 0
    xmax = 5
    ymin = 0
    ymax = 5
  []

  [./left]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;2 2 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./right]
    type = SubdomainBoundingBoxGenerator
    input = left
    block_id = 2
    bottom_left = &#x27;3 2 0&#x27;
    top_right = &#x27;4 3 1&#x27;
  [../]
  [./interior_sideset]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    input = right
    new_boundary = interior_ss
  [../]
  [./new_block_number]
    type = SubdomainBoundingBoxGenerator
    block_id = 3
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;4 4 1&#x27;
    input = &#x27;interior_sideset&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 3
    input = &#x27;new_block_number&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b1bd64d3-2a8b-4035-9064-1ed0ac12672b"><div class="modal-content"><h4>modules/phase_field/test/tests/misc/interface_grad.i</h4><pre class="moose-pre"><code class="language-text">#
# Test a gradient continuity interfacekernel
#

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 20
    ny = 10
    ymax = 0.5
  []
  [./box1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.51 1 0&#x27;
    input = gen
  [../]
  [./box2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.49 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = box1
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = box2
  [../]
  [./iface_v]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 2
    paired_block = 1
    new_boundary = 11
    input = iface_u
  [../]
[]

[Variables]
  [./u]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v]
    block = 2
    initial_condition = 0.8
  [../]
[]

[Kernels]
  [./u_diff]
    type = Diffusion
    variable = u
    block = 1
  [../]
  [./u_dt]
    type = TimeDerivative
    variable = u
    block = 1
  [../]
  [./v_diff]
    type = Diffusion
    variable = v
    block = 2
  [../]
  [./v_dt]
    type = TimeDerivative
    variable = v
    block = 2
  [../]
[]

[InterfaceKernels]
  [./iface]
    type = InterfaceDiffusionFluxMatch
    variable = u
    boundary = 10
    neighbor_var = v
  [../]
[]

[BCs]
  [./u_boundary_term]
    type = DiffusionFluxBC
    variable = u
    boundary = 10
  [../]
  [./v_boundary_term]
    type = DiffusionFluxBC
    variable = v
    boundary = 11
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.002
  num_steps = 10
[]

[Outputs]
  exodus = true
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="92377e78-77dd-4b16-a184-1cedba4e8598"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/reaction_1D_transient.i</h4><pre class="moose-pre"><code class="language-text"># Transient-state test for the InterfaceReaction kernel.
#
# Same to steady-state, except the following
#
# Natural BCs are applied (i.e. NewmannBC h=0 at left and right)

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = &#x27;subdomain1&#x27;
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]
  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1&#x27;
  [../]
[]

[Kernels]
  [./diff_u]
    type = MatDiffusion
    diffusivity = D
    variable = u
    block = &#x27;0&#x27;
  [../]
  [./diff_v]
    type = MatDiffusion
    diffusivity = D
    variable = v
    block = &#x27;1&#x27;
  [../]
  [./diff_u_dt]
    type = TimeDerivative
    variable = u
    block = &#x27;0&#x27;
  [../]
  [./diff_v_dt]
    type = TimeDerivative
    variable = v
    block = &#x27;1&#x27;
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    block = &#x27;0&#x27;
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = &#x27;v&#x27;
    boundary = &#x27;primary0_interface&#x27;
    D = D
    D_neighbor = D
  [../]
  [./interface_reaction]
    type = InterfaceReaction
    variable = u
    neighbor_var = &#x27;v&#x27;
    boundary = &#x27;primary0_interface&#x27;
    kf = 1 # Forward reaction rate coefficient
    kb = 2 # Backward reaction rate coefficient
  [../]
[]

[Materials]
  [./block0]
    type = GenericConstantMaterial
    block = &#x27;0&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;4&#x27;
  [../]
  [./block1]
    type = GenericConstantMaterial
    block = &#x27;1&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;2&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="120ee95e-51a0-4d58-9a25-8bd43c987080"><div class="modal-content"><h4>test/tests/interfacekernels/3d_interface/vector_3d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
    elem_type = HEX20
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    type = BreakBoundaryOnSubdomainGenerator
    input = subdomain1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = break_boundary
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = NEDELEC_ONE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = NEDELEC_ONE
    block = 1
  [../]
[]

[Kernels]
  [./curl_u_plus_u]
    type = VectorFEWave
    variable = u
    x_forcing_func = 1
    y_forcing_func = 1
    z_forcing_func = 1
    block = 0
  [../]
  [./curl_v_plus_v]
    type = VectorFEWave
    variable = v
    block = 1
  [../]
[]

[InterfaceKernels]
  [./parallel]
    type = VectorPenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  # Natural condition of VectorFEWave weak form is curl(u) = 0, curl(v) = 0
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d2949a09-bdbd-49ba-857b-241168ee769e"><div class="modal-content"><h4>test/tests/userobjects/layered_average/block_restricted.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    nx = 10
    ny = 10
    dim = 2
  []
  [middle]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    top_right = &#x27;0.6 0.6 0&#x27;
    bottom_left = &#x27;0.4 0.4 0&#x27;
  []
[]
[Variables]
  [u]
  []
[]

[AuxVariables]
  [master_app_var]
    order = CONSTANT
    family = MONOMIAL
    block = &#x27;1&#x27;
  []
[]

[AuxKernels]
  [layered_aux]
    type = SpatialUserObjectAux
    variable = master_app_var
    execute_on = &#x27;timestep_end&#x27;
    user_object = master_uo
    block = &#x27;1&#x27;
  []
[]

[UserObjects]
  [master_uo]
    type = LayeredAverage
    direction = x
    variable = &#x27;u&#x27;
    block = &#x27;1&#x27;
    # Note: &#x27;bounds&#x27; or &#x27;num_layers&#x27; are provided as CLI args
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    value = 100
  []
[]

[Executioner]
  type = Transient
  nl_abs_tol = 1e-10
  nl_rel_tol = 1e-10
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  num_steps = 1
  petsc_options_value = &#x27;hypre boomeramg&#x27;
  l_tol = 1e-8
[]

[Postprocessors]
  [u_avg]
    type = ElementAverageValue
    variable = &#x27;u&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [final_avg]
    type = ElementAverageValue
    variable = &#x27;master_app_var&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    block = &#x27;1&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="148d983b-c75d-40f6-9f42-36fcf871d5ba"><div class="modal-content"><h4>test/tests/userobjects/interface_user_object/interface_userobject_material_value.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./primary0_interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = primary0_interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]


[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 4
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    function = 0.1*t
  [../]
[]

[InterfaceKernels]
  [./primary0_interface]
    type = PenaltyInterfaceDiffusionDot
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = TRUE
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  dt = 0.1
  num_steps = 3
  dtmin = 0.1
  line_search = none
[]

[Outputs]
  exodus = true
[]


[UserObjects]
  [./interface_material_uo]
    type = InterfaceUserObjectTestGetMaterialProperty
    property = &#x27;primary_prop&#x27;
    property_neighbor = &#x27;secondary_prop&#x27;
    property_boundary = &#x27;boundary_prop&#x27;
    property_interface = &#x27;interface_prop&#x27;
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  [../]
[]

[Materials]
  [./mat_primary]
    type = LinearNonLinearIterationMaterial
    block = 0
    prefactor = 1
    prop_name = &#x27;primary_prop&#x27;
  [../]
  [./mat_secondary]
    type = LinearNonLinearIterationMaterial
    block = 1
    prefactor = 2
    prop_name = &#x27;secondary_prop&#x27;
  [../]
  [./mat_boundary]
    type = LinearNonLinearIterationMaterial
    prefactor = 3
    boundary = &#x27;primary0_interface&#x27;
    prop_name = &#x27;boundary_prop&#x27;
  [../]
  [./mat_interface]
    type = LinearNonLinearIterationInterfaceMaterial
    prefactor = 4
    boundary = &#x27;primary0_interface&#x27;
    prop_name = &#x27;interface_prop&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="42b44a91-2c60-4064-8223-da50ce39d1af"><div class="modal-content"><h4>test/tests/materials/discrete/recompute_boundary_error.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./recompute_props]
    type = RecomputeMaterial
    boundary = &#x27;left&#x27;
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    outputs = all
    output_properties = &#x27;f f_prime p&#x27;
  [../]

  [./newton]
    type = NewtonMaterial
    boundary = &#x27;left right&#x27;
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = &#x27;recompute_props&#x27;
  [../]

  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime&#x27;
    prop_values = &#x27;1 0.5    &#x27;
    block = &#x27;10 0&#x27;
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cda57764-6ea6-444c-83ce-54d0d270dc72"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/03.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with heat advection and conduction
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
  [./temperature]
    initial_condition = 293
    scaling = 1E-8
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1E6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 313
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
      thermal_expansion = 0.0002
      cp = 4194
      cv = 4186
      porepressure_coefficient = 0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2E-7
    fluid_bulk_modulus = 1E7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]

  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    biot_coefficient = 0.8
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caps aquifer&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="49b97ccb-274a-492c-8893-2e33bac74ba7"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/00.i</h4><pre class="moose-pre"><code class="language-text"># Creates the mesh for the remainder of the tutorial
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[Variables]
  [./dummy_var]
  [../]
[]
[Kernels]
  [./dummy_diffusion]
    type = Diffusion
    variable = dummy_var
  [../]
[]

[Executioner]
  type = Steady
[]

[Outputs]
  file_base = 3D_mesh
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="20f8765a-b6d5-481e-ae7c-1f504134052d"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/master_nearest_point.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = 1
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[AuxVariables]
  [from_sub]
  []
[]

[VectorPostprocessors]
  [from_nearest_point]
    type = NearestPointIntegralVariablePostprocessor
    variable = power_density
    points = &#x27;0 0.5 0 1 0.5 0&#x27;
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []

  [to_nearest_point]
    type = NearestPointIntegralVariablePostprocessor
    variable = from_sub
    points = &#x27;0 0.5 0 1 0.5 0&#x27;
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    input_files = sub_nearest_point.i
    positions = &#x27;0 0 0 0.5 0 0&#x27;
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = from_master
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # 1 NearestPointIntegralVariablePostprocessor is specified on the master
    # side with N points, where N is the number of subapps
    # 1 pp is specified on the subapp side
    from_postprocessors_to_be_preserved = &#x27;from_nearest_point&#x27;
    to_postprocessors_to_be_preserved = &#x27;from_master_pp&#x27;
  []

  [from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = sink
    variable = from_sub
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # 1 NearestPointIntegralVariablePostprocessor is specified on the master
    # with N points, where N is the number of subapps
    # 1 pp is specified on the subapp side
    to_postprocessors_to_be_preserved = &#x27;to_nearest_point&#x27;
    from_postprocessors_to_be_preserved = &#x27;sink&#x27;
  []
[]

[Outputs]
  csv = true
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="553bc720-e057-442a-b39f-87354f9ac293"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/action/two_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  [./block1]
    strain = FINITE
    add_variables = true
    #block = 1
  [../]
  [./block2]
    strain = SMALL
    add_variables = true
    block = 2
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = RankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = RankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ComputeLinearElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="58075f7c-0c6f-4b69-b052-891f0dd925af"><div class="modal-content"><h4>test/tests/userobjects/interface_user_object/interface_mp_real_user_object_QP.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./primary0_interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = primary0_interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 4
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    function = 0.1*t
  [../]
[]

[InterfaceKernels]
  [./primary0_interface]
    type = PenaltyInterfaceDiffusionDot
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = TRUE
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  dt = 0.1
  num_steps = 3
  dtmin = 0.1
  line_search = none
[]

[Outputs]
  [./out]
    type = Exodus
    sync_only = true
    sync_times = &#x27;0.1 0.2 0.3&#x27;
    execute_on = &#x27;TIMESTEP_END&#x27;
  []
[]

[UserObjects]
  [./interface_value_uo]
    type = InterfaceQpMaterialPropertyRealUO
    property = diffusivity
    property_neighbor = diffusivity
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
  [../]
  [./interface_value_rate_uo]
    type = InterfaceQpMaterialPropertyRealUO
    property = diffusivity
    property_neighbor = diffusivity
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
    value_type = rate
  [../]
  [./interface_value_increment_uo]
    type = InterfaceQpMaterialPropertyRealUO
    property = diffusivity
    property_neighbor = diffusivity
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
    value_type = increment
  [../]
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 5
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
  [../]
[]

[AuxKernels]
  [./interface_avg_value_aux]
    type = InterfaceValueUserObjectAux
    variable = avg
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_value_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
  [./interface_avg_value_rate_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_rate
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_value_rate_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
  [./interface_avg_value_increment_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_increment
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_value_increment_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
[]

[AuxVariables]
  [./avg]
    family = MONOMIAL
    order = CONSTANT
  []
  [./avg_rate]
    family = MONOMIAL
    order = CONSTANT
  []
  [./avg_increment]
    family = MONOMIAL
    order = CONSTANT
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="812c833a-0ff3-4f83-90ed-26450089e854"><div class="modal-content"><h4>test/tests/misc/block_user_object_check/coupled_check.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 5
  [../]
  [./left_block]
    type = SubdomainBoundingBoxGenerator
    input = generator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
  [../]
  [./right_block]
    type = SubdomainBoundingBoxGenerator
    input = left_block
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  [../]
[]

[Variables]
  [./var_0]
  [../]
  [./var_1]
    block = 1
    initial_condition = 100
  [../]
  [./var_2]
    block = 2
    initial_condition = 200
  [../]
[]

[Kernels]
  [./obj]
    type = CoupledConvection
    variable = var_0
    velocity_vector = var_1
    #block = 1 # this is being tested
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = true
  solve = false
[]

[Executioner]
  type = Steady
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b6b90b1b-7c70-4042-a7a7-4f9abb0f6f67"><div class="modal-content"><h4>modules/porous_flow/test/tests/actions/basicthm_hm.i</h4><pre class="moose-pre"><code class="language-text"># PorousFlowBasicTHM action with coupling_type = HydroMechanicalGenerator

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 3
    xmax = 10
    ymax = 3
  []
  [./aquifer]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;10 2 0&#x27;
  [../]
  [./injection_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;injection_area&#x27;
    normal = &#x27;-1 0 0&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./outflow_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;outflow_area&#x27;
    normal = &#x27;1 0 0&#x27;
    input = &#x27;injection_area&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caprock aquifer&#x27;
    input = &#x27;outflow_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
  displacements = &#x27;disp_x disp_y&#x27;
  biot_coefficient = 1.0
[]

[Variables]
  [./porepressure]
    initial_condition = 1e6
  [../]
  [./disp_x]
    scaling = 1e-10
  [../]
  [./disp_y]
    scaling = 1e-10
  [../]
[]

[AuxVariables]
  [./temperature]
    initial_condition = 293
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = HydroMechanical
  gravity = &#x27;0 0 0&#x27;
  fp = simple_fluid
  use_displaced_mesh = false
  add_stress_aux = false
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1.5e6
    boundary = injection_area
  [../]
  [./constant_outflow_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    boundary = outflow_area
    pt_vals = &#x27;0 1e9&#x27;
    multipliers = &#x27;0 1e9&#x27;
    flux_function = 1e-6
    PT_shift = 1e6
  [../]
  [./top_bottom]
    type = DirichletBC
    variable = disp_y
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./right]
    type = DirichletBC
    variable = disp_x
    value = 0
    boundary = right
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    solid_bulk_compliance = 2e-7
    fluid_bulk_modulus = 1e7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1e-13 0 0   0 1e-13 0   0 0 1e-13&#x27;
  [../]
  [./permeability_caprock]
    type = PorousFlowPermeabilityConst
    block = caprock
    permeability = &#x27;1e-15 0 0   0 1e-15 0   0 0 1e-15&#x27;
  [../]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 5e9
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ComputeSmallStrain
  [../]
  [./stress]
    type = ComputeLinearElasticStress
  [../]
[]

[Preconditioning]
  [./basic]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1e4
  dt = 1e3
  nl_abs_tol = 1e-14
  nl_rel_tol = 1e-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e8c8d392-464f-475a-bedb-31c70b05bc56"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test9.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./SubdomainBoundingBox1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;3 4 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = &#x27;SubdomainBoundingBox1&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9a0015ef-7773-4b95-bac5-26187fcac867"><div class="modal-content"><h4>test/tests/quadrature/order/block-order.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 1
    ny = 2
    xmin = 0
    xmax = 1
    ymin = 0
    ymax = 2
  []

  [left]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
  [right]
    type = SubdomainBoundingBoxGenerator
    input = left
    block_id = 2
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;1 2 0&#x27;
  []
[]

[Postprocessors]
  [block1_qps]
    type = NumElemQPs
    block = 1
  []
  [block2_qps]
    type = NumElemQPs
    block = 2
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Steady
  [Quadrature]
    custom_blocks = &#x27;1 2&#x27;
    custom_orders = &#x27;first second&#x27;
  []
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d9592873-1fc0-4cdb-8ec2-fe351773d229"><div class="modal-content"><h4>modules/porous_flow/test/tests/actions/basicthm_th.i</h4><pre class="moose-pre"><code class="language-text"># PorousFlowBasicTHM action with coupling_type = ThermoHydroGenerator
# (no mechanical effects)

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 3
    xmax = 10
    ymax = 3
  []
  [./aquifer]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;10 2 0&#x27;
  [../]
  [./injection_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;injection_area&#x27;
    normal = &#x27;-1 0 0&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./outflow_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;outflow_area&#x27;
    normal = &#x27;1 0 0&#x27;
    input = &#x27;injection_area&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caprock aquifer&#x27;
    input = &#x27;outflow_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
    initial_condition = 1e6
  [../]
  [./temperature]
    initial_condition = 293
    scaling = 1e-6
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydro
  gravity = &#x27;0 0 0&#x27;
  fp = simple_fluid
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1.5e6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 313
    boundary = injection_area
  [../]
  [./constant_outflow_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    boundary = outflow_area
    pt_vals = &#x27;0 1e9&#x27;
    multipliers = &#x27;0 1e9&#x27;
    flux_function = 1e-6
    PT_shift = 1e6
  [../]
  [./constant_outflow_temperature]
    type = DirichletBC
    variable = temperature
    value = 293
    boundary = outflow_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2e-7
    fluid_bulk_modulus = 1e7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1e-13 0 0   0 1e-13 0   0 0 1e-13&#x27;
  [../]
  [./permeability_caprock]
    type = PorousFlowPermeabilityConst
    block = caprock
    permeability = &#x27;1e-15 0 0   0 1e-15 0   0 0 1e-15&#x27;
  [../]
  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    biot_coefficient = 0.8
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caprock aquifer&#x27;
  [../]
[]

[Preconditioning]
  [./basic]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1e4
  dt = 1e3
  nl_abs_tol = 1e-15
  nl_rel_tol = 1e-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="098fc6da-e949-47c3-be16-90af324e8508"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/00_2D.i</h4><pre class="moose-pre"><code class="language-text"># Creates the mesh for the remainder of the tutorial
[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmin = 1.0
    xmax = 10
    bias_x = 1.4
    ny = 3
    ymin = -6
    ymax = 6
  []
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 -2 0&#x27;
    top_right = &#x27;10 2 0&#x27;
    input = gen
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x&lt;1.0001&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[Variables]
  [./dummy_var]
  [../]
[]
[Kernels]
  [./dummy_diffusion]
    type = Diffusion
    variable = dummy_var
  [../]
[]

[Executioner]
  type = Steady
[]

[Outputs]
  file_base = 2D_mesh
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="251ec0c6-fbd1-4f12-bc5f-d96ede66aabd"><div class="modal-content"><h4>test/tests/interfacekernels/ik_displaced/different_jxw_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  displacements = &#x27;disp_x disp_y&#x27;
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 1
    ymax = 1
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    input = subdomain1
    type = BreakMeshByBlockGenerator
  [../]
[]

[AuxVariables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff_u]
    type = Diffusion
    variable = u
    use_displaced_mesh = true
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfacialSource
    variable = u
    neighbor_var = u
    boundary = interface
    use_displaced_mesh = true
  [../]
[]

[BCs]
  [./u]
    type = DirichletBC
    variable = u
    boundary = &#x27;left right&#x27;
    value = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]

[Functions]
  [./disp_x_func]
    type = ParsedFunction
    value = 1
  [../]
  [./disp_y_func]
    type = ParsedFunction
    value = y
  [../]
[]

[ICs]
  [./disp_x_ic]
    block = 0
    function = disp_x_func
    variable = disp_x
    type = FunctionIC
  [../]
  [./disp_y_ic]
    block = 0
    function = disp_y_func
    variable = disp_y
    type = FunctionIC
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="82aa221e-788d-4484-84ea-83c619c3fc8d"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test3.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./SubdomainBoundingBox]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = SubdomainBoundingBox
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4ed35166-c4ff-48c6-ac2a-7456351e4ce5"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test11.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./fmg]
    type = FileMeshGenerator
    file = pyramid.e
  []

  [./sbb2]
    type = SubdomainBoundingBoxGenerator
    input = fmg
    block_id = 2
    bottom_left = &#x27;-0.5 -0.5 -0.5&#x27;
    top_right = &#x27;0.5 0.5 0.5&#x27;
  [../]
  [./swiss_cheese2]
    type = BlockDeletionGenerator
    block_id = 2
    input = &#x27;sbb2&#x27;
  [../]
  [./sbb3]
    type = SubdomainBoundingBoxGenerator
    input = swiss_cheese2
    block_id = 3
    bottom_left = &#x27;-5 -5 -3&#x27;
    top_right = &#x27;-2 -2 -1&#x27;
  [../]
  [./swiss_cheese3]
    type = BlockDeletionGenerator
    block_id = 3
    input = &#x27;sbb3&#x27;
  [../]
  [./sbb4]
    type = SubdomainBoundingBoxGenerator
    input = swiss_cheese3
    block_id = 4
    bottom_left = &#x27;-1 2 -2&#x27;
    top_right = &#x27;1 5 0&#x27;
  [../]
  [./swiss_cheese4]
    type = BlockDeletionGenerator
    block_id = 4
    input = &#x27;sbb4&#x27;
  [../]
  [./sbb5]
    type = OrientedSubdomainBoundingBoxGenerator
    input = swiss_cheese4
    block_id = 5
    center = &#x27;2.4 -1.4 0.4&#x27;
    height = 3
    length = 8
    length_direction = &#x27;-2 1 -1&#x27;
    width = 3
    width_direction = &#x27;1 2 0&#x27;
  [../]
  [./swiss_cheese5]
    type = BlockDeletionGenerator
    block_id = 5
    input = &#x27;sbb5&#x27;
  [../]
  [./sbb6]
    type = OrientedSubdomainBoundingBoxGenerator
    input = swiss_cheese5
    block_id = 6
    center = &#x27;-1 0.4 2.2&#x27;
    height = 1
    length = 8
    length_direction = &#x27;2 -1 -1&#x27;
    width = 1
    width_direction = &#x27;1 2 0&#x27;
  [../]
  [./swiss_cheese6]
    type = BlockDeletionGenerator
    block_id = 6
    input = &#x27;sbb6&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 100
  dt = 100

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ed57f03e-3e5e-468e-936f-e5188cc79d8a"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material_split_mesh.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]
  [./split]
    type = BreakMeshByBlockGenerator
    input = subdomain_id
  [../]
[]



[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[InterfaceKernels]
  [tied]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    jump_prop_name = &quot;average_jump&quot;
    penalty = 1e6
    boundary = &#x27;interface&#x27;
  []
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6dcc7120-026c-4b86-b0e5-77d0269abc79"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/08.i</h4><pre class="moose-pre"><code class="language-text"># Unsaturated Darcy-Richards flow
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    input = annular
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
[]

[PorousFlowUnsaturated]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  relative_permeability_exponent = 3
  relative_permeability_type = Corey
  residual_saturation = 0.1
  van_genuchten_alpha = 1E-6
  van_genuchten_m = 0.6
[]

[BCs]
  [./production]
    type = PorousFlowSink
    variable = porepressure
    fluid_phase = 0
    flux_function = 1E-2
    use_relperm = true
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1625fb7d-8d66-4a08-86a5-8e792ecdc939"><div class="modal-content"><h4>test/tests/interfacekernels/ad_coupled_vector_value/coupled.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 20
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    block = &#x27;0&#x27;
    family = LAGRANGE_VEC
  [../]
  [./v]
    block = &#x27;1&#x27;
    family = LAGRANGE_VEC
  [../]
  [w]
    family = LAGRANGE_VEC
  []
[]

[Kernels]
  [./diff_u]
    type = VectorDiffusion
    variable = u
    block = 0
  [../]
  [./diff_v]
    type = VectorDiffusion
    variable = v
    block = 1
  [../]
  [diff_w]
    type = VectorDiffusion
    variable = w
  []
[]

[InterfaceKernels]
  [./interface]
    type = ADVectorCoupledInterfacialSource
    variable = u
    neighbor_var = v
    var_source = w
    boundary = primary0_interface
    D = 1
    D_neighbor = 1
  [../]
[]

[BCs]
  [./left]
    type = VectorDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    values = &#x27;0 0 0&#x27;
  [../]
  [./right]
    type = VectorDirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    values = &#x27;10 0 0&#x27;
  [../]
  [./middle]
    type = ADVectorMatchedValueBC
    variable = v
    boundary = &#x27;primary0_interface&#x27;
    v = u
  [../]
  [w_left]
    type = VectorDirichletBC
    variable = w
    boundary = &#x27;left&#x27;
    values = &#x27;0 0 0&#x27;
  []
  [w_right]
    type = VectorDirichletBC
    variable = w
    boundary = &#x27;right&#x27;
    values = &#x27;4 0 0&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a1366e3e-d0eb-4bc5-af91-6197134e0a21"><div class="modal-content"><h4>test/tests/meshgenerators/break_boundary_on_subdomain/break_boundary_on_subdomain.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
  []

  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  []

  [./subdomain2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain1
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 1 1&#x27;
    block_id = 2
  []

  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain2
    primary_block = &#x27;1 2&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;interface&#x27;
  []

  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a33cee52-2908-4988-80c1-c8a1dca3d1b7"><div class="modal-content"><h4>test/tests/materials/discrete/recompute_warning.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./recompute_props]
    type = GenericConstantMaterial
    prop_names =  &#x27;f  f_prime&#x27;
    prop_values = &#x27;22 24&#x27;
    block = 0
    compute = true # the default, but should trigger a warning because newton is calling getMaterial on this
  [../]

  [./newton]
    type = NewtonMaterial
    block = 0
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = recompute_props
    max_iterations = 0
  [../]


  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;1 0.5     1.2345&#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="72a24466-7686-4748-8152-b8ee81096b08"><div class="modal-content"><h4>test/tests/kernels/transient_vector_diffusion/transient_vector_diffusion.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  [../]
  [./block1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 -1&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
  [../]
  [./block2]
    type = SubdomainBoundingBoxGenerator
    input = block1
    bottom_left = &#x27;0.33 0.33 -1&#x27;
    top_right = &#x27;0.67 0.67 1&#x27;
    block_id = 2
  [../]
[]

[Variables]
  [./u]
    family = LAGRANGE_VEC
  [../]
[]

[ICs]
  [./u]
    type = VectorConstantIC
    variable = u
    x_value = 1
    y_value = 2
    z_value = 3
    block = 2
  [../]
[]

[Kernels]
  [./diff]
    type = VectorDiffusion
    variable = u
  [../]
  [./time]
    type = VectorTimeDerivative
    variable = u
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 20
  dt = 0.01
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9d6b1cab-3535-4fa8-9fdf-1799b80fb230"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/reaction_1D_steady.i</h4><pre class="moose-pre"><code class="language-text"># Steady-state test for the InterfaceReaction kernel.
#
# Specie M transport from domain 1 (0&lt;=x&lt;=1) to domain 2 (1&lt;x&lt;=2),
# u and v are concentrations in domain 1 and domain 2.
#
# Diffusion in both domains can be described by Ficks law and diffusion
# kernel is applied.
#
# Specie M has different diffusity in different domains, here set as D1=4, D2=2.
#
# Dirichlet boundary conditions are applied, i.e., u(0)=1, v(2)=0
#
# At the interface consider the following
#
# (a) Fluxes are matched from both domains (InterfaceDiffusion kernel)
#
# (b) First-order reaction is R = kf*u - kb*v
#
# Analytical solution is
# u = -0.2*u+1,    0&lt;=u&lt;=1
# v = -0.4*v+0.8,  1&lt;v&lt;=2

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = &#x27;subdomain1&#x27;
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]
  [./v]
    order = FIRST
    family = LAGRANGE
    block = &#x27;1&#x27;
  [../]
[]

[Kernels]
  [./diff_u]
    type = MatDiffusion
    variable = u
    block = &#x27;0&#x27;
    diffusivity = D
  [../]
  [./diff_v]
    type = MatDiffusion
    variable = v
    block = &#x27;1&#x27;
    diffusivity = D
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = &#x27;v&#x27;
    boundary = &#x27;primary0_interface&#x27;
    D = D
    D_neighbor = D
  [../]
  [./interface_reaction]
    type = InterfaceReaction
    variable = u
    neighbor_var = &#x27;v&#x27;
    boundary = &#x27;primary0_interface&#x27;
    kf = 1 # Forward reaction rate coefficient
    kb = 2 # Backward reaction rate coefficient
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    value = 0
  [../]
[]

[Materials]
  [./block0]
    type = GenericConstantMaterial
    block = &#x27;0&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;4&#x27;
  [../]
  [./block1]
    type = GenericConstantMaterial
    block = &#x27;1&#x27;
    prop_names = &#x27;D&#x27;
    prop_values = &#x27;2&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  nl_rel_tol = 1e-10
[]

[Outputs]
  print_linear_residuals = true
  execute_on = &#x27;FINAL&#x27;
  exodus = true
  csv = true
[]

[Debug]
  show_var_residual_norms = true
[]

[Postprocessors]
  [./elemental_error_u]
    type = ElementL2Error
    function = -0.2*x+1
    variable = &#x27;u&#x27;
    block = &#x27;0&#x27;
  [../]
  [./elemental_error_v]
    type = ElementL2Error
    function = -0.4*x+0.8
    variable = &#x27;v&#x27;
    block = &#x27;1&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="85a46c5a-0000-45f8-9f33-21b7a6131cb6"><div class="modal-content"><h4>test/tests/materials/discrete/recompute_no_calc.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./recompute_props]
    type = RecomputeMaterial
    block = &#x27;0&#x27;
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    outputs = all
    output_properties = &#x27;f f_prime p&#x27;
    compute = false
  [../]

  [./newton]
    type = NewtonMaterial
    block = 0
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = recompute_props
    max_iterations = 0
  [../]

  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;1 0.5     1.2345&#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1d53385e-b8a8-41d8-a147-18940bdbfec9"><div class="modal-content"><h4>test/tests/materials/get_material_property_names/get_material_property_block_names.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [./add_subdomain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;1 1 0&#x27;
    bottom_left = &#x27;0 0.5 0&#x27;
    block_id = 100
    block_name = &#x27;top&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./material]
    type = GenericConstantMaterial
    prop_names = combo
    block = 100
    prop_values = 12345
  [../]
  [./top]
    type = GenericConstantMaterial
    prop_names = combo
    block = 0
    prop_values = 99999
  [../]
[]

[UserObjects]
  [./get_material_block_names_test]
    type = GetMaterialPropertyBoundaryBlockNamesTest
    expected_names = &#x27;top 0&#x27;
    property_name = combo
    test_type = &#x27;block&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57134c97-9811-49d1-9d20-17474367aa4c"><div class="modal-content"><h4>test/tests/postprocessors/nodal_sum/nodal_sum.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./left]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 100
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Postprocessors]
  [./nodal_sum]
    type = NodalSum
    variable = u
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c0428f8f-44d9-429e-8990-7a85f7ddc1b6"><div class="modal-content"><h4>test/tests/userobjects/interface_user_object/interface_value_user_object_QP.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./primary0_interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = primary0_interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 4
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    function = 0.1*t
  [../]
[]

[InterfaceKernels]
  [./primary0_interface]
    type = PenaltyInterfaceDiffusionDot
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = TRUE
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  dt = 0.1
  num_steps = 3
  dtmin = 0.1
  line_search = none
[]

[Outputs]
  [./out]
    type = Exodus
    sync_only = true
    sync_times = &#x27;0.1 0.2 0.3&#x27;
    execute_on = &#x27;TIMESTEP_END&#x27;
  []
[]

[UserObjects]
  [./interface_value_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = average
  [../]
  [./interface_primary_minus_secondary_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = jump_primary_minus_secondary
  [../]
  [./interface_secondary_minus_primary_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = jump_secondary_minus_primary
  [../]
  [./interface_absolute_jump_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = jump_abs
  [../]
  [./interface_primary_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = primary
  [../]
  [./interface_secondary_uo]
    type = InterfaceQpValueUserObject
    var = diffusivity_1
    var_neighbor = diffusivity_2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
    interface_value_type = secondary
  [../]
[]


[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 5
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
  [../]
[]

[AuxKernels]
  [./diffusivity_1]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_1
    execute_on = &#x27;INITIAL  NONLINEAR&#x27;
  []
  [./diffusivity_2]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_2
    execute_on = &#x27;INITIAL NONLINEAR&#x27;
  []
  [./interface_avg_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_value_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  []
  [./interface_primary_minus_secondary_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = primary_minus_secondary_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_primary_minus_secondary_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./interface_secondary_minus_primary_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = secondary_minus_primary_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_secondary_minus_primary_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./interface_absolute_jump_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = abs_jump_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_absolute_jump_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./interface_primary_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = primary_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_primary_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./interface_secondary_qp_aux]
    type = InterfaceValueUserObjectAux
    variable = secondary_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_secondary_uo
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]


[]

[AuxVariables]
  [./diffusivity_1]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_2]
    family = MONOMIAL
    order = CONSTANT
  []
  [./avg_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./primary_minus_secondary_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./secondary_minus_primary_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./abs_jump_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./primary_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./secondary_qp]
    family = MONOMIAL
    order = CONSTANT
  []
[]



[Postprocessors]
  [./interface_average_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  avg_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./primary_minus_secondary_qp_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  primary_minus_secondary_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./secondary_minus_primary_qp_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  secondary_minus_primary_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./abs_jump_qp_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  abs_jump_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./primary_qp_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  primary_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
  [./secondary_qp_PP]
    type = SideAverageValue
    boundary = &#x27;primary0_interface&#x27;
    variable =  secondary_qp
    execute_on = &#x27;INITIAL TIMESTEP_END&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c6510109-b94b-474c-bfde-1bab66bae93a"><div class="modal-content"><h4>modules/porous_flow/test/tests/actions/basicthm_h.i</h4><pre class="moose-pre"><code class="language-text"># PorousFlowBasicTHM action with coupling_type = HydroGenerator
# (no thermal or mechanical effects)

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 3
    xmax = 10
    ymax = 3
  []
  [./aquifer]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;10 2 0&#x27;
  [../]
  [./injection_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;injection_area&#x27;
    normal = &#x27;-1 0 0&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./outflow_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;outflow_area&#x27;
    normal = &#x27;1 0 0&#x27;
    input = &#x27;injection_area&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caprock aquifer&#x27;
    input = &#x27;outflow_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
    initial_condition = 1e6
  [../]
[]

[AuxVariables]
  [./temperature]
    initial_condition = 293
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = simple_fluid
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1.5e6
    boundary = injection_area
  [../]
  [./constant_outflow_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    boundary = outflow_area
    pt_vals = &#x27;0 1e9&#x27;
    multipliers = &#x27;0 1e9&#x27;
    flux_function = 1e-6
    PT_shift = 1e6
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2e-7
    fluid_bulk_modulus = 1e7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1e-13 0 0   0 1e-13 0   0 0 1e-13&#x27;
  [../]
  [./permeability_caprock]
    type = PorousFlowPermeabilityConst
    block = caprock
    permeability = &#x27;1e-15 0 0   0 1e-15 0   0 0 1e-15&#x27;
  [../]
[]

[Preconditioning]
  [./basic]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1e4
  dt = 1e3
  nl_abs_tol = 1e-15
  nl_rel_tol = 1E-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="0bed075d-04fc-4b8c-88ae-09c691962e2f"><div class="modal-content"><h4>test/tests/meshgenerators/sideset_around_subdomain_generator/sideset_around_subdomain.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    xmax = 3
    ymax = 3
    zmax = 3
    nx = 3
    ny = 3
    nz = 3
  []

  [./central_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 2
    bottom_left = &#x27;1 1 1&#x27;
    top_right = &#x27;2 2 2&#x27;
  []

  [./central_boundary]
    type = SideSetsAroundSubdomainGenerator
    input = central_block
    block = 2
    new_boundary = 7
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="256207ba-f2c3-4e28-925f-5579a0ae3e34"><div class="modal-content"><h4>test/tests/vectorpostprocessors/element_id_counters/side_element_counter.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    extra_element_integers = foo_id
  []

  [id0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
    top_right = &#x27;1 1 0&#x27;
    integer_name = foo_id
  []

  [id1]
    type = SubdomainBoundingBoxGenerator
    input = id0
    bottom_left = &#x27;0.4 0.4 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    integer_name = foo_id
  []

  [id2]
    type = SubdomainBoundingBoxGenerator
    input = id1
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 2
    top_right = &#x27;0.6 0.6 0&#x27;
    integer_name = foo_id
  []

  [subdomain]
    type = SubdomainBoundingBoxGenerator
    input = id2
    bottom_left = &#x27;0 0.5 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  []

  [side0to1]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain
    master_block = 0
    paired_block = 1
    new_boundary = side0to1
  []
[]

[VectorPostprocessors]
  [elem_counter]
    type = SideElementCounterWithID
    boundary = side0to1
    id_name = foo_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = &#x27;timestep_end&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1a281eea-0c19-47ae-9926-3a9435249e11"><div class="modal-content"><h4>test/tests/postprocessors/nodal_sum/nodal_sum_block_non_unique.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./left]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 100
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Postprocessors]
  [./nodal_sum]
    type = NodalSum
    variable = u
    execute_on = &#x27;initial timestep_end&#x27;
    block = &#x27;0 100&#x27;
    unique_node_execute = false
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="065177c2-fecc-4f25-b98f-d08f93e9f399"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test4.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 4
    ny = 4
    nz = 1
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
    zmin = 0
    zmax = 1
  []

  [./SubdomainBoundingBox]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = SubdomainBoundingBox
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3a8ae889-058e-4006-8994-24767a6ad23d"><div class="modal-content"><h4>test/tests/materials/material/material_check_test.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1
    ymin = 0
    ymax = 1
    nx = 4
    ny = 4
  []
  [./block_1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;0.5 0.5 0&#x27;
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[AuxVariables]
  [./mat]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[AuxKernels]
  [./mat]
    type = MaterialRealAux
    variable = mat
    property = prop
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = 3
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = 2
    value = 3
  [../]
[]

[Materials]
  [./mat]
    type = GenericConstantMaterial
    block = 1
    prop_names = prop
    prop_values = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
[]

[Outputs]
  file_base = out
  [./exodus]
    type = Exodus
    elemental_as_nodal = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d8920f2f-b6c1-4b1e-ab80-e26fabb7eb1a"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/action/no_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  # parameters that apply to all subblocks are specified at this level. But
  # no subblocks are present. This should trigger a warning.
  add_variables = true
  strain = FINITE
  generate_output = &#x27;stress_xx&#x27;
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = RankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = RankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e2af0cf1-5207-408f-9f42-1dda0da585bc"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/11.i</h4><pre class="moose-pre"><code class="language-text"># Two-phase borehole injection problem
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    input = annular
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pwater pgas T disp_x disp_y&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    alpha = 1E-6
    m = 0.6
  [../]
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  gravity = &#x27;0 0 0&#x27;
  biot_coefficient = 1.0
  PorousFlowDictator = dictator
[]

[Variables]
  [./pwater]
    initial_condition = 20E6
  [../]
  [./pgas]
    initial_condition = 20.1E6
  [../]
  [./T]
    initial_condition = 330
    scaling = 1E-5
  [../]
  [./disp_x]
    scaling = 1E-5
  [../]
  [./disp_y]
    scaling = 1E-5
  [../]
[]

[Kernels]
  [./mass_water_dot]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./flux_water]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./vol_strain_rate_water]
    type = PorousFlowMassVolumetricExpansion
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./mass_co2_dot]
    type = PorousFlowMassTimeDerivative
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./flux_co2]
    type = PorousFlowAdvectiveFlux
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./vol_strain_rate_co2]
    type = PorousFlowMassVolumetricExpansion
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./energy_dot]
    type = PorousFlowEnergyTimeDerivative
    use_displaced_mesh = false
    variable = T
  [../]
  [./advection]
    type = PorousFlowHeatAdvection
    use_displaced_mesh = false
    variable = T
  [../]
  [./conduction]
    type = PorousFlowHeatConduction
    use_displaced_mesh = false
    variable = T
  [../]
  [./vol_strain_rate_heat]
    type = PorousFlowHeatVolumetricExpansion
    use_displaced_mesh = false
    variable = T
  [../]
  [./grad_stress_x]
    type = StressDivergenceTensors
    temperature = T
    variable = disp_x
    eigenstrain_names = thermal_contribution
    use_displaced_mesh = false
    component = 0
  [../]
  [./poro_x]
    type = PorousFlowEffectiveStressCoupling
    variable = disp_x
    use_displaced_mesh = false
    component = 0
  [../]
  [./grad_stress_y]
    type = StressDivergenceTensors
    temperature = T
    variable = disp_y
    eigenstrain_names = thermal_contribution
    use_displaced_mesh = false
    component = 1
  [../]
  [./poro_y]
    type = PorousFlowEffectiveStressCoupling
    variable = disp_y
    use_displaced_mesh = false
    component = 1
  [../]
[]

[AuxVariables]
  [./disp_z]
  [../]
  [./effective_fluid_pressure]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./mass_frac_phase0_species0]
    initial_condition = 1 # all water in phase=0
  [../]
  [./mass_frac_phase1_species0]
    initial_condition = 0 # no water in phase=1
  [../]
  [./sgas]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./swater]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_rr]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_tt]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_zz]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./porosity]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./effective_fluid_pressure]
    type = ParsedAux
    args = &#x27;pwater pgas swater sgas&#x27;
    function = &#x27;pwater * swater + pgas * sgas&#x27;
    variable = effective_fluid_pressure
  [../]
  [./swater]
    type = PorousFlowPropertyAux
    variable = swater
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./sgas]
    type = PorousFlowPropertyAux
    variable = sgas
    property = saturation
    phase = 1
    execute_on = timestep_end
  [../]
  [./stress_rr]
    type = RankTwoScalarAux
    variable = stress_rr
    rank_two_tensor = stress
    scalar_type = RadialStress
    point1 = &#x27;0 0 0&#x27;
    point2 = &#x27;0 0 1&#x27;
    execute_on = timestep_end
  [../]
  [./stress_tt]
    type = RankTwoScalarAux
    variable = stress_tt
    rank_two_tensor = stress
    scalar_type = HoopStress
    point1 = &#x27;0 0 0&#x27;
    point2 = &#x27;0 0 1&#x27;
    execute_on = timestep_end
  [../]
  [./stress_zz]
    type = RankTwoAux
    variable = stress_zz
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    variable = porosity
    property = porosity
    execute_on = timestep_end
  [../]
[]


[BCs]
  [./roller_tmax]
    type = DirichletBC
    variable = disp_x
    value = 0
    boundary = dmax
  [../]
  [./roller_tmin]
    type = DirichletBC
    variable = disp_y
    value = 0
    boundary = dmin
  [../]
  [./pinned_top_bottom_x]
    type = DirichletBC
    variable = disp_x
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./pinned_top_bottom_y]
    type = DirichletBC
    variable = disp_y
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./cavity_pressure_x]
    type = Pressure
    boundary = injection_area
    variable = disp_x
    component = 0
    postprocessor = constrained_effective_fluid_pressure_at_wellbore
    use_displaced_mesh = false
  [../]
  [./cavity_pressure_y]
    type = Pressure
    boundary = injection_area
    variable = disp_y
    component = 1
    postprocessor = constrained_effective_fluid_pressure_at_wellbore
    use_displaced_mesh = false
  [../]

  [./cold_co2]
    type = DirichletBC
    boundary = injection_area
    variable = T
    value = 290  # injection temperature
    use_displaced_mesh = false
  [../]
  [./constant_co2_injection]
    type = PorousFlowSink
    boundary = injection_area
    variable = pgas
    fluid_phase = 1
    flux_function = -1E-4
    use_displaced_mesh = false
  [../]

  [./outer_water_removal]
    type = PorousFlowPiecewiseLinearSink
    boundary = rmax
    variable = pwater
    fluid_phase = 0
    pt_vals = &#x27;0 1E9&#x27;
    multipliers = &#x27;0 1E8&#x27;
    PT_shift = 20E6
    use_mobility = true
    use_relperm = true
    use_displaced_mesh = false
  [../]
  [./outer_co2_removal]
    type = PorousFlowPiecewiseLinearSink
    boundary = rmax
    variable = pgas
    fluid_phase = 1
    pt_vals = &#x27;0 1E9&#x27;
    multipliers = &#x27;0 1E8&#x27;
    PT_shift = 20.1E6
    use_mobility = true
    use_relperm = true
    use_displaced_mesh = false
  [../]
[]

[Modules]
  [./FluidProperties]
    [./true_water]
      type = Water97FluidProperties
    [../]
    [./tabulated_water]
      type = TabulatedFluidProperties
      fp = true_water
      temperature_min = 275
      pressure_max = 1E8
      interpolated_properties = &#x27;density viscosity enthalpy internal_energy&#x27;
      fluid_property_file = water97_tabulated_11.csv
    [../]
    [./true_co2]
      type = CO2FluidProperties
    [../]
    [./tabulated_co2]
      type = TabulatedFluidProperties
      fp = true_co2
      temperature_min = 275
      pressure_max = 1E8
      interpolated_properties = &#x27;density viscosity enthalpy internal_energy&#x27;
      fluid_property_file = co2_tabulated_11.csv
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
    temperature = T
  [../]
  [./saturation_calculator]
    type = PorousFlow2PhasePP
    phase0_porepressure = pwater
    phase1_porepressure = pgas
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
    mass_fraction_vars = &#x27;mass_frac_phase0_species0 mass_frac_phase1_species0&#x27;
  [../]
  [./water]
    type = PorousFlowSingleComponentFluid
    fp = tabulated_water
    phase = 0
  [../]
  [./co2]
    type = PorousFlowSingleComponentFluid
    fp = tabulated_co2
    phase = 1
  [../]
  [./relperm_water]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.1
    sum_s_res = 0.2
    phase = 0
  [../]
  [./relperm_co2]
    type = PorousFlowRelativePermeabilityBC
    nw_phase = true
    lambda = 2
    s_res = 0.1
    sum_s_res = 0.2
    phase = 1
  [../]
  [./porosity]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    thermal = true
    porosity_zero = 0.1
    reference_temperature = 330
    reference_porepressure = 20E6
    thermal_expansion_coeff = 15E-6 # volumetric
    solid_bulk = 8E9 # unimportant since biot = 1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityKozenyCarman
    block = aquifer
    poroperm_function = kozeny_carman_phi0
    phi0 = 0.1
    n = 2
    m = 2
    k0 = 1E-12
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityKozenyCarman
    block = caps
    poroperm_function = kozeny_carman_phi0
    phi0 = 0.1
    n = 2
    m = 2
    k0 = 1E-15
    k_anisotropy = &#x27;1 0 0  0 1 0  0 0 0.1&#x27;
  [../]
  [./rock_thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;2 0 0  0 2 0  0 0 2&#x27;
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    specific_heat_capacity = 1100
    density = 2300
  [../]

  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 5E9
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ComputeSmallStrain
    eigenstrain_names = &#x27;thermal_contribution initial_stress&#x27;
  [../]
  [./thermal_contribution]
    type = ComputeThermalExpansionEigenstrain
    temperature = T
    thermal_expansion_coeff = 5E-6 # this is the linear thermal expansion coefficient
    eigenstrain_name = thermal_contribution
    stress_free_temperature = 330
  [../]
  [./initial_strain]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;20E6 0 0  0 20E6 0  0 0 20E6&#x27;
    eigenstrain_name = initial_stress
  [../]
  [./stress]
    type = ComputeLinearElasticStress
  [../]

  [./effective_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./volumetric_strain]
    type = PorousFlowVolumetricStrain
  [../]
[]

[Postprocessors]
  [./effective_fluid_pressure_at_wellbore]
    type = PointValue
    variable = effective_fluid_pressure
    point = &#x27;1 0 0&#x27;
    execute_on = timestep_begin
    use_displaced_mesh = false
  [../]
  [./constrained_effective_fluid_pressure_at_wellbore]
    type = FunctionValuePostprocessor
    function = constrain_effective_fluid_pressure
    execute_on = timestep_begin
  [../]
[]

[Functions]
  [./constrain_effective_fluid_pressure]
    type = ParsedFunction
    vars = effective_fluid_pressure_at_wellbore
    vals = effective_fluid_pressure_at_wellbore
    value = &#x27;max(effective_fluid_pressure_at_wellbore, 20E6)&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E3
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 1E3
    growth_factor = 1.2
    optimal_iterations = 10
  [../]
  nl_abs_tol = 1E-7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3694ba19-5cb0-4336-b44a-ec338ca0f28a"><div class="modal-content"><h4>modules/heat_conduction/test/tests/sideset_heat_transfer/gap_thermal_1D.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [mesh]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 2
    xmax = 2
  []
  [split]
    type = SubdomainBoundingBoxGenerator
    input = mesh
    block_id = 1
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 0 0&#x27;
  []
  [interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = split
    primary_block = 1
    paired_block = 0
    new_boundary = &#x27;interface0&#x27;
  []
  uniform_refine = 4
[]

[Variables]
  # Defining a DFEM variable to handle gap discontinuity
  [T]
    order = FIRST
    family = MONOMIAL
  []
[]

[AuxVariables]
  # Auxvariable containing bulk temperature of gap
  [Tbulk]
    order = FIRST
    family = LAGRANGE
    initial_condition = 300 # K
  []
[]

[Kernels]
  [diff]
    type = MatDiffusion
    variable = T
    diffusivity = conductivity
  []
  [source]
    type = BodyForce
    variable = T
    value = 1.0
  []
[]

[DGKernels]
  # DG kernel to represent diffusion accross element faces
  [./dg_diff]
    type = DGDiffusion
    variable = T
    epsilon = -1
    sigma = 6
    diff = conductivity
    # Ignoring gap side set because no diffusion accross there
    exclude_boundary = &#x27;interface0&#x27;
  [../]
[]

[InterfaceKernels]
  active = &#x27;gap&#x27;
  # Heat transfer kernel using Tbulk as material
  [gap]
    type = SideSetHeatTransferKernel
    variable = T
    neighbor_var = T
    boundary = &#x27;interface0&#x27;
  []
  # Heat transfer kernel using Tbulk as auxvariable
  [gap_var]
    type = SideSetHeatTransferKernel
    variable = T
    neighbor_var = T
    boundary = &#x27;interface0&#x27;
    Tbulk_var = Tbulk
  []
[]

[Functions]
  [bc_func]
    type = ConstantFunction
    value = 300
  []
  [exact]
    type = ParsedFunction
    value = &#x27;
            A := if(x &lt; 1, -0.5, -0.25);
            B := if(x &lt; 1, -0.293209850655001, 0.0545267662299068);
            C := if(x &lt; 1, 300.206790149345, 300.19547323377);
            d := -1;
            A * (x+d) * (x+d) + B * (x+d) + C&#x27;
  []
[]

[BCs]
  [bc_left]
    type = DGFunctionDiffusionDirichletBC
    boundary = &#x27;left&#x27;
    variable = T
    diff = &#x27;conductivity&#x27;
    epsilon = -1
    sigma = 6
    function = bc_func
  []
  [bc_right]
    type = DGFunctionDiffusionDirichletBC
    boundary = &#x27;right&#x27;
    variable = T
    diff = &#x27;conductivity&#x27;
    epsilon = -1
    sigma = 6
    function = bc_func
  []
[]

[Materials]
  [k0]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 1.0
    block = 0
  []
  [k1]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 2.0
    block = 1
  []
  [gap_mat]
    type = SideSetHeatTransferMaterial
    boundary = &#x27;interface0&#x27;
    conductivity = 1.5
    gap_length = 1.0
    h_primary = 1
    h_neighbor = 1
    Tbulk = 300
    emissivity_primary = 1
    emissivity_neighbor = 1
  []
[]

[Postprocessors]
  [error]
    type = ElementL2Error
    variable = T
    function = exact
  []
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7e01adb0-e8de-4960-88c0-c4073514cf92"><div class="modal-content"><h4>modules/heat_conduction/test/tests/meshed_gap_thermal_contact/meshed_gap_thermal_contact.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [fmesh]
    type = FileMeshGenerator
    file = meshed_gap.e
  []
  [block0]
    type = SubdomainBoundingBoxGenerator
    input = fmesh
    bottom_left = &#x27;.5 -.5 0&#x27;
    top_right = &#x27;.7 .5 0&#x27;
    block_id = 4
  []
[]

[Variables]
  [./temp]
    block = &#x27;1 3&#x27;
    initial_condition = 1.0
  [../]
[]

[Kernels]
  [./hc]
    type = HeatConduction
    variable = temp
    block = &#x27;1 3&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = temp
    boundary = 1
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = temp
    boundary = 4
    value = 2
  [../]
[]

[ThermalContact]
  [./gap_conductivity]
    type = GapHeatTransfer
    variable = temp
    primary = 2
    secondary = 3
    emissivity_primary = 0
    emissivity_secondary = 0
    gap_conductivity = 0.5
  [../]
[]

[Materials]
  [./hcm]
    type = HeatConductionMaterial
    block = &#x27;1 3&#x27;
    temp = temp
    thermal_conductivity = 1
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = false
  material_coverage_check = false
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  [./out]
    type = Exodus
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="77ef3b7d-70b4-4ada-9fb6-94fe4ce2134c"><div class="modal-content"><h4>test/tests/functions/image_function/flip_dual.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  uniform_refine = 1
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 20
    ny = 40
    ymax = 2
  []
  [top]
    type = SubdomainBoundingBoxGenerator
    input = gen
    top_right = &#x27;1 2 0&#x27;
    bottom_left = &#x27;0 1 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [u]
  []
[]

[Functions]
  [top]
    type = ImageFunction
    origin = &#x27;0 1 0&#x27;
    file_base = stack/test
    file_suffix = png
    flip_y = true
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    dimensions = &#x27;1 1 0&#x27;
  []
  [bottom]
    type = ImageFunction
    origin = &#x27;0 0 0&#x27;
    file_base = stack/test
    file_suffix = png
    file_range = &#x27;0&#x27; # file_range is a vector input, a single entry means &quot;read only 1 file&quot;
    dimensions = &#x27;1 1 0&#x27;
  []
[]

[ICs]
  [top_ic]
    function = top
    variable = u
    type = FunctionIC
    block = 1
  []
  [bottom_ic]
    function = bottom
    variable = u
    type = FunctionIC
    block = 0
  []
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 0.1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6610de2a-b27e-42e9-b1e7-564610f57633"><div class="modal-content"><h4>test/tests/userobjects/setup_interface_count/internal_side.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./right_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./initial] # 1 per simulation
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;initial&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./timestep] # once per timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;timestep&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./subdomain] # 1 on initial and 2 for each timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;subdomain&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./initialize] # 1 for initial and 2 for each timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;initialize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./finalize] # 1 for initial and 2 for each timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;finalize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./execute] # 4 for initial and 8 for each timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;execute&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./threadjoin] # 1 for initial and 2 for each timestep
    type = InternalSideSetupInterfaceCount
    count_type = &#x27;threadjoin&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3d03dd2f-5e0e-4a41-bcd5-9b06bcdf5653"><div class="modal-content"><h4>modules/heat_conduction/test/tests/sideset_heat_transfer/gap_thermal_ktemp_1D.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [mesh]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 2
    xmax = 2
  []
  [split]
    type = SubdomainBoundingBoxGenerator
    input = mesh
    block_id = 1
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 0 0&#x27;
  []
  [interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = split
    primary_block = 1
    paired_block = 0
    new_boundary = &#x27;interface0&#x27;
  []
  uniform_refine = 4
[]

[Variables]
  [T]
    order = FIRST
    family = MONOMIAL
  []
[]

[AuxVariables]
  [Tbulk]
    order = FIRST
    family = LAGRANGE
    initial_condition = 300 # K
  []
[]

[Kernels]
  [diff]
    type = MatDiffusion
    variable = T
    diffusivity = conductivity
  []
  [source]
    type = BodyForce
    variable = T
    value = 1.0
  []
[]

[DGKernels]
  [dg_diff]
    type = DGDiffusion
    variable = T
    epsilon = -1
    sigma = 6
    diff = conductivity
    exclude_boundary = &#x27;interface0&#x27;
  []
[]

[InterfaceKernels]
  [gap_var]
    type = SideSetHeatTransferKernel
    variable = T
    neighbor_var = T
    boundary = &#x27;interface0&#x27;
    Tbulk_var = Tbulk
  []
[]

[Functions]
  # Defining temperature dependent fucntion for conductivity across side set
  [kgap]
    type = ParsedFunction
    value = &#x27;t / 200&#x27;
  []
  [bc_func]
    type = ConstantFunction
    value = 300
  []
  [exact]
    type = ParsedFunction
    value = &#x27;
            A := if(x &lt; 1, -0.5, -0.25);
            B := if(x &lt; 1, -0.293209850655001, 0.0545267662299068);
            C := if(x &lt; 1, 300.206790149345, 300.19547323377);
            d := -1;
            A * (x+d) * (x+d) + B * (x+d) + C&#x27;
  []
[]

[BCs]
  [bc_left]
    type = DGFunctionDiffusionDirichletBC
    boundary = &#x27;left&#x27;
    variable = T
    diff = &#x27;conductivity&#x27;
    epsilon = -1
    sigma = 6
    function = bc_func
  []
  [bc_right]
    type = DGFunctionDiffusionDirichletBC
    boundary = &#x27;right&#x27;
    variable = T
    diff = &#x27;conductivity&#x27;
    epsilon = -1
    sigma = 6
    function = bc_func
  []
[]

[Materials]
  [k0]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 1.0
    block = 0
  []
  [k1]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 2.0
    block = 1
  []
  [gap_mat]
    type = SideSetHeatTransferMaterial
    boundary = &#x27;interface0&#x27;
    # Using temperature dependent function for gap conductivity
    conductivity_temperature_function = kgap
    # Variable to evaluate conductivity with
    gap_temperature = Tbulk
    gap_length = 1.0
    h_primary = 1
    h_neighbor = 1
    emissivity_primary = 1
    emissivity_neighbor = 1
  []
[]

[Postprocessors]
  [error]
    type = ElementL2Error
    variable = T
    function = exact
  []
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d29785dc-9e8d-49ca-886c-a3c2582c3ade"><div class="modal-content"><h4>test/tests/userobjects/setup_interface_count/general.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./right_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./initial] # 1 per simulation
    type = GeneralSetupInterfaceCount
    count_type = &#x27;initial&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./timestep] # 10, once per timestep
    type = GeneralSetupInterfaceCount
    count_type = &#x27;timestep&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./subdomain] # 0, method not implemented for GeneralUserObjects
    type = GeneralSetupInterfaceCount
    count_type = &#x27;subdomain&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./initialize] # 1 for initial and 2 for each timestep
    type = GeneralSetupInterfaceCount
    count_type = &#x27;initialize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./finalize] # 1 for initial and 2 for each timestep
    type = GeneralSetupInterfaceCount
    count_type = &#x27;finalize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./execute] # 1 for initial and 2 for each timestep
    type = GeneralSetupInterfaceCount
    count_type = &#x27;execute&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./threadjoin] # 0, not implemented
    type = GeneralSetupInterfaceCount
    count_type = &#x27;threadjoin&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4dbddea1-b8f3-4252-bb2d-4ba3ef4bd1d3"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/notched_plastic_block/cmc_smooth.i</h4><pre class="moose-pre"><code class="language-text"># Uses a multi-smoothed version of capped-Mohr-Coulomb (via CappedMohrCoulombStressUpdate and ComputeMultipleInelasticStress) to simulate the following problem.
# A cubical block is notched around its equator.
# All of its outer surfaces have roller BCs, but the notched region is free to move as needed
# The block is initialised with a high hydrostatic tensile stress
# Without the notch, the BCs do not allow contraction of the block, and this stress configuration is admissible
# With the notch, however, the interior parts of the block are free to move in order to relieve stress, and this causes plastic failure
# The top surface is then pulled upwards (the bottom is fixed because of the roller BCs)
# This causes more failure
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 9
    ny = 9
    nz = 9
    xmin = 0
    xmax = 0.1
    ymin = 0
    ymax = 0.1
    zmin = 0
    zmax = 0.1
  []
  [block_to_remove_xmin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.01 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = generated_mesh
  []
  [block_to_remove_xmax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.09 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmin
  []
  [block_to_remove_ymin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.01 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmax
  []
  [block_to_remove_ymax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 0.09 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_ymin
  []
  [remove_block]
    type = BlockDeletionGenerator
    block_id = 1
    input = block_to_remove_ymax
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    incremental = true
    generate_output = &#x27;max_principal_stress mid_principal_stress min_principal_stress stress_zz&#x27;
    eigenstrain_names = ini_stress
  [../]
[]

[Postprocessors]
  [./uz]
    type = PointValue
    point = &#x27;0 0 0.1&#x27;
    use_displaced_mesh = false
    variable = disp_z
  [../]
  [./s_zz]
    type = ElementAverageValue
    use_displaced_mesh = false
    variable = stress_zz
  [../]
  [./num_res]
    type = NumResidualEvaluations
  [../]
  [./nr_its] # num_iters is the average number of NR iterations encountered per element in this timestep
    type = ElementAverageValue
    variable = num_iters
  [../]
  [./max_nr_its] # max_num_iters is the maximum number of NR iterations encountered in the element during the whole simulation
    type = ElementExtremeValue
    variable = max_num_iters
  [../]
  [./runtime]
    type = PerfGraphData
    data_type = TOTAL
    section_name = &#x27;Root&#x27;
  [../]
[]

[BCs]
  # back=zmin, front=zmax, bottom=ymin, top=ymax, left=xmin, right=xmax
  [./xmin_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./xmax_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.0
  [../]
  [./ymin_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./ymax_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = top
    value = 0.0
  [../]
  [./zmin_zzero]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = &#x27;0&#x27;
  [../]
  [./zmax_disp]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = front
    function = &#x27;1E-6*max(t,0)&#x27;
  [../]
[]

[AuxVariables]
  [./mc_int]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./max_num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./yield_fcn]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./mc_int_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_internal_parameter
    variable = mc_int
  [../]
  [./num_iters_auxk]
    type = MaterialRealAux
    property = plastic_NR_iterations
    variable = num_iters
  [../]
  [./max_num_iters_auxk]
    type = MaterialRealAux
    property = max_plastic_NR_iterations
    variable = max_num_iters
  [../]
  [./yield_fcn_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_yield_function
    variable = yield_fcn
  [../]
[]

[UserObjects]
  [./ts]
    type = TensorMechanicsHardeningConstant
    value = 3E6
  [../]
  [./cs]
    type = TensorMechanicsHardeningConstant
    value = 1E16
  [../]
  [./mc_coh]
    type = TensorMechanicsHardeningConstant
    value = 5E6
  [../]
  [./mc_phi]
    type = TensorMechanicsHardeningConstant
    value = 35
    convert_to_radians = true
  [../]
  [./mc_psi]
    type = TensorMechanicsHardeningConstant
    value = 10
    convert_to_radians = true
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 16E9
    poissons_ratio = 0.25
  [../]
  [./mc]
    type = CappedMohrCoulombStressUpdate
    tensile_strength = ts
    compressive_strength = cs
    cohesion = mc_coh
    friction_angle = mc_phi
    dilation_angle = mc_psi
    smoothing_tol = 0.2E6
    yield_function_tol = 1E-5
    perfect_guess = false # this is so we can observe some Newton-Raphson iterations, for comparison with other models, and it is not optimal in any real-life simulations
  [../]
  [./stress]
    type = ComputeMultipleInelasticStress
    inelastic_models = mc
    perform_finite_strain_rotations = false
  [../]
  [./strain_from_initial_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;2.5E6 0 0  0 2.5E6 0  0 0 2.5E6&#x27;
    eigenstrain_name = ini_stress
  [../]
[]

[Preconditioning]
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  start_time = -1
  end_time = 10
  dt = 1
  solve_type = NEWTON
  type = Transient

  l_tol = 1E-2
  nl_abs_tol = 1E-5
  nl_rel_tol = 1E-7
  l_max_its = 200
  nl_max_its = 400

  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;
[]


[Outputs]
  file_base = cmc_smooth
  perf_graph = true
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9e01e140-8f1f-4b8d-b1d6-dafe2af3f714"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_mc_only.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a transverse section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 300m deep
# and just the roof is studied (0&lt;=z&lt;=300).  The model sits
# between 0&lt;=y&lt;=450.  The excavation sits in 0&lt;=y&lt;=150.  This
# is a &quot;half model&quot;: the boundary conditions are such that
# the model simulates an excavation sitting in -150&lt;=y&lt;=150
# inside a model of the region -450&lt;=y&lt;=450.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).  Mining is simulated by moving the excavation&#x27;s
# roof down, until disp_z=-3 at t=1.
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=0 and y=450
#  - disp_z = 0 for y&gt;150
#  - disp_z = -3 at maximum, for 0&lt;=y&lt;=150.  See excav function.
# That is, rollers on the sides, free at top, and prescribed at bottom.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Below you will see weak-plane parameters and AuxVariables, etc.
# These are not actally used in this example.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa, varying down to 1 MPa when tensile strain = 1
#
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 400.0
    bias_z = 1.1
    ny = 30 # make this a multiple of 3, so y=150 is at a node
    ymin = 0
    ymax = 450
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 150 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsBetweenSubdomainsGenerator
    new_boundary = 21
    primary_block = 0
    paired_block = 1
    input = excav
  []
  [hole]
    type = BlockDeletionGenerator
    block_id = 1
    input = roof
  []
[]

[GlobalParams]
  block = 0
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12 16 21&#x27; # note addition of 16 and 21
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./roof]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = 21
    function = excav_sideways
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(400-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(400-z)&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*max(min((t/end_t*(ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
  [./excav_downwards]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*t/end_t*max(min(((ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1.0
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeLayeredCosseratElasticityTensor
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3
  [../]

  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
    eigenstrain_name = ini_stress
  [../]

  [./stress]
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = mc
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density]
    type = GenericConstantMaterial
    prop_names = density
    prop_values = 2500
  [../]
[]

[Postprocessors]
  [./subsidence]
    type = PointValue
    point = &#x27;0 0 400&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]
[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.2
  end_time = 0.2

[]

[Outputs]
  file_base = cosserat_mc_only
  interval = 1
  print_linear_residuals = false
  csv = true
  exodus = true
  [./console]
    type = Console
    output_linear = false
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="2d8ae985-62b9-4f41-9f8c-024fa2c39259"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a transverse section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 300m deep
# and just the roof is studied (0&lt;=z&lt;=300).  The model sits
# between 0&lt;=y&lt;=450.  The excavation sits in 0&lt;=y&lt;=150.  This
# is a &quot;half model&quot;: the boundary conditions are such that
# the model simulates an excavation sitting in -150&lt;=y&lt;=150
# inside a model of the region -450&lt;=y&lt;=450.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).  Mining is simulated by moving the excavation&#x27;s
# roof down, until disp_z=-3 at t=1.
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=0 and y=450
#  - disp_z = 0 for y&gt;150
#  - disp_z = -3 at maximum, for 0&lt;=y&lt;=150.  See excav function.
# That is, rollers on the sides, free at top, and prescribed at bottom.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa, varying down to 1 MPa when tensile strain = 1
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 400.0
    bias_z = 1.1
    ny = 30 # make this a multiple of 3, so y=150 is at a node
    ymin = 0
    ymax = 450
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 150 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsBetweenSubdomainsGenerator
    new_boundary = 21
    primary_block = 0
    paired_block = 1
    input = excav
  []
  [hole]
    type = BlockDeletionGenerator
    block_id = 1
    input = roof
  []
[]

[GlobalParams]
  block = 0
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12 16 21&#x27; # note addition of 16 and 21
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./roof]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = 21
    function = excav_sideways
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(400-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(400-z)&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*max(min((min(t/end_t,1)*(ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
  [./excav_downwards]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  e_h  closure_dist&#x27;
    vals = &#x27;1.0   0    150.0 -3.0 15.0&#x27;
    value = &#x27;e_h*min(t/end_t,1)*max(min(((ymax-ymin)+ymin-y)/closure_dist,1),0)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeLayeredCosseratElasticityTensor
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3
  [../]

  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
    eigenstrain_name = ini_stress
  [../]

  [./stress]
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 10000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    block = 0
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]


  [./density]
    type = GenericConstantMaterial
    prop_names = density
    prop_values = 2500
  [../]
[]

[Postprocessors]
  [./subsidence]
    type = PointValue
    point = &#x27;0 0 400&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]
[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.2
  end_time = 0.2

[]

[Outputs]
  file_base = cosserat_mc_wp
  interval = 1
  print_linear_residuals = false
  csv = true
  exodus = true
  [./console]
    type = Console
    output_linear = false
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="15bfcc14-4437-4d34-b04f-8817c43bb99c"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/fine.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = 0.025*z MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/fine.e
  []
  [./xmin]
    input = file
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
  [../]
  [./xmax]
    input = xmin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
  [../]
  [./ymin]
    input = xmax
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
  [../]
  [./ymax]
    input = ymin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
  [../]
  [./zmax]
    input = ymax
    type = SideSetsAroundSubdomainGenerator
    block = 30
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
  [../]
  [./zmin]
    input = zmax
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    input = excav
    new_boundary = roof
    normal = &#x27;0 0 1&#x27;
  [../]
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;0.8*2500*10E-6*z&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;2500*10E-6*z&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;100.0   0    1000.0 1E-9 1 10&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;100.0   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.5
  end_time = 100.0

[]

[Outputs]
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3d92789e-3765-4ca1-a556-1b832ef0fbee"><div class="modal-content"><h4>test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux_dot.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 4
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    function = 0.1*t
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusionDot
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = TRUE
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27; lu       superlu_dist                &#x27;
  dt = 0.1
  num_steps = 10
  dtmin = 0.1
  line_search = none
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e2974050-b94f-4221-8798-5b6431235098"><div class="modal-content"><h4>modules/porous_flow/test/tests/actions/basicthm_thm.i</h4><pre class="moose-pre"><code class="language-text"># PorousFlowBasicTHM action with coupling_type = ThermoHydroMechanicalGenerator

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 3
    xmax = 10
    ymax = 3
  []
  [./aquifer]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;10 2 0&#x27;
  [../]
  [./injection_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;injection_area&#x27;
    normal = &#x27;-1 0 0&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./outflow_area]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = &#x27;outflow_area&#x27;
    normal = &#x27;1 0 0&#x27;
    input = &#x27;injection_area&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caprock aquifer&#x27;
    input = &#x27;outflow_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
  displacements = &#x27;disp_x disp_y&#x27;
  biot_coefficient = 1.0
[]

[Variables]
  [./porepressure]
    initial_condition = 1e6
  [../]
  [./temperature]
    initial_condition = 293
    scaling = 1e-6
  [../]
  [./disp_x]
    scaling = 1e-6
  [../]
  [./disp_y]
    scaling = 1e-6
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydroMechanical
  gravity = &#x27;0 0 0&#x27;
  fp = simple_fluid
  eigenstrain_names = thermal_contribution
  use_displaced_mesh = false
  add_stress_aux = false
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1.5e6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 313
    boundary = injection_area
  [../]
  [./constant_outflow_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    boundary = outflow_area
    pt_vals = &#x27;0 1e9&#x27;
    multipliers = &#x27;0 1e9&#x27;
    flux_function = 1e-6
    PT_shift = 1e6
  [../]
  [./constant_outflow_temperature]
    type = DirichletBC
    variable = temperature
    value = 293
    boundary = outflow_area
  [../]
  [./top_bottom]
    type = DirichletBC
    variable = disp_y
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./right]
    type = DirichletBC
    variable = disp_x
    value = 0
    boundary = right
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2e-7
    fluid_bulk_modulus = 1e7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1e-13 0 0   0 1e-13 0   0 0 1e-13&#x27;
  [../]
  [./permeability_caprock]
    type = PorousFlowPermeabilityConst
    block = caprock
    permeability = &#x27;1e-15 0 0   0 1e-15 0   0 0 1e-15&#x27;
  [../]
  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caprock aquifer&#x27;
  [../]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 5e9
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ComputeSmallStrain
    eigenstrain_names = thermal_contribution
  [../]
  [./thermal_contribution]
    type = ComputeThermalExpansionEigenstrain
    temperature = temperature
    thermal_expansion_coeff = 0.001
    eigenstrain_name = thermal_contribution
    stress_free_temperature = 293
  [../]
  [./stress]
    type = ComputeLinearElasticStress
  [../]
[]

[Preconditioning]
  [./basic]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1e4
  dt = 1e3
  nl_abs_tol = 1e-12
  nl_rel_tol = 1E-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3e804189-b6c5-4ea2-a7a0-6eb536634dd0"><div class="modal-content"><h4>test/tests/outputs/debug/show_material_props_debug.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [./subdomains]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./block]
    type = GenericConstantMaterial
    block = &#x27;0 1&#x27;
    prop_names = &#x27;property0 property1 property2 property3 property4 property5 property6 property7 property8 property9 property10&#x27;
    prop_values = &#x27;0 1 2 3 4 5 6 7 8 9 10&#x27;
  [../]
  [./boundary]
    type = GenericConstantMaterial
    prop_names = bnd_prop
    boundary = top
    prop_values = 12345
  [../]
  [./restricted]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;restricted0 restricted1&#x27;
    prop_values = &#x27;10 11&#x27;
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;


  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]

[Debug]
  show_material_props = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a81a6ad1-5a10-4b1c-9a66-f50f28f243a2"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/07.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with a tracer that precipitates causing mineralisation and porosity changes and permeability changes
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    input = annular
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
  [./tracer_concentration]
  [../]
[]

[PorousFlowFullySaturated]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  mass_fraction_vars = tracer_concentration
  number_aqueous_kinetic = 1
  temperature = 283.0
[]

[AuxVariables]
  [./eqm_k]
    initial_condition = 0.1
  [../]
  [./mineral_conc]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./initial_and_reference_conc]
    initial_condition = 0
  [../]
  [./porosity]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./permeability]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./mineral_conc]
    type = PorousFlowPropertyAux
    property = mineral_concentration
    mineral_species = 0
    variable = mineral_conc
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
  [../]
  [./permeability]
    type = PorousFlowPropertyAux
    property = permeability
    column = 0
    row = 0
    variable = permeability
  [../]
[]

[Kernels]
  [./precipitation_dissolution]
    type = PorousFlowPreDis
    mineral_density = 1000.0
    stoichiometry = 1
    variable = tracer_concentration
  [../]
[]

[BCs]
  [./constant_injection_of_tracer]
    type = PorousFlowSink
    variable = tracer_concentration
    flux_function = -5E-3
    boundary = injection_area
  [../]
  [./constant_outer_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 0
    boundary = rmax
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
    chemical = true
    initial_mineral_concentrations = initial_and_reference_conc
    reference_chemistry = initial_and_reference_conc
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityKozenyCarman
    block = aquifer
    k0 = 1E-14
    m = 2
    n = 3
    phi0 = 0.1
    poroperm_function = kozeny_carman_phi0
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityKozenyCarman
    block = caps
    k0 = 1E-15
    k_anisotropy = &#x27;1 0 0  0 1 0  0 0 0.1&#x27;
    m = 2
    n = 3
    phi0 = 0.1
    poroperm_function = kozeny_carman_phi0
  [../]
  [./precipitation_dissolution]
    type = PorousFlowAqueousPreDisChemistry
    reference_temperature = 283.0
    activation_energy = 1 # irrelevant because T=Tref
    equilibrium_constants = eqm_k # equilibrium tracer concentration
    kinetic_rate_constant = 1E-8
    molar_volume = 1
    num_reactions = 1
    primary_activity_coefficients = 1
    primary_concentrations = tracer_concentration
    reactions = 1
    specific_reactive_surface_area = 1
  [../]
  [./mineral_concentration]
    type = PorousFlowAqueousPreDisMineral
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="733a95f0-d8e1-45f7-ac9d-d67633045c11"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/notched_plastic_block/cmc_planar.i</h4><pre class="moose-pre"><code class="language-text"># Uses an unsmoothed version of capped-Mohr-Coulomb (via ComputeMultiPlasticityStress with TensorMechanicsPlasticTensileMulti and TensorMechanicsPlasticMohrCoulombMulti) to simulate the following problem.
# A cubical block is notched around its equator.
# All of its outer surfaces have roller BCs, but the notched region is free to move as needed
# The block is initialised with a high hydrostatic tensile stress
# Without the notch, the BCs do not allow contraction of the block, and this stress configuration is admissible
# With the notch, however, the interior parts of the block are free to move in order to relieve stress, and this causes plastic failure
# The top surface is then pulled upwards (the bottom is fixed because of the roller BCs)
# This causes more failure
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 9
    ny = 9
    nz = 9
    xmin = 0
    xmax = 0.1
    ymin = 0
    ymax = 0.1
    zmin = 0
    zmax = 0.1
  []
  [block_to_remove_xmin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.01 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = generated_mesh
  []
  [block_to_remove_xmax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.09 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmin
  []
  [block_to_remove_ymin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.01 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmax
  []
  [block_to_remove_ymax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 0.09 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_ymin
  []
  [remove_block]
    type = BlockDeletionGenerator
    block_id = 1
    input = block_to_remove_ymax
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    incremental = true
    generate_output = &#x27;max_principal_stress mid_principal_stress min_principal_stress stress_zz&#x27;
    eigenstrain_names = ini_stress
  [../]
[]

[Postprocessors]
  [./uz]
    type = PointValue
    point = &#x27;0 0 0.1&#x27;
    use_displaced_mesh = false
    variable = disp_z
  [../]
  [./s_zz]
    type = ElementAverageValue
    use_displaced_mesh = false
    variable = stress_zz
  [../]
  [./num_res]
    type = NumResidualEvaluations
  [../]
  [./nr_its]
    type = ElementAverageValue
    variable = num_iters
  [../]
  [./max_nr_its]
    type = ElementExtremeValue
    variable = num_iters
  [../]
  [./runtime]
    type = PerfGraphData
    data_type = TOTAL
    section_name = &#x27;Root&#x27;
  [../]
[]

[BCs]
  # back=zmin, front=zmax, bottom=ymin, top=ymax, left=xmin, right=xmax
  [./xmin_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./xmax_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.0
  [../]
  [./ymin_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./ymax_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = top
    value = 0.0
  [../]
  [./zmin_zzero]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = &#x27;0&#x27;
  [../]
  [./zmax_disp]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = front
    function = &#x27;1E-6*max(t,0)&#x27;
  [../]
[]

[AuxVariables]
  [./mc_int]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./plastic_strain]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./yield_fcn]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./mc_int_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_internal_parameter
    variable = mc_int
  [../]
  [./plastic_strain_aux]
    type = MaterialRankTwoTensorAux
    i = 2
    j = 2
    property = plastic_strain
    variable = plastic_strain
  [../]
  [./num_iters_auxk] # cannot use plastic_NR_iterations directly as this is zero, since no NR iterations are actually used, since we use a custom algorithm to do the return
    type = ParsedAux
    args = plastic_strain
    function = &#x27;if(plastic_strain&gt;0,1,0)&#x27;
    variable = num_iters
  [../]
  [./yield_fcn_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_yield_function
    variable = yield_fcn
  [../]
[]

[UserObjects]
  [./ts]
    type = TensorMechanicsHardeningConstant
    value = 3E6
  [../]
  [./tensile]
    type = TensorMechanicsPlasticTensileMulti
    tensile_strength = ts
    yield_function_tolerance = 1
    internal_constraint_tolerance = 1.0E-6
    #shift = 1
    use_custom_returnMap = false
    use_custom_cto = false
  [../]

  [./mc_coh]
    type = TensorMechanicsHardeningConstant
    value = 5E6
  [../]
  [./mc_phi]
    type = TensorMechanicsHardeningConstant
    value = 35
    convert_to_radians = true
  [../]
  [./mc_psi]
    type = TensorMechanicsHardeningConstant
    value = 10
    convert_to_radians = true
  [../]
  [./mc]
    type = TensorMechanicsPlasticMohrCoulombMulti
    cohesion = mc_coh
    friction_angle = mc_phi
    dilation_angle = mc_psi
    yield_function_tolerance = 1E-5
    internal_constraint_tolerance = 1E-11
    use_custom_returnMap = false
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 16E9
    poissons_ratio = 0.25
  [../]
  [./mc]
    type = ComputeMultiPlasticityStress
    ep_plastic_tolerance = 1E-6
    plastic_models = &#x27;tensile mc&#x27;
    max_NR_iterations = 50
    specialIC = rock
    deactivation_scheme = safe_to_dumb
    debug_fspb = crash
  [../]
  [./strain_from_initial_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;2.5E6 0 0  0 2.5E6 0  0 0 2.5E6&#x27;
    eigenstrain_name = ini_stress
  [../]
[]

[Preconditioning]
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  start_time = -1
  end_time = 10
  dt = 1
  solve_type = NEWTON
  type = Transient

  l_tol = 1E-2
  nl_abs_tol = 1E-5
  nl_rel_tol = 1E-7
  l_max_its = 200
  nl_max_its = 400

  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;
[]


[Outputs]
  file_base = cmc_planar
  perf_graph = true
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cedebf13-1416-4860-b8dd-50f0566a0c7b"><div class="modal-content"><h4>modules/porous_flow/examples/coal_mining/coarse_with_fluid.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fluid flow aaround a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# The excavation takes 0.5 years.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
#  - no flow at x=0, z=-400 and z=0
#  - fixed porepressure at y=-1000, y=1000 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# A single-phase unsaturated fluid is used.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa, and time units are measured in years.
#
# The initial porepressure is hydrostatic with P=0 at z=0, so
# Porepressure ~ - 0.01*z MPa, where the fluid has density 1E3 kg/m^3 and
# gravity = = 10 m.s^-2 = 1E-5 MPa m^2/kg.
# To be more accurate, i use
# Porepressure = -bulk * log(1 + g*rho0*z/bulk)
# where bulk=2E3 MPa and rho0=1Ee kg/m^3.
# The initial stress is consistent with the weight force from undrained
# density 2500 kg/m^3, and fluid porepressure, and a Biot coefficient of 0.7, ie,
# stress_zz^effective = 0.025*z + 0.7 * initial_porepressure
# The maximum and minimum principal horizontal effective stresses are
# assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 2 MPa
# MC friction angle = 35 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
# Fluid density at zero porepressure = 1E3 kg/m^3
# Fluid bulk modulus = 2E3 MPa
# Fluid viscosity = 1.1E-3 Pa.s = 1.1E-9 MPa.s = 3.5E-17 MPa.year
#
[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
  PorousFlowDictator = dictator
  biot_coefficient = 0.7
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/coarse.e
  []
  [./xmin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
    input = file
  [../]
  [./xmax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
    input = xmin
  [../]
  [./ymin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
    input = xmax
  [../]
  [./ymax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
    input = ymin
  [../]
  [./zmax]
    type = SideSetsAroundSubdomainGenerator
    block = 16
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
    input = ymax
  [../]
  [./zmin]
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
    input = zmax
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 3
    paired_block = 1
    input = excav
    new_boundary = roof
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
  [./porepressure]
    scaling = 1E-5
  [../]
[]

[ICs]
  [./porepressure]
    type = FunctionIC
    variable = porepressure
    function = ini_pp
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
  [./poro_x]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./poro_y]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./poro_z]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    component = 2
    variable = disp_z
  [../]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    use_displaced_mesh = false
    fluid_component = 0
    variable = porepressure
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    use_displaced_mesh = false
    variable = porepressure
    gravity = &#x27;0 0 -10E-6&#x27;
    fluid_component = 0
  [../]
  [./poro_vol_exp]
    type = PorousFlowMassVolumetricExpansion
    use_displaced_mesh = false
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    variable = porepressure
    fluid_component = 0
  [../]
[]


[AuxVariables]
  [./saturation]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_x]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_y]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_z]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_water]
    type = PorousFlowPropertyAux
    variable = saturation
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./darcy_x]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_x
    gravity = &#x27;0 0 -10E-6&#x27;
    component = x
  [../]
  [./darcy_y]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_y
    gravity = &#x27;0 0 -10E-6&#x27;
    component = y
  [../]
  [./darcy_z]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_z
    gravity = &#x27;0 0 -10E-6&#x27;
    component = z
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
    execute_on = timestep_end
  [../]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_xx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_xy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_xz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_yx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_yy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_yz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_zx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_zy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_zz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./perm_xx]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_xx
    row = 0
    column = 0
    execute_on = timestep_end
  [../]
  [./perm_yy]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_yy
    row = 1
    column = 1
    execute_on = timestep_end
  [../]
  [./perm_zz]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_zz
    row = 2
    column = 2
    execute_on = timestep_end
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
    execute_on = timestep_end
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
    execute_on = timestep_end
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
    execute_on = timestep_end
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
    execute_on = timestep_end
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
    execute_on = timestep_end
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
    execute_on = timestep_end
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
    execute_on = timestep_end
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
    execute_on = timestep_end
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./fix_porepressure]
    type = FunctionDirichletBC
    variable = porepressure
    boundary = &#x27;ymin ymax xmax&#x27;
    function = ini_pp
  [../]
  [./roof_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    pt_vals = &#x27;-1E3 1E3&#x27;
    multipliers = &#x27;-1 1&#x27;
    fluid_phase = 0
    flux_function = roof_conductance
    boundary = roof
  [../]
  [./roof_bcs]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_pp]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3&#x27;
    value = &#x27;-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)&#x27;
  [../]
  [./ini_xx]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;0.8*(2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)))&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk))&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;0.5   0    1000.0 1E-9 1 60&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;0.5   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
  [./roof_conductance]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax   maxval minval&#x27;
    vals = &#x27;0.5   0    1000.0 1E7      0&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),maxval,minval)&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;porepressure disp_x disp_y disp_z&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1 # MPa^-1
  [../]

  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.99 # MPa
    value_residual = 2.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.61 # 35deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.26 # 15deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E3
      density0 = 1000
      thermal_expansion = 0
      viscosity = 3.5E-17
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./eff_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./vol_strain]
    type = PorousFlowVolumetricStrain
  [../]
  [./ppss]
    type = PorousFlow1PhaseP
    porepressure = porepressure
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity_bulk]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_excav]
    type = PorousFlowPorosityConst
    block = 1
    porosity = 1.0
  [../]
  [./permeability_bulk]
    type = PorousFlowPermeabilityKozenyCarman
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    poroperm_function = kozeny_carman_phi0
    k0 = 1E-15
    phi0 = 0.02
    n = 2
    m = 2
  [../]
  [./permeability_excav]
    type = PorousFlowPermeabilityConst
    block = 1
    permeability = &#x27;0 0 0   0 0 0   0 0 0&#x27;
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.4
    sum_s_res = 0.4
    phase = 0
  [../]

  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.05
    smoothing_tol = 0.05 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./undrained_density_0]
    type = GenericConstantMaterial
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./undrained_density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_roof_pp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = porepressure
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_pp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = porepressure
  [../]
  [./max_perm_zz]
    type = ElementExtremeValue
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    variable = perm_zz
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;

  # best overall
  # petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  # petsc_options_value = &#x27; lu       mumps&#x27;

  # best if you do not have mumps:
  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27; lu       superlu_dist&#x27;

  # best if you do not have mumps or superlu_dist:
  #petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  # very basic:
  #petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 200
  nl_max_its = 30

  start_time = 0.0
  dt = 0.014706
  end_time = 0.014706 #0.5
[]

[Outputs]
  interval = 1
  print_linear_residuals = true
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="277d0054-52af-4cbc-8d65-ab6052cdd813"><div class="modal-content"><h4>test/tests/misc/save_in/block-restricted-save-in.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[AuxVariables]
  [./vres]
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
    save_in = &#x27;vres&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
  [./vres_int]
    type = ElementIntegralVariablePostprocessor
    variable = vres
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b84d671f-cab9-420a-b08e-600b51d34318"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test5.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./SubdomainBoundingBox1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 2 1&#x27;
  [../]
  [./SubdomainBoundingBox2]
    type = SubdomainBoundingBoxGenerator
    input = SubdomainBoundingBox1
    block_id = 1
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = SubdomainBoundingBox2
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cee30f5b-b42c-4be4-96f8-f02933f22af8"><div class="modal-content"><h4>modules/heat_conduction/test/tests/sideset_heat_transfer/cfem_gap.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # Build 2-by-2 mesh
  [mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []

  # Create blocs 0, 1, 2, 3
  [block_1]
    type = SubdomainBoundingBoxGenerator
    input = mesh
    block_id = 1
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 1 0&#x27;
  []
  [block_2]
    type = SubdomainBoundingBoxGenerator
    input = block_1
    block_id = 2
    bottom_left = &#x27;0 1 0&#x27;
    top_right = &#x27;1 2 0&#x27;
  []
  [block_3]
    type = SubdomainBoundingBoxGenerator
    input = block_2
    block_id = 3
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;2 2 0&#x27;
  []

  # Create inner sidesets
  [interface_01]
    type = SideSetsBetweenSubdomainsGenerator
    input = block_3
    primary_block = 0
    paired_block = 1
    new_boundary = &#x27;interface_01&#x27;
  []
  [interface_13]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface_01
    primary_block = 1
    paired_block = 3
    new_boundary = &#x27;interface_13&#x27;
  []
  [interface_32]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface_13
    primary_block = 3
    paired_block = 2
    new_boundary = &#x27;interface_32&#x27;
  []
  [interface_20]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface_32
    primary_block = 2
    paired_block = 0
    new_boundary = &#x27;interface_20&#x27;
  []

  # Create outer boundaries
  [boundary_left_0]
    type = SideSetsAroundSubdomainGenerator
    input = interface_20
    block = 0
    normal = &#x27;-1 0 0&#x27;
    new_boundary = &#x27;left_0&#x27;
  []
  [boundary_bot_0]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_left_0
    block = 0
    normal = &#x27;0 -1 0&#x27;
    new_boundary = &#x27;bot_0&#x27;
  []
  [boundary_bot_1]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_bot_0
    block = 1
    normal = &#x27;0 -1 0&#x27;
    new_boundary = &#x27;bot_1&#x27;
  []
  [boundary_right_1]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_bot_1
    block = 1
    normal = &#x27;1 0 0&#x27;
    new_boundary = &#x27;right_1&#x27;
  []
  [boundary_right_3]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_right_1
    block = 3
    normal = &#x27;1 0 0&#x27;
    new_boundary = &#x27;right_3&#x27;
  []
  [boundary_top_3]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_right_3
    block = 3
    normal = &#x27;0 1 0&#x27;
    new_boundary = &#x27;top_3&#x27;
  []
  [boundary_top_2]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_top_3
    block = 2
    normal = &#x27;0 1 0&#x27;
    new_boundary = &#x27;top_2&#x27;
  []
  [boundary_left_2]
    type = SideSetsAroundSubdomainGenerator
    input = boundary_top_2
    block = 2
    normal = &#x27;-1 0 0&#x27;
    new_boundary = &#x27;left_2&#x27;
  []
  uniform_refine = 4
[]

[Variables]
  # Need to have variable for each block to allow discontinuity
  [T0]
    block = 0
  []
  [T1]
    block = 1
  []
  [T2]
    block = 2
  []
  [T3]
    block = 3
  []
[]

[Kernels]
  # Diffusion kernel for each block&#x27;s variable
  [diff_0]
    type = MatDiffusion
    variable = T0
    diffusivity = conductivity
    block = 0
  []
  [diff_1]
    type = MatDiffusion
    variable = T1
    diffusivity = conductivity
    block = 1
  []
  [diff_2]
    type = MatDiffusion
    variable = T2
    diffusivity = conductivity
    block = 2
  []
  [diff_3]
    type = MatDiffusion
    variable = T3
    diffusivity = conductivity
    block = 3
  []

  # Source for two of the blocks
  [source_0]
    type = BodyForce
    variable = T0
    value = 5e5
    block = &#x27;0&#x27;
  []
  [source_3]
    type = BodyForce
    variable = T3
    value = 5e5
    block = &#x27;3&#x27;
  []
[]

[InterfaceKernels]
  # Side set kernel to represent heat transfer across blocks
  # Automatically uses the materials defined in SideSetHeatTransferMaterial
  [gap_01]
    type = SideSetHeatTransferKernel
    # This variable defined on a given block must match the primary_block given when the side set was generated
    variable = T0
    # This variable defined on a given block must match the paired_block given when the side set was generated
    neighbor_var = T1
    boundary = &#x27;interface_01&#x27;
  []
  [gap_13]
    type = SideSetHeatTransferKernel
    variable = T1
    neighbor_var = T3
    boundary = &#x27;interface_13&#x27;
  []
  [gap_32]
    type = SideSetHeatTransferKernel
    variable = T3
    neighbor_var = T2
    boundary = &#x27;interface_32&#x27;
  []
  [gap_20]
    type = SideSetHeatTransferKernel
    variable = T2
    neighbor_var = T0
    boundary = &#x27;interface_20&#x27;
  []
[]

# Creating auxiliary variable to combine block restricted solutions
# Ignores discontinuity though
[AuxVariables]
  [T]
  []
[]

[AuxKernels]
  [temp_0]
    type = NormalizationAux
    variable = T
    source_variable = T0
    block = 0
  []
  [temp_1]
    type = NormalizationAux
    variable = T
    source_variable = T1
    block = 1
  []
  [temp_2]
    type = NormalizationAux
    variable = T
    source_variable = T2
    block = 2
  []
  [temp_3]
    type = NormalizationAux
    variable = T
    source_variable = T3
    block = 3
  []
[]

[BCs]
  # Boundary condition for each block&#x27;s outer surface
  [bc_left_2]
    type = DirichletBC
    boundary = &#x27;left_2&#x27;
    variable = T2
    value = 300.0
  []
  [bc_left_0]
    type = DirichletBC
    boundary = &#x27;left_0&#x27;
    variable = T0
    value = 300.0
  []

  [bc_bot_0]
    type = DirichletBC
    boundary = &#x27;bot_0&#x27;
    variable = T0
    value = 300.0
  []
  [bc_bot_1]
    type = DirichletBC
    boundary = &#x27;bot_1&#x27;
    variable = T1
    value = 300.0
  []

  [./bc_top_2]
    type = ConvectiveFluxFunction # (Robin BC)
    variable = T2
    boundary = &#x27;top_2&#x27;
    coefficient = 1e3 # W/K/m^2
    T_infinity = 600.0
  [../]
  [./bc_top_3]
    type = ConvectiveFluxFunction # (Robin BC)
    variable = T3
    boundary = &#x27;top_3&#x27;
    coefficient = 1e3 # W/K/m^2
    T_infinity = 600.0
  [../]

  [./bc_right_3]
    type = ConvectiveFluxFunction # (Robin BC)
    variable = T3
    boundary = &#x27;right_3&#x27;
    coefficient = 1e3 # W/K/m^2
    T_infinity = 600.0
  [../]
  [./bc_right_1]
    type = ConvectiveFluxFunction # (Robin BC)
    variable = T1
    boundary = &#x27;right_1&#x27;
    coefficient = 1e3 # W/K/m^2
    T_infinity = 600.0
  [../]
[]

[Materials]
  [fuel]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 75
    block = &#x27;0 3&#x27;
  []
  [mod]
    type = GenericConstantMaterial
    prop_names = &#x27;conductivity&#x27;
    prop_values = 7.5
    block = &#x27;1 2&#x27;
  []
  # Interface material used for SideSetHeatTransferKernel
  # Heat transfer meachnisms ignored if certain properties are not supplied
  [gap_mat]
    type = SideSetHeatTransferMaterial
    boundary = &#x27;interface_01 interface_13 interface_32 interface_20&#x27;
    conductivity = 0.41
    gap_length = 0.002
    Tbulk = 750
    h_primary = 3000
    h_neighbor = 3000
    emissivity_primary = 0.85
    emissivity_neighbor = 0.85
  []
[]

[Executioner]
  type = Steady
  nl_rel_tol = 1e-12
  l_tol = 1e-8
  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;lu       superlu_dist                  50&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="12aded92-33ba-4c59-beeb-25216448ad76"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/sub_nearest_point.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0.01 # to make sure the meshes don&#x27;t align
    xmax = 0.49 # to make sure the meshes don&#x27;t align
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.2 0.2 0&#x27;
    top_right = &#x27;0.3 0.8 0&#x27;
  []
[]

[Variables]
  [sink]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[Functions]
  [sink_func]
    type = ParsedFunction
    value = &#x27;5e2*x*(0.5-x)+5e1&#x27;
  []
[]

[Kernels]
  [reaction]
    type = Reaction
    variable = sink
  []

  [coupledforce]
    type = BodyForce
    variable = sink
    function = sink_func
  []
[]

[AuxVariables]
  [from_master]
    block = 1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [sink]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = sink
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_master_pp]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = from_master
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7867bc92-ad07-410b-963e-fb920e1eef39"><div class="modal-content"><h4>modules/ray_tracing/test/tests/trace_ray/internal_sidesets/internal_sidesets_1d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 1
    xmax = 6
    nx = 6
  []

  [central_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;2 0 0&#x27;
    top_right = &#x27;4 0 0&#x27;
  []

  [central_boundary]
    type = SideSetsBetweenSubdomainsGenerator
    input = central_block
    master_block = 1
    paired_block = 0
    new_boundary = 7
  []
[]

[RayBCs]
  active = &#x27;kill_internal&#x27;
  # active = &#x27;kill_external reflect_internal&#x27;

  # for testing internal kill
  [kill_internal]
    type = KillRayBC
    boundary = 7
    rays = &#x27;left_in at_left right_in at_right inside_left&#x27;
  []

  # for testing internal reflect
  [kill_external]
    type = KillRayBC
    boundary = &#x27;left right&#x27;
    rays = &#x27;left_in at_left right_in at_right inside_left&#x27;
  []
  [reflect_internal]
    type = ReflectRayBC
    boundary = 7
    rays = &#x27;left_in at_left right_in at_right inside_left&#x27;
  []
[]

[UserObjects/study]
  type = RepeatableRayStudy
  start_points = &#x27;0 0 0
                  2 0 0
                  6 0 0
                  4 0 0
                  3 0 0&#x27;
  directions = &#x27;1 0 0
                1 0 0
                -1 0 0
                -1 0 0
                -1 0 0&#x27;
  names = &#x27;left_in at_left right_in at_right inside_left&#x27;
  ray_distance = 10
  execute_on = initial
  ray_kernel_coverage_check = false
  use_internal_sidesets = true
[]

[Postprocessors/total_distance]
  type = RayTracingStudyResult
  study = study
  result = total_distance
[]

[Executioner]
  type = Steady
[]

[Problem]
  solve = false
[]

[Outputs]
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="abbd9c0a-899f-4155-9180-b86635ee3f6c"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/action/two_block_base_name.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]
[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  # parameters that apply to all subblocks are specified at this level. They
  # can be overwritten in the subblocks.
  add_variables = true
  strain = FINITE
  generate_output = &#x27;stress_xx&#x27;
  # base_name can be specified inside or outside a block
  base_name = &#x27;block1&#x27;

  [./block1]
    # the `block` parameter is only valid insde a subblock.
    block = 1
  [../]
  [./block2]
    block = 2
    # the `additional_generate_output` parameter is also only valid inside a
    # subblock. Values specified here are appended to the `generate_output`
    # parameter values.
    additional_generate_output = &#x27;strain_yy&#x27;
    base_name = &#x27;block2&#x27;
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = RankTwoAux
    block = 1
    rank_two_tensor = block1_stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = RankTwoAux
    block = 2
    rank_two_tensor = block2_total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor_1]
    type = ComputeIsotropicElasticityTensor
    block = 1
    base_name = block1
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./elasticity_tensor_2]
    type = ComputeIsotropicElasticityTensor
    block = 2
    base_name = block2
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ComputeFiniteStrainElasticStress
    block = 1
    base_name = block1
  [../]
  [./_elastic_stress2]
    type = ComputeFiniteStrainElasticStress
    block = 2
    base_name = block2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e57811cc-f2da-41b3-a405-fc645d2044c8"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material_noIK.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]

  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain_id
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;interface&#x27;
  [../]

[]

[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="30a41dd8-7959-44bc-b028-acc66ebb0257"><div class="modal-content"><h4>test/tests/postprocessors/internal_side_jump/internal_side_jump.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [./box]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 0.5 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
    family = L2_LAGRANGE
    order = FIRST
  [../]
[]

[ICs]
  [./ic0]
    type = ConstantIC
    variable = u
    block = 0
    value = 4
  [../]
  [./ic1]
    type = ConstantIC
    variable = u
    block = 1
    value = 6
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[DGKernels]
  [./dgdiff]
    type = DGDiffusion
    variable = u
    sigma = 4
    epsilon = 1
  [../]
[]

[BCs]
  [./all]
    type = VacuumBC
    variable = u
    boundary = &#x27;0 1 2 3&#x27;
  [../]
[]

[Postprocessors]
  [./L2_norm]
    type = ElementL2Norm
    variable = u
  [../]
  [./jump]
    type = InternalSideJump
    variable = u
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
  [./jumpold]
    type = InternalSideJump
    variable = u
    implicit = false
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 3
  nl_abs_tol = 1e-12
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c2cc8e04-c4f5-454b-ba35-6db209c1901a"><div class="modal-content"><h4>test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_outside.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    #uniform_refine = 2
  []

  [./subdomains]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    location = OUTSIDE
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = MatCoefDiffusion
    variable = u
    conductivity = &#x27;k&#x27;
    block = &#x27;0 1&#x27;
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./outside]
    type = GenericConstantMaterial
    block = 0
    prop_names = &#x27;k&#x27;
    prop_values = 1
  [../]
  [./inside]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;k&#x27;
    prop_values = 0.1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="dc092030-33d0-4dae-adb8-604119768f8f"><div class="modal-content"><h4>test/tests/meshgenerators/rename_block_generator/rename_block1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    ny = 2
    nz = 2
    xmin = -1
    xmax = 1
    ymin = -1
    ymax = 1
    zmin = -1
    zmax = 1
  []

  [./subdomain0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;-1 -1 -1&#x27;
    top_right = &#x27;0 0 0&#x27;
  []

  [./re_id]
    type = RenameBlockGenerator
    input = subdomain0
    old_block_id = &#x27;0 1&#x27;
    new_block_id = &#x27;2 3&#x27;
  []

  [./rename_no_effect]
    type = RenameBlockGenerator
    input = re_id
    old_block_id = &#x27;5 0 1&#x27;
    new_block_name = &#x27;five zero one&#x27;
  []

  [./rename]
    type = RenameBlockGenerator
    input = rename_no_effect
    old_block_id = &#x27;2&#x27;
    new_block_name = &#x27;two_was_zero&#x27;
  []

  [./rename_block2]
    type = RenameBlockGenerator
    input = rename
    old_block_name = &#x27;two_was_zero&#x27;
    new_block_name = &#x27;simply_two&#x27;
  []

  [./rename_blockID3]
    type = RenameBlockGenerator
    input = rename_block2
    old_block_id = &#x27;3&#x27;
    new_block_name = &#x27;three&#x27;
  []

  [./three_to_4]
    type = RenameBlockGenerator
    input = rename_blockID3
    old_block_name = &#x27;three&#x27;
    new_block_id = 4
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 0
  [../]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 0
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e9b946a5-1bf4-4efa-bb1c-774c9b4132fb"><div class="modal-content"><h4>test/tests/meshgenerators/mesh_side_set_generator/mesh_side_set_generator.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 4
    ny = 4
    nz = 4
    elem_type = TET4
  []

  [./left_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    block_name = left_block
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 1&#x27;
  []

  [./right_block]
    type = SubdomainBoundingBoxGenerator
    input = left_block
    block_id = 2
    block_name = right_block
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
  []

  [./center_side_set]
    type = SideSetsBetweenSubdomainsGenerator
    input = right_block
    primary_block = left_block
    paired_block = right_block
    new_boundary = center_side_set
  []

  [./center_mesh]
    type = MeshSideSetGenerator
    input = center_side_set
    boundaries = center_side_set
    block_id = 10
    block_name = center_mesh
  []
[]

[Variables]
  [./c_volume]
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;1-(x-0.5)^2+(y-0.5)^2+(z-0.5)^2&#x27;
    [../]
  [../]
  [./c_plane]
    block = &#x27;center_mesh&#x27;
  [../]
[]

[Kernels]
  [./volume_diff]
    type = Diffusion
    variable = c_volume
    block = &#x27;left_block right_block&#x27;
  [../]
  [./volume_dt]
    type = TimeDerivative
    variable = c_volume
    block = &#x27;left_block right_block&#x27;
  [../]

  # couple the lower dimensional variable to the volume variable
  [./plane_reaction]
    type = Reaction
    variable = c_plane
    block = &#x27;center_mesh&#x27;
  [../]
  [./plane_coupled]
    type = CoupledForce
    variable = c_plane
    v = c_volume
    block = &#x27;center_mesh&#x27;
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.01
  num_steps = 2
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b951b06c-9f08-4aab-badf-fd9a12f73ce8"><div class="modal-content"><h4>test/tests/materials/get_material_property_names/get_material_property_any_boundary_id.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [./add_subdomain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;1 1 0&#x27;
    bottom_left = &#x27;0 0.5 0&#x27;
    block_id = 100
    block_name = &#x27;top&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./boundary]
    type = GenericConstantMaterial
    prop_names = boundary_prop
    boundary = ANY_BOUNDARY_ID
    prop_values = 54321
  [../]
[]

[UserObjects]
  [./get_material_boundary_names_test]
    type = GetMaterialPropertyBoundaryBlockNamesTest
    expected_names = &#x27;ANY_BOUNDARY_ID&#x27;
    property_name = &#x27;boundary_prop&#x27;
    test_type = &#x27;boundary&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3019d1c9-12de-4134-8f74-f6399aef774e"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/05.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with heat advection and conduction, using Water97 properties
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
    initial_condition = 1E6
  [../]
  [./temperature]
    initial_condition = 313
    scaling = 1E-8
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 2E6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 333
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = Water97FluidProperties
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2E-7
    fluid_bulk_modulus = 1E7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]

  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    biot_coefficient = 0.8
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caps aquifer&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="03de4305-6469-4cff-8190-a88cba994630"><div class="modal-content"><h4>test/tests/userobjects/setup_interface_count/element.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./right_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./initial] # 1 per simulation
    type = ElementSetupInterfaceCount
    count_type = &#x27;initial&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./timestep] # once per timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;timestep&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./subdomain] # 2 on initial and 4 for each timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;subdomain&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./initialize] # 1 for initial and 2 for each timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;initialize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./finalize] # 1 for initial and 2 for each timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;finalize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./execute] # 4 for initial and 8 for each timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;execute&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
  [./threadjoin] # 1 for initial and 2 for each timestep
    type = ElementSetupInterfaceCount
    count_type = &#x27;threadjoin&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e0dcc202-a8da-4207-9bda-c3fbef2682f5"><div class="modal-content"><h4>test/tests/outputs/debug/show_material_props.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [./subdomains]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./block]
    type = GenericConstantMaterial
    block = &#x27;0 1&#x27;
    prop_names = &#x27;property0 property1 property2 property3 property4 property5 property6 property7 property8 property9 property10&#x27;
    prop_values = &#x27;0 1 2 3 4 5 6 7 8 9 10&#x27;
  [../]
  [./boundary]
    type = GenericConstantMaterial
    prop_names = bnd_prop
    boundary = top
    prop_values = 12345
  [../]
  [./restricted]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;restricted0 restricted1&#x27;
    prop_values = &#x27;10 11&#x27;
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;


  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
  [./debug] # This is only a test, you should turn this on via [Debug] block
    type = MaterialPropertyDebugOutput
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d0e75823-2bcf-428f-939f-48ca80437fc2"><div class="modal-content"><h4>test/tests/meshgenerators/final_generator/final_multi_trees.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmax = 1
    ymax = 1
  []

  [./subdomain_lower]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.2 0.2 0&#x27;
    block_id = 1
    top_right = &#x27;0.4 0.4 0&#x27;
  []

  # Independent Tree of Generators
  [./gmg2]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmax = 1
    ymax = 1
  []

  [./subdomain_upper]
    type = SubdomainBoundingBoxGenerator
    input = gmg2
    bottom_left = &#x27;0.6 0.6 0&#x27;
    block_id = 1
    top_right = &#x27;0.8 0.8 0&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="989c1f53-59f5-44f3-92f3-f4bed05b1a6e"><div class="modal-content"><h4>test/tests/variables/second_derivative/interface_kernels.i</h4><pre class="moose-pre"><code class="language-text"># This is testing a scenario where volumetric system (like kernels) asks for second derivatives
# and the formulation includes a system using neighbor elements (like DGKernels or
# InterfaceKernels)
# If the latter did not request the second derivatives MOOSE should not be computing those.
# The PDEs solved are quite contrived, the Biharmonic kernel is there just to trigger the
# computation of second derivatives.

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
    xmax = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 2 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;middle&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = Diffusion
    variable = u
  [../]
  [./diff_v]
    type = Diffusion
    variable = v
  [../]
  [./bh]
    type = Biharmonic
    variable = u
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = middle
    D = 4
    D_neighbor = 2
  [../]
[]

[BCs]
  [./u]
    type = DirichletBC
    variable = u
    value = 1
    boundary = &#x27;right middle&#x27;
  [../]
  [./v]
    type = DirichletBC
    variable = v
    value = 2
    boundary = &#x27;left middle&#x27;
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7530bd9a-9d47-47c7-a189-60185e3b0b78"><div class="modal-content"><h4>modules/ray_tracing/test/tests/outputs/ray_tracing_mesh_output/ray_mesh_output.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmax = 5
    ymax = 5
    elem_type = QUAD4
  []

  [middle_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;2 0 0&#x27;
    top_right = &#x27;3 5 0&#x27;
  []

  [middle_block_sideset]
    type = SideSetsBetweenSubdomainsGenerator
    input = middle_block
    master_block = 1
    paired_block = 0
    new_boundary = 7
  []
[]

[RayBCs]
  [kill_top_right]
    type = &#x27;KillRayBC&#x27;
    boundary = &#x27;top right&#x27;
    rays = &#x27;to_top_right
            centroid_left_to_right
            along_top&#x27;
  []
  [kill_bottom_left]
    type = &#x27;KillRayBC&#x27;
    boundary = &#x27;left bottom&#x27;
    rays = &#x27;reflect_right_and_top
            reflect_right_at_node
            reflect_internal&#x27;
  []
  [reflect]
    type = &#x27;ReflectRayBC&#x27;
    boundary = &#x27;top right&#x27;
    rays = &#x27;reflect_right_and_top
            reflect_right_at_node&#x27;
  []
  [reflect_internal]
    type = &#x27;ReflectRayBC&#x27;
    boundary = 7
    rays = &#x27;reflect_internal&#x27;
  []
  [kill_internal]
    type = &#x27;KillRayBC&#x27;
    boundary = 7
    rays = &#x27;kill_internal&#x27;
  []
  [nothing_internal]
    type = &#x27;NullRayBC&#x27;
    boundary = 7
    rays = &#x27;to_top_right
            centroid_left_to_right
            along_top
            reflect_right_and_top
            reflect_right_at_node&#x27;
  []
[]

[UserObjects/study]
  type = RepeatableRayStudy
  ray_kernel_coverage_check = false
  start_points = &#x27;0 0 0
                  0.5 2.6 0
                  0 5 0
                  0 0.23 0
                  3 0 0
                  0 2.25 0
                  4.8 0.2 0&#x27;
  directions = &#x27;1 1 0
                1 0 0
                1 0 0
                1 0.6 0
                1 0.5 0
                1 0.58 0
                -1 0.2 0&#x27;
  names = &#x27;to_top_right
           centroid_left_to_right
           along_top
           reflect_right_and_top
           reflect_right_at_node
           reflect_internal
           kill_internal&#x27;
  execute_on = initial
  always_cache_traces = true
  use_internal_sidesets = true
[]

[Executioner]
  type = Steady
[]

[Problem]
  solve = false
[]

[Outputs]
  exodus = false
  [rays]
    type = RayTracingExodus
    study = study
    execute_on = final
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bf46c685-15cd-40a0-9736-d49d3b422d51"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/coarse.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = 0.025*z MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [file]
    type = FileMeshGenerator
    file = mesh/coarse.e
  []
  [./xmin]
    input = file
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
  [../]
  [./xmax]
    input = xmin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
  [../]
  [./ymin]
    input = xmax
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
  [../]
  [./ymax]
    input = ymin
    type = SideSetsAroundSubdomainGenerator
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
  [../]
  [./zmax]
    input = ymax
    type = SideSetsAroundSubdomainGenerator
    block = 16
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
  [../]
  [./zmin]
    input = zmax
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    input = excav
    new_boundary = roof
    normal = &#x27;0 0 1&#x27;
  [../]
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;0.8*2500*10E-6*z&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;2500*10E-6*z&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;17.0   0    1000.0 1E-9 1 60&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;17.0   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.5 # this gives min(disp_z)=-4.3, use dt=0.0625 if you want to restrict disp_z&gt;=-3.2
  end_time = 17.0

[]

[Outputs]
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4cea4187-480f-4ef9-943a-d8f9317232f8"><div class="modal-content"><h4>test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_inside.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    #uniform_refine = 2
  []

  [./subdomains]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
  []
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = MatCoefDiffusion
    variable = u
    conductivity = &#x27;k&#x27;
    block = &#x27;0 1&#x27;
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Materials]
  [./outside]
    type = GenericConstantMaterial
    block = 0
    prop_names = &#x27;k&#x27;
    prop_values = 1
  [../]
  [./inside]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;k&#x27;
    prop_values = 0.1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 5
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5b443bb2-59aa-4af6-ac37-f1febd63c4cd"><div class="modal-content"><h4>modules/rdg/test/tests/advection_1d/block_restrictable.i</h4><pre class="moose-pre"><code class="language-text">############################################################
[GlobalParams]
  order = CONSTANT
  family = MONOMIAL
  u = u
  slope_limiting = lslope
  implicit = false
[]
############################################################
[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    xmin = 0
    xmax = 1
    nx = 100
  []
  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0 0&#x27;
    block_id = 1
    top_right = &#x27;1.0 1.0 0&#x27;
    input = gen
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
    input = subdomain1
  [../]
  [./interface_again]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
    input = interface
  [../]
[]
############################################################
[Functions]
  [./ic_u]
    type = PiecewiseConstant
    axis = x
    direction = right
    xy_data = &#x27;0.1 0.5
               0.4 1.0
               0.5 0.5&#x27;
  [../]
[]
############################################################
[UserObjects]
  [./lslope]
    type = AEFVSlopeLimitingOneD
    execute_on = &#x27;linear&#x27;
    scheme = &#x27;superbee&#x27; #none | minmod | mc | superbee
    block = 0
  [../]

  [./internal_side_flux]
    type = AEFVUpwindInternalSideFlux
    execute_on = &#x27;linear&#x27;
  [../]

  [./free_outflow_bc]
    type = AEFVFreeOutflowBoundaryFlux
    execute_on = &#x27;linear&#x27;
  [../]
[]
############################################################
[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
    family = LAGRANGE
    order = FIRST
  [../]
[]
############################################################
[ICs]
  [./u_ic]
    type = FunctionIC
    variable = &#x27;u&#x27;
    function = ic_u
  [../]
[]
############################################################
[Kernels]
  [./time_u]
    implicit = true
    type = TimeDerivative
    variable = u
    block = 0
  [../]
  [./diff_v]
    implicit = true
    type = Diffusion
    variable = v
    block = 1
  [../]
  [./time_v]
    implicit = true
    type = TimeDerivative
    variable = v
    block = 1
  [../]
[]
############################################################
[DGKernels]
  [./concentration]
    type = AEFVKernel
    variable = u
    component = &#x27;concentration&#x27;
    flux = internal_side_flux
    block = 0
  [../]
[]
############################################################
[BCs]
  [./concentration]
    type = AEFVBC
    boundary = &#x27;left primary0_interface&#x27;
    variable = u
    component = &#x27;concentration&#x27;
    flux = free_outflow_bc
  [../]
  [./v_left]
    type = DirichletBC
    boundary = &#x27;primary1_interface&#x27;
    variable = v
    value = 1
  [../]
  [./v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  [../]
[]
############################################################
[Materials]
  [./aefv]
    type = AEFVMaterial
    block = 0
  [../]
  [./dummy_1]
    type = GenericConstantMaterial
    block = 1
    prop_names = &#x27;&#x27;
    prop_values = &#x27;&#x27;
  [../]
[]
############################################################
[Executioner]
  type = Transient
  [./TimeIntegrator]
    type = ExplicitMidpoint
  [../]
  solve_type = &#x27;LINEAR&#x27;

  l_tol = 1e-4
  nl_rel_tol = 1e-20
  nl_abs_tol = 1e-8
  nl_max_its = 60

  start_time = 0.0
  num_steps = 4 # 4 | 400 for complete run
  dt = 5e-4
  dtmin = 1e-6
[]

[Outputs]
  [./out]
    type = Exodus
    interval = 2
  [../]
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6d1452dc-7095-4799-882a-98da20004d40"><div class="modal-content"><h4>modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_3D_single.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 6
    ny = 25
    nz = 15
    xmin = 20
    xmax = 30
    ymin = 0
    ymax = 50
    zmin = 10
    zmax = 40
    elem_type = HEX8
  []
  [./left_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;24.9 50 50&#x27;
  [../]
  [./right_side]
    input = left_side
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;25.1 0 0&#x27;
    top_right = &#x27;50 50 50&#x27;
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = right_side
  [../]
[]

[Variables]
  [./c]
    order = FIRST
    family = LAGRANGE
  []
[]

[ICs]
  [./c]
    type = SpecifiedSmoothCircleIC
    variable = c
    invalue = 1.0
    outvalue = 0.0
    radii =       &#x27;4    5  10&#x27;
    x_positions = &#x27;25   25 25&#x27;
    y_positions = &#x27;40 25 0&#x27;
    z_positions = &#x27;25   25 25&#x27;
    int_width = 2.0
  []
[]

[Postprocessors]
  [./flood_count]
    type = FeatureFloodCount
    variable = c

    # Must be turned on to build data structures necessary for FeatureVolumeVPP
    compute_var_to_feature_map = true
    threshold = 0.5
    execute_on = INITIAL
  [../]
[]

[VectorPostprocessors]
  [./features]
    type = FeatureVolumeVectorPostprocessor
    flood_counter = flood_count

    # Turn on centroid output
    output_centroids = true
    execute_on = INITIAL
    boundary = 10
    single_feature_per_element = true
  [../]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = c
  []
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = INITIAL
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b55dce31-1486-49e8-bf91-498a0a14e1f9"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/mixed_shapes.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./interface_again]
    input = interface
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = &#x27;0&#x27;
  [../]


  [./v]
    order = FIRST
    family = MONOMIAL
    block = &#x27;1&#x27;
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./body_u]
    type = BodyForce
    variable = u
    block = 0
    function = &#x27;x^3+x^2+x+1&#x27;
  [../]
  [./body_v]
    type = BodyForce
    variable = v
    block = 1
    function = &#x27;x^3+x^2+x+1&#x27;
  [../]
[]

[DGKernels]
  [./dg_diff_v]
    type = DGDiffusion
    variable = v
    block = 1
    diff = 2
    sigma = 6
    epsilon = -1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = OneSideDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    D = 4
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 1
  [../]
  # [./right]
  #   type = DirichletBC
  #   variable = v
  #   boundary = &#x27;right&#x27;
  #   value = 0
  # [../]
  [./right]
    type = DGFunctionDiffusionDirichletBC
    variable = v
    boundary = &#x27;right&#x27;
    function = 0
    epsilon = -1
    sigma = 6
  [../]
  [./middle]
    type = NeumannBC
    variable = u
    boundary = &#x27;primary0_interface&#x27;
    value = &#x27;.5&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9ee890ba-eabd-4b53-9634-1ff8536b44d8"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_action/two_block_new.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  # parameters that apply to all subblocks are specified at this level. They
  # can be overwritten in the subblocks.
  add_variables = true
  strain = FINITE
  generate_output = &#x27;stress_xx&#x27;

  [./block1]
    # the `block` parameter is only valid insde a subblock.
    block = 1
    use_automatic_differentiation = true
  [../]
  [./block2]
    block = 2
    # the `additional_generate_output` parameter is also only valid inside a
    # subblock. Values specified here are appended to the `generate_output`
    # parameter values.
    additional_generate_output = &#x27;strain_yy&#x27;
    use_automatic_differentiation = true
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = ADRankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ADComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7e5b1506-0bda-4865-8251-48a5e2f43a7f"><div class="modal-content"><h4>test/tests/mesh/multi_elem_integers/multi_element_integer.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = MeshGeneratorMesh
  parallel_type = &#x27;replicated&#x27;

  [gmg1]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1
    ymin = 0
    ymax = 1
    nx = 5
    ny = 5
    extra_element_integers = &#x27;material_id&#x27;
  []
  [gmg2]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 1
    xmax = 2
    ymin = 0
    ymax = 1
    nx = 5
    ny = 5
    extra_element_integers = &#x27;source_id&#x27;
  []
  [stitcher]
    type = StitchedMeshGenerator
    inputs = &#x27;gmg1 gmg2&#x27;
    stitch_boundaries_pairs = &#x27;right left&#x27;
  []
  [set_material_id0]
    type = SubdomainBoundingBoxGenerator
    input = stitcher
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
    location = INSIDE
    integer_name = material_id
  []
  [set_material_id1]
    type = SubdomainBoundingBoxGenerator
    input = set_material_id0
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 1 0&#x27;
    block_id = 2
    location = INSIDE
    integer_name = material_id
  []
  [set_material_id2]
    type = SubdomainBoundingBoxGenerator
    input = set_material_id1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 3
    location = INSIDE
    integer_name = source_id
  []
  [set_material_id3]
    type = SubdomainBoundingBoxGenerator
    input = set_material_id2
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 1 0&#x27;
    block_id = 4
    location = INSIDE
    integer_name = source_id
  []
[]

[AuxVariables]
  [id1]
    family = MONOMIAL
    order = CONSTANT
  []
  [id2]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [id1]
    type = ElementIntegerAux
    variable = id1
    integer_names = material_id
  []
  [id2]
    type = ElementIntegerAux
    variable = id2
    integer_names = source_id
  []
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="79913b8f-84ac-4f06-8a5f-db293a86a22a"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test12.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 8
    ny = 8
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./mark]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0.9 0.9 0&#x27;
    top_right = &#x27;3.1 3.1 0&#x27;
  [../]
  [./delete]
    type = BlockDeletionGenerator
    block_id = 1
    input = mark
    new_boundary = cut_surface
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./outer]
    type = DirichletBC
    variable = u
    boundary = &#x27;top bottom left right&#x27;
    value = 1
  [../]
  [./inner]
    type = DirichletBC
    variable = u
    boundary = cut_surface
    value = 0
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f445df31-8f85-433f-aa04-ace03ebe2b63"><div class="modal-content"><h4>test/tests/meshgenerators/subdomain_bounding_box_generator/subdomain_bounding_box_generator_restricted.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
  []

  [subdomains]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
  []

  [subdomains2]
    type = SubdomainBoundingBoxGenerator
    input = subdomains
    bottom_left = &#x27;0.2 0 0&#x27;
    block_id = 2
    top_right = &#x27;1 0.6 0&#x27;
    restricted_subdomains = 0
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ca04c276-35fe-48db-ad88-03e125029c44"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/04.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with heat advection and conduction, and elasticity
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  PorousFlowDictator = dictator
  biot_coefficient = 1.0
[]

[Variables]
  [./porepressure]
  [../]
  [./temperature]
    initial_condition = 293
    scaling = 1E-8
  [../]
  [./disp_x]
    scaling = 1E-10
  [../]
  [./disp_y]
    scaling = 1E-10
  [../]
  [./disp_z]
    scaling = 1E-10
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydroMechanical
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  eigenstrain_names = thermal_contribution
  use_displaced_mesh = false
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1E6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 313
    boundary = injection_area
  [../]

  [./roller_tmax]
    type = DirichletBC
    variable = disp_x
    value = 0
    boundary = dmax
  [../]
  [./roller_tmin]
    type = DirichletBC
    variable = disp_y
    value = 0
    boundary = dmin
  [../]
  [./roller_top_bottom]
    type = DirichletBC
    variable = disp_z
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./cavity_pressure_x]
    type = Pressure
    boundary = injection_area
    variable = disp_x
    component = 0
    factor = 1E6
    use_displaced_mesh = false
  [../]
  [./cavity_pressure_y]
    type = Pressure
    boundary = injection_area
    variable = disp_y
    component = 1
    factor = 1E6
    use_displaced_mesh = false
  [../]
[]

[AuxVariables]
  [./stress_rr]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_pp]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./stress_rr]
    type = RankTwoScalarAux
    rank_two_tensor = stress
    variable = stress_rr
    scalar_type = RadialStress
    point1 = &#x27;0 0 0&#x27;
    point2 = &#x27;0 0 1&#x27;
  [../]
  [./stress_pp]
    type = RankTwoScalarAux
    rank_two_tensor = stress
    variable = stress_pp
    scalar_type = HoopStress
    point1 = &#x27;0 0 0&#x27;
    point2 = &#x27;0 0 1&#x27;
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
      thermal_expansion = 0.0002
      cp = 4194
      cv = 4186
      porepressure_coefficient = 0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    solid_bulk_compliance = 2E-7
    fluid_bulk_modulus = 1E7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]

  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caps aquifer&#x27;
  [../]

  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 5E9
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ComputeSmallStrain
    eigenstrain_names = thermal_contribution
  [../]
  [./thermal_contribution]
    type = ComputeThermalExpansionEigenstrain
    temperature = temperature
    thermal_expansion_coeff = 0.001 # this is the linear thermal expansion coefficient
    eigenstrain_name = thermal_contribution
    stress_free_temperature = 293
  [../]
  [./stress]
    type = ComputeLinearElasticStress
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-15
  nl_rel_tol = 1E-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f02c80a2-4499-4c63-a3ba-a526b43b003c"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/notched_plastic_block/biaxial_planar.i</h4><pre class="moose-pre"><code class="language-text"># Uses non-smoothed Mohr-Coulomb (via ComputeMultiPlasticityStress and TensorMechanicsPlasticMohrCoulombMulti) to simulate the following problem.
# A cubical block is notched around its equator.
# All of its outer surfaces have roller BCs, but the notched region is free to move as needed
# The block is initialised with a high hydrostatic tensile stress
# Without the notch, the BCs do not allow contraction of the block, and this stress configuration is admissible
# With the notch, however, the interior parts of the block are free to move in order to relieve stress, and this causes plastic failure
# The top surface is then pulled upwards (the bottom is fixed because of the roller BCs)
# This causes more failure
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 9
    ny = 9
    nz = 9
    xmin = 0
    xmax = 0.1
    ymin = 0
    ymax = 0.1
    zmin = 0
    zmax = 0.1
  []
  [block_to_remove_xmin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.01 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = generated_mesh
  []
  [block_to_remove_xmax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.09 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmin
  []
  [block_to_remove_ymin]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 -0.01 0.045&#x27;
    top_right = &#x27;0.11 0.01 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_xmax
  []
  [block_to_remove_ymax]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;-0.01 0.09 0.045&#x27;
    top_right = &#x27;0.11 0.11 0.055&#x27;
    location = INSIDE
    block_id = 1
    input = block_to_remove_ymin
  []
  [remove_block]
    type = BlockDeletionGenerator
    block_id = 1
    input = block_to_remove_ymax
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Modules/TensorMechanics/Master]
  [./all]
    add_variables = true
    incremental = true
    generate_output = &#x27;max_principal_stress mid_principal_stress min_principal_stress stress_zz&#x27;
    eigenstrain_names = ini_stress
  [../]
[]

[Postprocessors]
  [./uz]
    type = PointValue
    point = &#x27;0 0 0.1&#x27;
    use_displaced_mesh = false
    variable = disp_z
  [../]
  [./s_zz]
    type = ElementAverageValue
    use_displaced_mesh = false
    variable = stress_zz
  [../]
  [./num_res]
    type = NumResidualEvaluations
  [../]
  [./nr_its]
    type = ElementAverageValue
    variable = num_iters
  [../]
  [./max_nr_its]
    type = ElementExtremeValue
    variable = num_iters
  [../]
  [./runtime]
    type = PerfGraphData
    data_type = TOTAL
    section_name = &#x27;Root&#x27;
  [../]
[]

[BCs]
  # back=zmin, front=zmax, bottom=ymin, top=ymax, left=xmin, right=xmax
  [./xmin_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = left
    value = 0.0
  [../]
  [./xmax_xzero]
    type = DirichletBC
    variable = disp_x
    boundary = right
    value = 0.0
  [../]
  [./ymin_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0.0
  [../]
  [./ymax_yzero]
    type = DirichletBC
    variable = disp_y
    boundary = top
    value = 0.0
  [../]
  [./zmin_zzero]
    type = DirichletBC
    variable = disp_z
    boundary = back
    value = &#x27;0&#x27;
  [../]
  [./zmax_disp]
    type = FunctionDirichletBC
    variable = disp_z
    boundary = front
    function = &#x27;1E-6*max(t,0)&#x27;
  [../]
[]

[AuxVariables]
  [./mc_int]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./plastic_strain]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./num_iters]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./yield_fcn]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./mc_int_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_internal_parameter
    variable = mc_int
  [../]
  [./plastic_strain_aux]
    type = MaterialRankTwoTensorAux
    i = 2
    j = 2
    property = plastic_strain
    variable = plastic_strain
  [../]
  [./num_iters_auxk] # cannot use plastic_NR_iterations directly as this is zero, since no NR iterations are actually used, since we use a custom algorithm to do the return
    type = ParsedAux
    args = plastic_strain
    function = &#x27;if(plastic_strain&gt;0,1,0)&#x27;
    variable = num_iters
  [../]
  [./yield_fcn_auxk]
    type = MaterialStdVectorAux
    index = 0
    property = plastic_yield_function
    variable = yield_fcn
  [../]
[]

[UserObjects]
  [./mc_coh]
    type = TensorMechanicsHardeningConstant
    value = 5E6
  [../]
  [./mc_phi]
    type = TensorMechanicsHardeningConstant
    value = 35
    convert_to_radians = true
  [../]
  [./mc_psi]
    type = TensorMechanicsHardeningConstant
    value = 10
    convert_to_radians = true
  [../]
  [./mc]
    type = TensorMechanicsPlasticMohrCoulombMulti
    cohesion = mc_coh
    friction_angle = mc_phi
    dilation_angle = mc_psi
    yield_function_tolerance = 1E-5
    internal_constraint_tolerance = 1E-11
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 16E9
    poissons_ratio = 0.25
  [../]
  [./mc]
    type = ComputeMultiPlasticityStress
    ep_plastic_tolerance = 1E-11
    plastic_models = mc
    max_NR_iterations = 1000
    debug_fspb = crash
  [../]
  [./strain_from_initial_stress]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;6E6 0 0  0 6E6 0  0 0 6E6&#x27;
    eigenstrain_name = ini_stress
  [../]
[]

[Preconditioning]
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  start_time = -1
  end_time = 10
  dt = 1
  solve_type = NEWTON
  type = Transient

  l_tol = 1E-2
  nl_abs_tol = 1E-5
  nl_rel_tol = 1E-7
  l_max_its = 200
  nl_max_its = 400

  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;
[]


[Outputs]
  file_base = biaxial_planar
  perf_graph = true
  exodus = false
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4f397510-7f30-4c76-b220-b1b2affebbfb"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test2.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 4
    ny = 4
    nz = 1
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
    zmin = 0
    zmax = 1
  []

  [./SubdomainBoundingBox]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    input = SubdomainBoundingBox
    block_id = 1
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="34ee85ab-0d6b-424f-92a1-4464cc8b3692"><div class="modal-content"><h4>test/tests/userobjects/interface_user_object/interface_value_rate_increment_user_object_QP.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./primary0_interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = primary0_interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]


[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 4
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    function = 0.1*t
  [../]
[]

[InterfaceKernels]
  [./primary0_interface]
    type = PenaltyInterfaceDiffusionDot
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = TRUE
  [../]
[]

[Executioner]
  type = Transient
  solve_type = &#x27;NEWTON&#x27;
  dt = 0.1
  num_steps = 3
  dtmin = 0.1
  line_search = none
[]

[Outputs]
  exodus = true
[]

[UserObjects]
  [./interface_avg_value_uo]
    type = InterfaceQpValueUserObject
    var = v1
    var_neighbor = v2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
  [../]
  [./interface_avg_value_rate_uo]
    type = InterfaceQpValueUserObject
    var = v1
    var_neighbor = v2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
    value_type = rate
  [../]
  [./interface_avg_value_increment_uo]
    type = InterfaceQpValueUserObject
    var = v1
    var_neighbor = v2
    boundary = &#x27;primary0_interface&#x27;
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
    interface_value_type = average
    value_type = increment
  [../]
[]

[AuxKernels]
  [./v1_saux]
    type = StatefulAux
    coupled = v1
    variable = v1
  [../]
  [./v2_saux]
    type = StatefulAux
    coupled = v2
    variable = v2
  [../]
  [./interface_avg_value_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_avg_value_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
  [./interface_avg_value_rate_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_rate_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_avg_value_rate_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
  [./interface_avg_value_increment_aux]
    type = InterfaceValueUserObjectAux
    variable = avg_increment_qp
    boundary = &#x27;primary0_interface&#x27;
    interface_uo_name = interface_avg_value_increment_uo
    execute_on = &#x27;INITIAL LINEAR NONLINEAR TIMESTEP_BEGIN TIMESTEP_END FINAL&#x27;
  []
[]

[AuxVariables]
  [./v1]
    family = MONOMIAL
    order = FIRST
    initial_condition = 5
  [../]
  [./v2]
    family = MONOMIAL
    order = FIRST
    initial_condition = 2
  [../]
  [./avg_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./avg_rate_qp]
    family = MONOMIAL
    order = CONSTANT
  []
  [./avg_increment_qp]
    family = MONOMIAL
    order = CONSTANT
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="be11a350-347a-434c-b6f0-92d2cef962b3"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/06.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with a tracer
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
  [./tracer_concentration]
  [../]
[]

[ICs]
  [./tracer_concentration]
    type = FunctionIC
    function = &#x27;0.5*if(x*x+y*y&lt;1.01,1,0)&#x27;
    variable = tracer_concentration
  [../]
[]

[PorousFlowFullySaturated]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  mass_fraction_vars = tracer_concentration
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1E6
    boundary = injection_area
  [../]
  [./constant_outer_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 0
    boundary = rmax
  [../]
  [./injected_tracer]
    type = DirichletBC
    variable = tracer_concentration
    value = 0.5
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_rel_tol = 1E-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f35d990f-baa7-441d-b432-860f800aa553"><div class="modal-content"><h4>test/tests/materials/discrete/recompute.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./recompute_props]
    type = RecomputeMaterial
    block = 0
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    outputs = all
    output_properties = &#x27;f f_prime p&#x27;
    compute = false # make this material &quot;discrete&quot;
  [../]

  [./newton]
    type = NewtonMaterial
    block = 0
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = &#x27;recompute_props&#x27;
  [../]


  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime p&#x27;
    prop_values = &#x27;1 0.5     1.2345&#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="64e20c53-9c6a-4f21-ab9d-55c67da65518"><div class="modal-content"><h4>test/tests/markers/block_restricted/marker_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
    xmax = 5
    ymax = 5
  []
  [./lower_block]
    input = gen
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;5 3 0&#x27;
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
  [../]
  [./upper_block]
    input = lower_block
    type = SubdomainBoundingBoxGenerator
    top_right = &#x27;5 5 0&#x27;
    bottom_left = &#x27;0 3 0&#x27;
    block_id = 1
  [../]
[]

[Adaptivity]
  initial_steps = 2
  initial_marker = marker
  [./Markers]
    [./marker]
      type = UniformMarker
      block = 0
      mark = REFINE
    [../]
  [../]
[]

[Variables]
  [./u]
    initial_condition = 0
  [../]
[]

[Problem]
  type = FEProblem
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="6f406eb3-0e78-430e-8566-ae34f8eb86db"><div class="modal-content"><h4>test/tests/materials/discrete/recompute_block_error.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 1
  []
  [./left_domain]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 10
  [../]
[]


[Variables]
  [./u]
    initial_condition = 2
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = &#x27;p&#x27;
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 2
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 3
  [../]
[]

[Materials]

  [./recompute_props]
    type = RecomputeMaterial
    block = 0
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    outputs = all
    output_properties = &#x27;f f_prime p&#x27;
    compute = false # makes this material &quot;discrete&quot;
  [../]

  [./newton]
    type = NewtonMaterial
    block = &#x27;0 10&#x27;
    outputs = all
    f_name = &#x27;f&#x27;
    f_prime_name = &#x27;f_prime&#x27;
    p_name = &#x27;p&#x27;
    material = &#x27;recompute_props&#x27;
  [../]

  [./left]
    type = GenericConstantMaterial
    prop_names =  &#x27;f f_prime&#x27;
    prop_values = &#x27;1 0.5    &#x27;
    block = 10
    outputs = all
  [../]
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="424554e3-58e0-456f-8fdb-d16ef5a370a9"><div class="modal-content"><h4>modules/phase_field/test/tests/misc/interface_flux.i</h4><pre class="moose-pre"><code class="language-text">#
# This test demonstrates an InterfaceKernel (InterfaceDiffusionFlux) that can
# replace a pair of integrated DiffusionFluxBC boundary conditions.
#

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 20
    ny = 10
    ymax = 0.5
  []
  [./box1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.51 1 0&#x27;
    input = gen
  [../]
  [./box2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.49 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = box1
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = box2
  [../]
[]

[Variables]
  [./u2]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v2]
    block = 2
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.7)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
[]

[Kernels]
  [./u2_diff]
    type = Diffusion
    variable = u2
    block = 1
  [../]
  [./u2_dt]
    type = TimeDerivative
    variable = u2
    block = 1
  [../]
  [./v2_diff]
    type = Diffusion
    variable = v2
    block = 2
  [../]
  [./v2_dt]
    type = TimeDerivative
    variable = v2
    block = 2
  [../]
[]

[InterfaceKernels]
  [./iface]
    type = InterfaceDiffusionBoundaryTerm
    boundary = 10
    variable = u2
    neighbor_var = v2
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.002
  num_steps = 6
[]

[Outputs]
  exodus = true
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c00ccc5f-95bc-4b5b-a4c1-8d94a856e519"><div class="modal-content"><h4>test/tests/meshgenerators/final_generator/final_ambigious.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # This parameter is supplied through the test specification
  # final_generator = subdomain_lower

  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 5
    xmax = 1
    ymax = 1
    #uniform_refine = 2
  []

  [./subdomain_lower]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.2 0.2 0&#x27;
    block_id = 1
    top_right = &#x27;0.4 0.4 0&#x27;
  []

  [./subdomain_upper]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0.6 0.6 0&#x27;
    block_id = 1
    top_right = &#x27;0.8 0.8 0&#x27;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a9635038-84cc-4ad0-8841-28a1593d83d8"><div class="modal-content"><h4>modules/tensor_mechanics/examples/coal_mining/cosserat_mc_wp_sticky.i</h4><pre class="moose-pre"><code class="language-text"># Strata deformation and fracturing around a coal mine
#
# A 2D geometry is used that simulates a transverse section of
# the coal mine.  The model is actually 3D, but the &quot;x&quot;
# dimension is only 10m long, meshed with 1 element, and
# there is no &quot;x&quot; displacement.  The mine is 400m deep
# and just the roof is studied (0&lt;=z&lt;=400).  The model sits
# between 0&lt;=y&lt;=450.  The excavation sits in 0&lt;=y&lt;=150.  This
# is a &quot;half model&quot;: the boundary conditions are such that
# the model simulates an excavation sitting in -150&lt;=y&lt;=150
# inside a model of the region -450&lt;=y&lt;=450.  The
# excavation height is 3m (ie, the excavation lies within
# 0&lt;=z&lt;=3).
#
# Time is meaningless in this example
# as quasi-static solutions are sought at each timestep, but
# the number of timesteps controls the resolution of the
# process.
#
# The boundary conditions for this elastic simulation are:
#  - disp_x = 0 everywhere
#  - disp_y = 0 at y=0 and y=450
#  - disp_z = 0 at z=0, but there is a time-dependent
#               Young&#x27;s modulus that simulates excavation
#  - wc_x = 0 at y=0 and y=450.
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa.  The initial stress is consistent with
# the weight force from density 2500 kg/m^3, ie, stress_zz = -0.025*(300-z) MPa
# where gravity = 10 m.s^-2 = 1E-5 MPa m^2/kg.  The maximum and minimum
# principal horizontal stresses are assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 3 MPa
# MC friction angle = 37 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa, varying down to 1 MPa when tensile strain = 1
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
#
[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 1
    xmin = -5
    xmax = 5
    nz = 40
    zmin = 0
    zmax = 403.003
    bias_z = 1.1
    ny = 30 # make this a multiple of 3, so y=150 is at a node
    ymin = 0
    ymax = 450
  []
  [left]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 11
    normal = &#x27;0 -1 0&#x27;
    input = generated_mesh
  []
  [right]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 12
    normal = &#x27;0 1 0&#x27;
    input = left
  []
  [front]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 13
    normal = &#x27;-1 0 0&#x27;
    input = right
  []
  [back]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 14
    normal = &#x27;1 0 0&#x27;
    input = front
  []
  [top]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 15
    normal = &#x27;0 0 1&#x27;
    input = back
  []
  [bottom]
    type = SideSetsAroundSubdomainGenerator
    block = 0
    new_boundary = 16
    normal = &#x27;0 0 -1&#x27;
    input = top
  []
  [excav]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-5 0 0&#x27;
    top_right = &#x27;5 150 3&#x27;
    input = bottom
  []
  [roof]
    type = SideSetsAroundSubdomainGenerator
    block = 1
    new_boundary = 18
    normal = &#x27;0 0 1&#x27;
    input = excav
  []
[]

[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
[]

[Variables]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
[]

[Kernels]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
[]


[AuxVariables]
  [./disp_x]
  [../]
  [./wc_y]
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
  [../]
[]



[BCs]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;16&#x27;
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;11 12&#x27;
    value = 0.0
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = &#x27;18&#x27;
  [../]
[]

[Functions]
  [./ini_xx]
    type = ParsedFunction
    value = &#x27;-0.8*2500*10E-6*(403.003-z)&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    value = &#x27;-2500*10E-6*(403.003-z)&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;1.0   0    150.0 1E-9 1 15&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;1.0   0    150.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
[]

[UserObjects]
  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 2.99 # MPa
    value_residual = 3.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.65 # 37deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.36 # 20deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.1
    value_residual = 0.1
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Materials]
  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
    block = 0
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    # this is needed so as to correctly apply the initial stress
    type = ComputeMultipleInelasticCosseratStress
    block = 0
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.1
    smoothing_tol = 0.1 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./density_0]
    type = GenericConstantMaterial
    block = 0
    prop_names = density
    prop_values = 2500
  [../]
  [./density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Postprocessors]
  [./subs_max]
    type = PointValue
    point = &#x27;0 0 403.003&#x27;
    variable = disp_z
    use_displaced_mesh = false
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-8

  l_max_its = 30
  nl_max_its = 1000

  start_time = 0.0
  dt = 0.01
  end_time = 1.0

[]

[Outputs]
  file_base = cosserat_mc_wp_sticky
  interval = 1
  print_linear_residuals = false
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c37cb5a1-8c21-4026-8736-dda85bdf2f11"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/06_KT.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with a tracer
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
  [./tracer_concentration]
  [../]
[]

[ICs]
  [./tracer_concentration]
    type = FunctionIC
    function = &#x27;0.5*if(x*x+y*y&lt;1.01,1,0)&#x27;
    variable = tracer_concentration
  [../]
[]

[PorousFlowFullySaturated]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  mass_fraction_vars = tracer_concentration
  stabilization = KT
  flux_limiter_type = superbee
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1E6
    boundary = injection_area
  [../]
  [./constant_outer_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 0
    boundary = rmax
  [../]
  [./injected_tracer]
    type = DirichletBC
    variable = tracer_concentration
    value = 0.5
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_rel_tol = 1E-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f28e4be5-581d-4b87-8a14-2964375f1c55"><div class="modal-content"><h4>modules/porous_flow/examples/coal_mining/fine_with_fluid.i</h4><pre class="moose-pre"><code class="language-text">#################################################################
#
#  NOTE:
#  The mesh for this model is too large for the MOOSE repository
#  so is kept in the the large_media submodule
#
#################################################################
#
# Strata deformation and fluid flow aaround a coal mine - 3D model
#
# A &quot;half model&quot; is used.  The mine is 400m deep and
# just the roof is studied (-400&lt;=z&lt;=0).  The mining panel
# sits between 0&lt;=x&lt;=150, and 0&lt;=y&lt;=1000, so this simulates
# a coal panel that is 300m wide and 1000m long.  The outer boundaries
# are 1km from the excavation boundaries.
#
# The excavation takes 0.5 years.
#
# The boundary conditions for this simulation are:
#  - disp_x = 0 at x=0 and x=1150
#  - disp_y = 0 at y=-1000 and y=1000
#  - disp_z = 0 at z=-400, but there is a time-dependent
#               Young modulus that simulates excavation
#  - wc_x = 0 at y=-1000 and y=1000
#  - wc_y = 0 at x=0 and x=1150
#  - no flow at x=0, z=-400 and z=0
#  - fixed porepressure at y=-1000, y=1000 and x=1150
# That is, rollers on the sides, free at top,
# and prescribed at bottom in the unexcavated portion.
#
# A single-phase unsaturated fluid is used.
#
# The small strain formulation is used.
#
# All stresses are measured in MPa, and time units are measured in years.
#
# The initial porepressure is hydrostatic with P=0 at z=0, so
# Porepressure ~ - 0.01*z MPa, where the fluid has density 1E3 kg/m^3 and
# gravity = = 10 m.s^-2 = 1E-5 MPa m^2/kg.
# To be more accurate, i use
# Porepressure = -bulk * log(1 + g*rho0*z/bulk)
# where bulk=2E3 MPa and rho0=1Ee kg/m^3.
# The initial stress is consistent with the weight force from undrained
# density 2500 kg/m^3, and fluid porepressure, and a Biot coefficient of 0.7, ie,
# stress_zz^effective = 0.025*z + 0.7 * initial_porepressure
# The maximum and minimum principal horizontal effective stresses are
# assumed to be equal to 0.8*stress_zz.
#
# Material properties:
# Young&#x27;s modulus = 8 GPa
# Poisson&#x27;s ratio = 0.25
# Cosserat layer thickness = 1 m
# Cosserat-joint normal stiffness = large
# Cosserat-joint shear stiffness = 1 GPa
# MC cohesion = 2 MPa
# MC friction angle = 35 deg
# MC dilation angle = 8 deg
# MC tensile strength = 1 MPa
# MC compressive strength = 100 MPa
# WeakPlane cohesion = 0.1 MPa
# WeakPlane friction angle = 30 deg
# WeakPlane dilation angle = 10 deg
# WeakPlane tensile strength = 0.1 MPa
# WeakPlane compressive strength = 100 MPa softening to 1 MPa at strain = 1
# Fluid density at zero porepressure = 1E3 kg/m^3
# Fluid bulk modulus = 2E3 MPa
# Fluid viscosity = 1.1E-3 Pa.s = 1.1E-9 MPa.s = 3.5E-17 MPa.year
#
[GlobalParams]
  perform_finite_strain_rotations = false
  displacements = &#x27;disp_x disp_y disp_z&#x27;
  Cosserat_rotations = &#x27;wc_x wc_y wc_z&#x27;
  PorousFlowDictator = dictator
  biot_coefficient = 0.7
[]

[Mesh]
  [file]
    type = FileMeshGenerator
    file = fine.e
  []
  [./xmin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmin
    normal = &#x27;-1 0 0&#x27;
    input = file
  [../]
  [./xmax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = xmax
    normal = &#x27;1 0 0&#x27;
    input = xmin
  [../]
  [./ymin]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymin
    normal = &#x27;0 -1 0&#x27;
    input = xmax
  [../]
  [./ymax]
    type = SideSetsAroundSubdomainGenerator
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    new_boundary = ymax
    normal = &#x27;0 1 0&#x27;
    input = ymin
  [../]
  [./zmax]
    type = SideSetsAroundSubdomainGenerator
    block = 30
    new_boundary = zmax
    normal = &#x27;0 0 1&#x27;
    input = ymax
  [../]
  [./zmin]
    type = SideSetsAroundSubdomainGenerator
    block = 2
    new_boundary = zmin
    normal = &#x27;0 0 -1&#x27;
    input = zmax
  [../]
  [./excav]
    type = SubdomainBoundingBoxGenerator
    input = zmin
    block_id = 1
    bottom_left = &#x27;0 0 -400&#x27;
    top_right = &#x27;150 1000 -397&#x27;
  [../]
  [./roof]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 3
    paired_block = 1
    input = excav
    new_boundary = roof
  [../]
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]
  [./disp_z]
  [../]
  [./wc_x]
  [../]
  [./wc_y]
  [../]
  [./porepressure]
    scaling = 1E-5
  [../]
[]

[ICs]
  [./porepressure]
    type = FunctionIC
    variable = porepressure
    function = ini_pp
  [../]
[]

[Kernels]
  [./cx_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./cy_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./cz_elastic]
    type = CosseratStressDivergenceTensors
    use_displaced_mesh = false
    variable = disp_z
    component = 2
  [../]
  [./x_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_x
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 0
    base_name = couple
  [../]
  [./y_couple]
    type = StressDivergenceTensors
    use_displaced_mesh = false
    variable = wc_y
    displacements = &#x27;wc_x wc_y wc_z&#x27;
    component = 1
    base_name = couple
  [../]
  [./x_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_x
    component = 0
  [../]
  [./y_moment]
    type = MomentBalancing
    use_displaced_mesh = false
    variable = wc_y
    component = 1
  [../]
  [./gravity]
    type = Gravity
    use_displaced_mesh = false
    variable = disp_z
    value = -10E-6 # remember this is in MPa
  [../]
  [./poro_x]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_x
    component = 0
  [../]
  [./poro_y]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    variable = disp_y
    component = 1
  [../]
  [./poro_z]
    type = PorousFlowEffectiveStressCoupling
    use_displaced_mesh = false
    component = 2
    variable = disp_z
  [../]
  [./poro_vol_exp]
    type = PorousFlowMassVolumetricExpansion
    use_displaced_mesh = false
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    variable = porepressure
    fluid_component = 0
  [../]
  [./mass0]
    type = PorousFlowMassTimeDerivative
    use_displaced_mesh = false
    fluid_component = 0
    variable = porepressure
  [../]
  [./flux]
    type = PorousFlowAdvectiveFlux
    use_displaced_mesh = false
    variable = porepressure
    gravity = &#x27;0 0 -10E-6&#x27;
    fluid_component = 0
  [../]
[]


[AuxVariables]
  [./saturation]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_x]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_y]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./darcy_z]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./porosity]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wc_z]
  [../]
  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_xz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_yz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./total_strain_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./perm_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./wp_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_shear_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./mc_tensile_f]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./saturation_water]
    type = PorousFlowPropertyAux
    variable = saturation
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./darcy_x]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_x
    gravity = &#x27;0 0 -10E-6&#x27;
    component = x
  [../]
  [./darcy_y]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_y
    gravity = &#x27;0 0 -10E-6&#x27;
    component = y
  [../]
  [./darcy_z]
    type = PorousFlowDarcyVelocityComponent
    variable = darcy_z
    gravity = &#x27;0 0 -10E-6&#x27;
    component = z
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    property = porosity
    variable = porosity
    execute_on = timestep_end
  [../]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_xz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_yx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_yz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./stress_zx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./stress_zy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_xx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xx
    index_i = 0
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_xy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xy
    index_i = 0
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_xz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_xz
    index_i = 0
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_yx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yx
    index_i = 1
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_yy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yy
    index_i = 1
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_yz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_yz
    index_i = 1
    index_j = 2
    execute_on = timestep_end
  [../]
  [./total_strain_zx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zx
    index_i = 2
    index_j = 0
    execute_on = timestep_end
  [../]
  [./total_strain_zy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zy
    index_i = 2
    index_j = 1
    execute_on = timestep_end
  [../]
  [./total_strain_zz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = total_strain_zz
    index_i = 2
    index_j = 2
    execute_on = timestep_end
  [../]
  [./perm_xx]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_xx
    row = 0
    column = 0
    execute_on = timestep_end
  [../]
  [./perm_yy]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_yy
    row = 1
    column = 1
    execute_on = timestep_end
  [../]
  [./perm_zz]
    type = PorousFlowPropertyAux
    property = permeability
    variable = perm_zz
    row = 2
    column = 2
    execute_on = timestep_end
  [../]
  [./mc_shear]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_internal_parameter
    variable = mc_shear
    execute_on = timestep_end
  [../]
  [./mc_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = mc_plastic_internal_parameter
    variable = mc_tensile
    execute_on = timestep_end
  [../]
  [./wp_shear]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_internal_parameter
    variable = wp_shear
    execute_on = timestep_end
  [../]
  [./wp_tensile]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_internal_parameter
    variable = wp_tensile
    execute_on = timestep_end
  [../]
  [./mc_shear_f]
    type = MaterialStdVectorAux
    index = 6
    property = mc_plastic_yield_function
    variable = mc_shear_f
    execute_on = timestep_end
  [../]
  [./mc_tensile_f]
    type = MaterialStdVectorAux
    index = 0
    property = mc_plastic_yield_function
    variable = mc_tensile_f
    execute_on = timestep_end
  [../]
  [./wp_shear_f]
    type = MaterialStdVectorAux
    index = 0
    property = wp_plastic_yield_function
    variable = wp_shear_f
    execute_on = timestep_end
  [../]
  [./wp_tensile_f]
    type = MaterialStdVectorAux
    index = 1
    property = wp_plastic_yield_function
    variable = wp_tensile_f
    execute_on = timestep_end
  [../]
[]



[BCs]
  [./no_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./no_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_z]
    type = DirichletBC
    variable = disp_z
    boundary = zmin
    value = 0.0
  [../]
  [./no_wc_x]
    type = DirichletBC
    variable = wc_x
    boundary = &#x27;ymin ymax&#x27;
    value = 0.0
  [../]
  [./no_wc_y]
    type = DirichletBC
    variable = wc_y
    boundary = &#x27;xmin xmax&#x27;
    value = 0.0
  [../]
  [./fix_porepressure]
    type = FunctionDirichletBC
    variable = porepressure
    boundary = &#x27;ymin ymax xmax&#x27;
    function = ini_pp
  [../]
  [./roof_porepressure]
    type = PorousFlowPiecewiseLinearSink
    variable = porepressure
    pt_vals = &#x27;-1E3 1E3&#x27;
    multipliers = &#x27;-1 1&#x27;
    fluid_phase = 0
    flux_function = roof_conductance
    boundary = roof
  [../]
  [./roof]
    type = StickyBC
    variable = disp_z
    min_value = -3.0
    boundary = roof
  [../]
[]

[Functions]
  [./ini_pp]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3&#x27;
    value = &#x27;-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)&#x27;
  [../]
  [./ini_xx]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;0.8*(2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk)))&#x27;
  [../]
  [./ini_zz]
    type = ParsedFunction
    vars = &#x27;bulk p0 g    rho0 biot&#x27;
    vals = &#x27;2E3 0.0 1E-5 1E3  0.7&#x27;
    value = &#x27;2500*10E-6*z+biot*(-bulk*log(exp(-p0/bulk)+g*rho0*z/bulk))&#x27;
  [../]
  [./excav_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval slope&#x27;
    vals = &#x27;0.5   0    1000.0 1E-9 1 10&#x27;
    # excavation face at ymin+(ymax-ymin)*min(t/end_t,1)
    # slope is the distance over which the modulus reduces from maxval to minval
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1)+slope,minval+(maxval-minval)*(y-(ymin+(ymax-ymin)*min(t/end_t,1)))/slope,maxval))&#x27;
  [../]
  [./density_sideways]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax  minval maxval&#x27;
    vals = &#x27;0.5   0    1000.0 0 2500&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),minval,maxval)&#x27;
  [../]
  [./roof_conductance]
    type = ParsedFunction
    vars = &#x27;end_t ymin ymax   maxval minval&#x27;
    vals = &#x27;0.5   0    1000.0 1E7      0&#x27;
    value = &#x27;if(y&lt;ymin+(ymax-ymin)*min(t/end_t,1),maxval,minval)&#x27;
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;porepressure disp_x disp_y disp_z&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1 # MPa^-1
  [../]

  [./mc_coh_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.99 # MPa
    value_residual = 2.01 # MPa
    rate = 1.0
  [../]
  [./mc_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.61 # 35deg
  [../]
  [./mc_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.15 # 8deg
  [../]

  [./mc_tensile_str_strong_harden]
    type = TensorMechanicsHardeningExponential
    value_0 = 1.0 # MPa
    value_residual = 1.0 # MPa
    rate = 1.0
  [../]
  [./mc_compressive_str]
    type = TensorMechanicsHardeningCubic
    value_0 = 100 # Large!
    value_residual = 100
    internal_limit = 0.1
  [../]

  [./wp_coh_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_tan_fric]
    type = TensorMechanicsHardeningConstant
    value = 0.26 # 15deg
  [../]
  [./wp_tan_dil]
    type = TensorMechanicsHardeningConstant
    value = 0.18 # 10deg
  [../]

  [./wp_tensile_str_harden]
    type = TensorMechanicsHardeningCubic
    value_0 = 0.05
    value_residual = 0.05
    internal_limit = 10
  [../]
  [./wp_compressive_str_soften]
    type = TensorMechanicsHardeningCubic
    value_0 = 100
    value_residual = 1
    internal_limit = 1.0
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E3
      density0 = 1000
      thermal_expansion = 0
      viscosity = 3.5E-17
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./eff_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./vol_strain]
    type = PorousFlowVolumetricStrain
  [../]
  [./ppss]
    type = PorousFlow1PhaseP
    porepressure = porepressure
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity_for_aux]
    type = PorousFlowPorosity
    at_nodes = false
    fluid = true
    mechanical = true
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_bulk]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    ensure_positive = true
    porosity_zero = 0.02
    solid_bulk = 5.3333E3
  [../]
  [./porosity_excav]
    type = PorousFlowPorosityConst
    block = 1
    porosity = 1.0
  [../]
  [./permeability_bulk]
    type = PorousFlowPermeabilityKozenyCarman
    block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    poroperm_function = kozeny_carman_phi0
    k0 = 1E-15
    phi0 = 0.02
    n = 2
    m = 2
  [../]
  [./permeability_excav]
    type = PorousFlowPermeabilityConst
    block = 1
    permeability = &#x27;0 0 0   0 0 0   0 0 0&#x27;
  [../]
  [./relperm]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.4
    sum_s_res = 0.4
    phase = 0
  [../]

  [./elasticity_tensor_0]
    type = ComputeLayeredCosseratElasticityTensor
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
  [../]
  [./elasticity_tensor_1]
    type = ComputeLayeredCosseratElasticityTensor
    block = 1
    young = 8E3 # MPa
    poisson = 0.25
    layer_thickness = 1.0
    joint_normal_stiffness = 1E9 # huge
    joint_shear_stiffness = 1E3 # MPa
    elasticity_tensor_prefactor = excav_sideways
  [../]
  [./strain]
    type = ComputeCosseratIncrementalSmallStrain
    eigenstrain_names = ini_stress
  [../]
  [./ini_stress]
    type = ComputeEigenstrainFromInitialStress
    eigenstrain_name = ini_stress
    initial_stress = &#x27;ini_xx 0 0  0 ini_xx 0  0 0 ini_zz&#x27;
  [../]

  [./stress_0]
    type = ComputeMultipleInelasticCosseratStress
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    inelastic_models = &#x27;mc wp&#x27;
    cycle_models = true
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./stress_1]
    type = ComputeMultipleInelasticCosseratStress
    block = 1
    inelastic_models = &#x27;&#x27;
    relative_tolerance = 2.0
    absolute_tolerance = 1E6
    max_iterations = 1
    tangent_operator = nonlinear
    perform_finite_strain_rotations = false
  [../]
  [./mc]
    type = CappedMohrCoulombCosseratStressUpdate
    warn_about_precision_loss = false
    host_youngs_modulus = 8E3
    host_poissons_ratio = 0.25
    base_name = mc
    tensile_strength = mc_tensile_str_strong_harden
    compressive_strength = mc_compressive_str
    cohesion = mc_coh_strong_harden
    friction_angle = mc_fric
    dilation_angle = mc_dil
    max_NR_iterations = 100000
    smoothing_tol = 0.1 # MPa  # Must be linked to cohesion
    yield_function_tol = 1E-9 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0
  [../]
  [./wp]
    type = CappedWeakPlaneCosseratStressUpdate
    warn_about_precision_loss = false
    base_name = wp
    cohesion = wp_coh_harden
    tan_friction_angle = wp_tan_fric
    tan_dilation_angle = wp_tan_dil
    tensile_strength = wp_tensile_str_harden
    compressive_strength = wp_compressive_str_soften
    max_NR_iterations = 10000
    tip_smoother = 0.05
    smoothing_tol = 0.05 # MPa  # Note, this must be tied to cohesion, otherwise get no possible return at cone apex
    yield_function_tol = 1E-11 # MPa.  this is essentially the lowest possible without lots of precision loss
    perfect_guess = true
    min_step_size = 1.0E-3
  [../]


  [./undrained_density_0]
    type = GenericConstantMaterial
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    prop_names = density
    prop_values = 2500
  [../]
  [./undrained_density_1]
    type = GenericFunctionMaterial
    block = 1
    prop_names = density
    prop_values = density_sideways
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [./min_roof_disp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = disp_z
  [../]
  [./min_roof_pp]
    type = NodalExtremeValue
    boundary = roof
    value_type = min
    variable = porepressure
  [../]
  [./min_surface_disp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = disp_z
  [../]
  [./min_surface_pp]
    type = NodalExtremeValue
    boundary = zmax
    value_type = min
    variable = porepressure
  [../]
  [./max_perm_zz]
    type = ElementExtremeValue
     block = &#x27;2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30&#x27;
    variable = perm_zz
  [../]
[]

[Executioner]
  type = Transient

  solve_type = &#x27;NEWTON&#x27;

  petsc_options = &#x27;-snes_converged_reason&#x27;

  # best overall
  petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
  petsc_options_value = &#x27; lu       mumps&#x27;

  # best if you don&#x27;t have mumps:
  #petsc_options_iname = &#x27;-pc_type -pc_asm_overlap -sub_pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; asm      2              lu            gmres     200&#x27;

  # very basic:
  #petsc_options_iname = &#x27;-pc_type -ksp_type -ksp_gmres_restart&#x27;
  #petsc_options_value = &#x27; bjacobi  gmres     200&#x27;

  line_search = bt

  nl_abs_tol = 1e-3
  nl_rel_tol = 1e-5

  l_max_its = 200
  nl_max_its = 30

  start_time = 0.0
  dt = 0.0025
  end_time = 0.5
[]

[Outputs]
  interval = 1
  print_linear_residuals = true
  exodus = true
  csv = true
  console = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1fbf8aad-1537-4baa-a133-3bf83b0381f8"><div class="modal-content"><h4>test/tests/userobjects/setup_interface_count/nodal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./right_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./initial] # 1 per simulation
    type = NodalSetupInterfaceCount
    count_type = &#x27;initial&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./timestep] # once per timestep
    type = NodalSetupInterfaceCount
    count_type = &#x27;timestep&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./subdomain] # 0, not execute for this type of object
    type = NodalSetupInterfaceCount
    count_type = &#x27;subdomain&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./initialize] # 1 for initial and 2 for each timestep
    type = NodalSetupInterfaceCount
    count_type = &#x27;initialize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./finalize] # 1 for initial and 2 for each timestep
    type = NodalSetupInterfaceCount
    count_type = &#x27;finalize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./execute] # 6 for initial and 12 for each timestep (3 nodes on two boundaries)
    type = NodalSetupInterfaceCount
    count_type = &#x27;execute&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./threadjoin] # 1 for initial and 2 for each timestep
    type = NodalSetupInterfaceCount
    count_type = &#x27;threadjoin&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="dbada2cc-6161-4357-8da9-8471fdcfeeb9"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/05_tabulated.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow with heat advection and conduction, using Water97 properties
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
    initial_condition = 1E6
  [../]
  [./temperature]
    initial_condition = 313
    scaling = 1E-8
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  temperature = temperature
  coupling_type = ThermoHydro
  gravity = &#x27;0 0 0&#x27;
  fp = tabulated_water
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 2E6
    boundary = injection_area
  [../]
  [./constant_injection_temperature]
    type = DirichletBC
    variable = temperature
    value = 333
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./true_water]
      type = Water97FluidProperties
    [../]
    [./tabulated_water]
      type = TabulatedFluidProperties
      fp = true_water
      temperature_min = 275
      interpolated_properties = &#x27;density viscosity enthalpy internal_energy&#x27;
      fluid_property_file = water97_tabulated.csv
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2E-7
    fluid_bulk_modulus = 1E7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]

  [./thermal_expansion]
    type = PorousFlowConstantThermalExpansionCoefficient
    biot_coefficient = 0.8
    drained_coefficient = 0.003
    fluid_coefficient = 0.0002
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    density = 2500.0
    specific_heat_capacity = 1200.0
  [../]
  [./thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;10 0 0  0 10 0  0 0 10&#x27;
    block = &#x27;caps aquifer&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-10
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d8678a55-561b-4e13-abac-98aed607cf6f"><div class="modal-content"><h4>test/tests/vectorpostprocessors/element_id_counters/internal_side_element_counter.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    extra_element_integers = foo_id
  []

  [id0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
    top_right = &#x27;1 1 0&#x27;
    integer_name = foo_id
  []

  [id1]
    type = SubdomainBoundingBoxGenerator
    input = id0
    bottom_left = &#x27;0.4 0.4 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    integer_name = foo_id
  []

  [id2]
    type = SubdomainBoundingBoxGenerator
    input = id1
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 2
    top_right = &#x27;0.6 0.6 0&#x27;
    integer_name = foo_id
  []

  [subdomain]
    type = SubdomainBoundingBoxGenerator
    input = id2
    bottom_left = &#x27;0 0.6 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  []
[]

[VectorPostprocessors]
  [elem_counter]
    type = InternalSideElementCounterWithID
    id_name = foo_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = &#x27;timestep_end&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a42f2110-37dd-4552-b2a5-e9fe4439cb71"><div class="modal-content"><h4>test/tests/misc/block_user_object_check/block_check.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 5
  [../]
  [./left_block]
    type = SubdomainBoundingBoxGenerator
    input = generator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
  [../]
  [./right_block]
    type = SubdomainBoundingBoxGenerator
    input = left_block
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  [../]
[]

[Variables]
  [./var_1]
    block = 1
    initial_condition = 100
  [../]
  [./var_2]
    block = 2
    initial_condition = 200
  [../]
[]

[Problem]
  type = FEProblem
  kernel_coverage_check = true
  solve = false
[]

[Executioner]
  type = Steady
[]

[Postprocessors]
  [./obj]
    type = NodalMaxValue
    variable = var_1
    #block = 1 # this is what being tested, see the test spec
    execute_on = &#x27;initial&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5d08673d-1fd4-4473-9ce9-5cc472b75f9e"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/master_power_density.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = 1
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[AuxVariables]
  [from_sub]
  []
[]

[Postprocessors]
  [pwr0]
    type = ElementIntegralVariablePostprocessor
    block = 0
    variable = power_density
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [pwr1]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = power_density
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_sub0]
    type = ElementIntegralVariablePostprocessor
    block = 0
    variable = from_sub
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_sub1]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = from_sub
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    input_files = sub_power_density.i
    positions = &#x27;0 0 0 0.5 0 0&#x27;
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = from_master
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # N pps are specified on the master side, where N is the number of subapps
    # 1 pp is specified on the subapp side
    from_postprocessors_to_be_preserved = &#x27;pwr0 pwr1&#x27;
    to_postprocessors_to_be_preserved = &#x27;from_master_pp&#x27;
  []

  [from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = sink
    variable = from_sub
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # N pps are specified on the master side, where N is the number of subapps
    # 1 pp is specified on the subapp side
    to_postprocessors_to_be_preserved = &#x27;from_sub0 from_sub1&#x27;
    from_postprocessors_to_be_preserved = &#x27;sink&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e307e70b-0281-445b-b64b-0806a40126f5"><div class="modal-content"><h4>test/tests/userobjects/setup_interface_count/side.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./right_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 1
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = CoefDiffusion
    variable = u
    coef = 0.1
  [../]
  [./time]
    type = TimeDerivative
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Postprocessors]
  [./initial] # 1 per simulation
    type = SideSetupInterfaceCount
    count_type = &#x27;initial&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./timestep] # once per timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;timestep&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./subdomain] # 1 on initial and  for each timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;subdomain&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./initialize] # 1 for initial and 2 for each timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;initialize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./finalize] # 1 for initial and 2 for each timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;finalize&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./execute] # 4 for initial and 8 for each timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;execute&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
  [./threadjoin] # 1 for initial and 2 for each timestep
    type = SideSetupInterfaceCount
    count_type = &#x27;threadjoin&#x27;
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
    boundary = &#x27;1 2&#x27;
  [../]
[]

[Outputs]
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="539cec4a-4022-4d88-b237-a9b3575b4981"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/ad_action/two_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  [./block1]
    strain = FINITE
    add_variables = true
    #block = 1
    use_automatic_differentiation = true
  [../]
  [./block2]
    strain = SMALL
    add_variables = true
    block = 2
    use_automatic_differentiation = true
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = ADRankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = ADRankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ADComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ADComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ADComputeLinearElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Preconditioning]
  [./full]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b357b7b8-f498-4035-8c1d-891a5d1977bb"><div class="modal-content"><h4>test/tests/kernels/array_kernels/standard_save_in.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0.5 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [u_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_1]
    order = FIRST
    family = L2_LAGRANGE
  []
[]

[AuxVariables]
  [u_diff_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_diff_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_vacuum_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_vacuum_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_dg_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_dg_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []

  [u_diff_diag_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_diff_diag_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_vacuum_diag_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_vacuum_diag_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_dg_diag_save_in_0]
    order = FIRST
    family = L2_LAGRANGE
  []
  [u_dg_diag_save_in_1]
    order = FIRST
    family = L2_LAGRANGE
  []
[]

[Kernels]
  [diff0]
    type = MatCoefDiffusion
    variable = u_0
    conductivity = dc
    save_in = u_diff_save_in_0
    diag_save_in = u_diff_diag_save_in_0
  []
  [diff1]
    type = Diffusion
    variable = u_1
    save_in = u_diff_save_in_1
    diag_save_in = u_diff_diag_save_in_1
  []
  [reaction0]
    type = CoefReaction
    variable = u_0
  []
  [reaction1]
    type = CoefReaction
    variable = u_1
  []
  [reaction01]
    type = CoupledForce
    variable = u_1
    v = u_0
    coef = 0.1
  []
[]

[DGKernels]
  [dgdiff0]
    type = DGDiffusion
    variable = u_0
    diff = dc
    sigma = 4
    epsilon = 1
    save_in = u_dg_save_in_0
    diag_save_in = u_dg_diag_save_in_0
  []
  [dgdiff1]
    type = DGDiffusion
    variable = u_1
    sigma = 4
    epsilon = 1
    save_in = u_dg_save_in_1
    diag_save_in = u_dg_diag_save_in_1
  []
[]

[BCs]
  [left0]
    type = VacuumBC
    variable = u_0
    boundary = 1
    save_in = u_vacuum_save_in_0
    diag_save_in = u_vacuum_diag_save_in_0
  []
  [left1]
    type = VacuumBC
    variable = u_1
    boundary = 1
    save_in = u_vacuum_save_in_1
    diag_save_in = u_vacuum_diag_save_in_1
  []

  [right0]
    type = PenaltyDirichletBC
    variable = u_0
    boundary = 2
    value = 1
    penalty = 4
  []
  [right1]
    type = PenaltyDirichletBC
    variable = u_1
    boundary = 2
    value = 2
    penalty = 4
  []
[]

[Materials]
  [dc0]
    type = GenericConstantMaterial
    block = 0
    prop_names = dc
    prop_values = 1
  []
  [dc1]
    type = GenericConstantMaterial
    block = 1
    prop_names = dc
    prop_values = 2
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [intu0]
    type = ElementIntegralVariablePostprocessor
    variable = u_0
  []
  [intu1]
    type = ElementIntegralVariablePostprocessor
    variable = u_1
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Outputs]
  file_base = array_save_in_out
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f8357cfc-5e25-44a9-a7e8-f67d72eaa428"><div class="modal-content"><h4>modules/phase_field/examples/interfacekernels/interface_fluxbc.i</h4><pre class="moose-pre"><code class="language-text">#
# This test demonstrates an InterfaceKernel (InterfaceDiffusionFlux) that can
# replace a pair of integrated DiffusionFluxBC boundary conditions.
#
# The AuxVariable &#x27;diff&#x27; shows the difference between the BC and the InterfaceKernel
# approach.
#

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 50
    ny = 50
  []
  [./box1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.51 1 0&#x27;
  [../]
  [./box2]
    input = box1
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.49 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  [../]
  [./iface_u]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
    input = box2
  [../]
  [./iface_v]
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 2
    paired_block = 1
    new_boundary = 11
    input = iface_u
  [../]
[]

[Variables]
  [./u1]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v1]
    block = 2
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.7)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./u2]
    block = 1
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.4)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
  [./v2]
    block = 2
    [./InitialCondition]
      type = FunctionIC
      function = &#x27;r:=sqrt((x-0.7)^2+(y-0.5)^2);if(r&lt;0.05,5,1)&#x27;
    [../]
  [../]
[]

[Kernels]
  [./u1_diff]
    type = Diffusion
    variable = u1
    block = 1
  [../]
  [./u1_dt]
    type = TimeDerivative
    variable = u1
    block = 1
  [../]
  [./v1_diff]
    type = Diffusion
    variable = v1
    block = 2
  [../]
  [./v1_dt]
    type = TimeDerivative
    variable = v1
    block = 2
  [../]

  [./u2_diff]
    type = Diffusion
    variable = u2
    block = 1
  [../]
  [./u2_dt]
    type = TimeDerivative
    variable = u2
    block = 1
  [../]
  [./v2_diff]
    type = Diffusion
    variable = v2
    block = 2
  [../]
  [./v2_dt]
    type = TimeDerivative
    variable = v2
    block = 2
  [../]
[]

[AuxVariables]
  [./diff]
  [../]
[]

[AuxKernels]
  [./u_side]
    type = ParsedAux
    variable = diff
    block = 1
    args = &#x27;u1 u2&#x27;
    function = &#x27;u1 - u2&#x27;
  [../]
  [./v_side]
    type = ParsedAux
    variable = diff
    block = 2
    args = &#x27;v1 v2&#x27;
    function = &#x27;v1 - v2&#x27;
  [../]
[]

[InterfaceKernels]
  [./iface]
    type = InterfaceDiffusionBoundaryTerm
    boundary = 10
    variable = u2
    neighbor_var = v2
  [../]
[]

[BCs]
  [./u_boundary_term]
    type = DiffusionFluxBC
    variable = u1
    boundary = 10
  [../]
  [./v_boundary_term]
    type = DiffusionFluxBC
    variable = v1
    boundary = 11
  [../]
[]

[Executioner]
  type = Transient
  dt = 0.001
  num_steps = 20
[]

[Outputs]
  exodus = true
  print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="294df260-33fc-4150-b405-2aea14e642cb"><div class="modal-content"><h4>test/tests/materials/interface_material/interface_value_material_split_mesh_stateful.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD4
  []
  [./subdomain_id]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1 0 0&#x27;
    top_right = &#x27;2 2 0&#x27;
    block_id = 1
  [../]
  [./split]
    type = BreakMeshByBlockGenerator
    input = subdomain_id
  [../]
[]



[Variables]
  [./u]
    block = 0
  [../]
  [./v]
    block = 1
  [../]
[]


[Kernels]
  [./diff]
    type = MatDiffusion
    variable = u
    diffusivity = &#x27;diffusivity&#x27;
    block = 0
  [../]

  [./diff_v]
    type = MatDiffusion
    variable = v
    diffusivity = &#x27;diffusivity&#x27;
    block = 1
  [../]
[]

[InterfaceKernels]
  [tied]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    penalty = 1e6
    jump_prop_name = &quot;average_jump&quot;
    boundary = &#x27;interface&#x27;
  []
[]

[BCs]
  [u_left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = u
    value = 1
  []
  [v_right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = v
    value = 0
  []
[]

[Materials]
  [./stateful1]
    type = StatefulMaterial
    block = 0
    initial_diffusivity = 1
    # outputs = all
  [../]
  [./stateful2]
    type = StatefulMaterial
    block = 1
    initial_diffusivity = 2
    # outputs = all
  [../]
  [./interface_material_avg]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = average
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_primary_minus_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_primary_minus_secondary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_secondary_minus_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_secondary_minus_primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_jump_abs]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = jump_abs
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_primary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      boundary = interface
      interface_value_type = primary
      mat_prop_var_out_basename = diff_var
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
  [./interface_material_secondary]
      type = InterfaceValueMaterial
      mat_prop_primary = diffusivity
      mat_prop_secondary = diffusivity
      var_primary = diffusivity_var
      var_secondary = diffusivity_var
      mat_prop_out_basename = diff
      mat_prop_var_out_basename = diff_var
      boundary = interface
      interface_value_type = secondary
      nl_var_primary = u
      nl_var_secondary = v
      couple_old_values_and_properties = true
  [../]
[]

[AuxKernels]
  [./interface_material_avg]
    type = MaterialRealAux
    property = diff_average
    variable = diffusivity_average
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary
    variable = diffusivity_jump_primary_minus_secondary
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary
    variable = diffusivity_jump_secondary_minus_primary
    boundary = interface
  []
  [./interface_material_jump_abs]
    type = MaterialRealAux
    property = diff_jump_abs
    variable = diffusivity_jump_abs
    boundary = interface
  []
  [./interface_material_primary]
    type = MaterialRealAux
    property = diff_primary
    variable = diffusivity_primary
    boundary = interface
  []
  [./interface_material_secondary]
    type = MaterialRealAux
    property = diff_secondary
    variable = diffusivity_secondary
    boundary = interface
  []
  [./interface_material_avg_prev]
    type = MaterialRealAux
    property = diff_average_prev
    variable = diffusivity_average_prev
    boundary = interface
  []
  [./interface_material_jump_primary_minus_secondary_prev]
    type = MaterialRealAux
    property = diff_jump_primary_minus_secondary_prev
    variable = diffusivity_jump_primary_minus_secondary_prev
    boundary = interface
  []
  [./interface_material_jump_secondary_minus_primary_prev]
    type = MaterialRealAux
    property = diff_jump_secondary_minus_primary_prev
    variable = diffusivity_jump_secondary_minus_primary_prev
    boundary = interface
  []
  [./interface_material_jump_abs_prev]
    type = MaterialRealAux
    property = diff_jump_abs_prev
    variable = diffusivity_jump_abs_prev
    boundary = interface
  []
  [./interface_material_primary_prev]
    type = MaterialRealAux
    property = diff_primary_prev
    variable = diffusivity_primary_prev
    boundary = interface
  []
  [./interface_material_secondary_prev]
    type = MaterialRealAux
    property = diff_secondary_prev
    variable = diffusivity_secondary_prev
    boundary = interface
  []
  [diffusivity_var]
    type = MaterialRealAux
    property = diffusivity
    variable = diffusivity_var
  []
[]

[AuxVariables]
  [diffusivity_var]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_average_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_primary_minus_secondary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_secondary_minus_primary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_jump_abs_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_primary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
  [./diffusivity_secondary_prev]
    family = MONOMIAL
    order = CONSTANT
  []
[]


[Executioner]
  type = Transient
  solve_type = NEWTON
  num_steps = 3
  dt = 0.5
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48f2f979-0ecd-45e3-94b1-42cb445a945e"><div class="modal-content"><h4>python/chigger/tests/input/block_vars.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = MeshGeneratorMesh
[]

[MeshGenerators]
  [generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
  []
  [subdomain1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  []
[]

[Variables]
  [right_elemental]
    block = 1
    family = MONOMIAL
    order = CONSTANT
  []
  [right_nodal]
    block = 1
  []
[]

[ICs]
  [right_elemental]
    type = FunctionIC
    variable = right_elemental
    function = 2*y
  []
  [right_nodal]
    type = FunctionIC
    variable = right_nodal
    function = 3*y
  []
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8c751e83-056a-4e08-9632-a9455d00ff3c"><div class="modal-content"><h4>test/tests/vectorpostprocessors/element_id_counters/element_counter.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 10
    xmax = 1
    ymax = 1
    extra_element_integers = foo_id
  []

  [subdomain0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 0
    top_right = &#x27;1 1 0&#x27;
    integer_name = foo_id
  []

  [subdomain1]
    type = SubdomainBoundingBoxGenerator
    input = subdomain0
    bottom_left = &#x27;0.4 0.4 0&#x27;
    block_id = 1
    top_right = &#x27;0.9 0.9 0&#x27;
    integer_name = foo_id
  []

  [subdomain2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain1
    bottom_left = &#x27;0.1 0.1 0&#x27;
    block_id = 2
    top_right = &#x27;0.6 0.6 0&#x27;
    integer_name = foo_id
  []
[]

[VectorPostprocessors]
  [elem_counter]
    type = ElementCounterWithID
    id_name = foo_id
  []
  [elem_counter_subdomain]
    type = ElementCounterWithID
    id_name = subdomain_id
  []
[]

[Problem]
  kernel_coverage_check = false
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = &#x27;timestep_end&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="af746dab-95b4-4680-9047-91044a817973"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/08_KT.i</h4><pre class="moose-pre"><code class="language-text"># Unsaturated Darcy-Richards flow
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    input = annular
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
[]

[PorousFlowUnsaturated]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
  relative_permeability_exponent = 3
  relative_permeability_type = Corey
  residual_saturation = 0.1
  van_genuchten_alpha = 1E-6
  van_genuchten_m = 0.6
  stabilization = KT
  flux_limiter_type = None
[]

[BCs]
  [./production]
    type = PorousFlowSink
    variable = porepressure
    fluid_phase = 0
    flux_function = 1E-2
    use_relperm = true
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E5
  dt = 1E5
  nl_rel_tol = 1E-14
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="ad9f7822-64e3-4b40-b532-75f6968a3dcc"><div class="modal-content"><h4>test/tests/interfacekernels/2d_interface/vector_2d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    elem_type = QUAD9
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./break_boundary]
    type = BreakBoundaryOnSubdomainGenerator
    input = subdomain1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = break_boundary
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = NEDELEC_ONE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = NEDELEC_ONE
    block = 1
  [../]
[]

[Kernels]
  [./curl_u_plus_u]
    type = VectorFEWave
    variable = u
    x_forcing_func = 1
    y_forcing_func = 1
    z_forcing_func = 1
    block = 0
  [../]
  [./curl_v_plus_v]
    type = VectorFEWave
    variable = v
    block = 1
  [../]
[]

[InterfaceKernels]
  [./parallel]
    type = VectorPenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  # Natural condition of VectorFEWave weak form is curl(u) = 0, curl(v) = 0
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c257390a-9971-4048-8294-195067ed5548"><div class="modal-content"><h4>test/tests/auxkernels/mesh_integer/mesh_integer.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = MeshGeneratorMesh

  [gmg]
    type = GeneratedMeshGenerator
    dim = 2
    xmin = 0
    xmax = 1
    ymin = 0
    ymax = 1
    nx = 5
    ny = 5
    extra_element_integers = &#x27;material_id&#x27;
  []
  [set_material_id0]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.8 0.6 0&#x27;
    block_id = 0
    location = INSIDE
    integer_name = material_id
  []
  [set_material_id1]
    type = SubdomainBoundingBoxGenerator
    input = set_material_id0
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.8 0.6 0&#x27;
    block_id = 1
    location = OUTSIDE
    integer_name = material_id
  []
[]

[Variables]
  [u][]
[]

[Kernels]
  [diff]
    type = MatDiffusion
    variable = u
    diffusivity = dc
  []
  [timederivative]
    type = TimeDerivative
    variable = u
  []
  [sourceterm]
    type = BodyForce
    variable = u
    function = 1
  []
[]

[AuxVariables]
  [id]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [id]
    type = ElementIntegerAux
    variable = id
    integer_names = material_id
  []
[]

[BCs]
  [vacuum]
    type = VacuumBC
    variable = u
    boundary = &#x27;right left top bottom&#x27;
 []
[]

[Materials]
  [dc]
    type = ConstantIDMaterial
    prop_name = dc
    prop_values = &#x27;1 2&#x27;
    id_name = material_id
  []
[]

[Postprocessors]
  [unorm]
    type = ElementL2Norm
    variable = u
  []
[]

[Executioner]
  type = Transient

  end_time = 0.1
  dt = 0.01
  nl_abs_tol = 1.e-15
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="033a2ea6-294f-49b1-b026-48873d4e0e63"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./SubdomainBoundingBox]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;3 3 3&#x27;
  [../]

  [./ed0]
    type = BlockDeletionGenerator
    input = SubdomainBoundingBox
    block_id = 1
  [../]

[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3f907cd2-1824-4122-8138-a2dea49a0aca"><div class="modal-content"><h4>test/tests/dgkernels/dg_block_restrict/2d_dg_diffusion_block_restrict.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = 2
    nx = 10
    ymax = 2
    ny = 10
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    block_id = 1
    top_right = &#x27;1 1 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
  [../]
  [./boundaries]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
    boundaries = &#x27;left bottom&#x27;
  [../]
[]

[Problem]
  kernel_coverage_check = false
[]

[Variables]
  [./u]
    order = FIRST
    family = L2_LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./source]
    type = BodyForce
    variable = u
  [../]
[]

[DGKernels]
  [./dg_diffusion]
    type = DGDiffusion
    variable = u
    sigma = 4
    epsilon = 1
  [../]
[]

[BCs]
  [./vacuum]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
  [./primary1_inteface]
    type = VacuumBC
    variable = u
    boundary = &#x27;primary1_interface&#x27;
  [../]
[]

[Postprocessors]
  [./norm]
    type = ElementL2Norm
    variable = u
    block = 1
  [../]
[]

[Executioner]
  type = Steady
  nl_abs_tol = 1e-12
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3176ef48-b7a6-4111-a941-574657ed123c"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/01.i</h4><pre class="moose-pre"><code class="language-text"># Darcy flow
[Mesh]
  [annular]
    type = AnnularMeshGenerator
    nr = 10
    rmin = 1.0
    rmax = 10
    growth_r = 1.4
    nt = 4
    dmin = 0
    dmax = 90
  []
  [./make3D]
    type = MeshExtruderGenerator
    extrusion_vector = &#x27;0 0 12&#x27;
    num_layers = 3
    bottom_sideset = &#x27;bottom&#x27;
    top_sideset = &#x27;top&#x27;
    input = annular
  [../]
  [./shift_down]
    type = TransformGenerator
    transform = TRANSLATE
    vector_value = &#x27;0 0 -6&#x27;
    input = make3D
  [../]
  [./aquifer]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 -2&#x27;
    top_right = &#x27;10 10 2&#x27;
    input = shift_down
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x*x+y*y&lt;1.01&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./porepressure]
  [../]
[]

[PorousFlowBasicTHM]
  porepressure = porepressure
  coupling_type = Hydro
  gravity = &#x27;0 0 0&#x27;
  fp = the_simple_fluid
[]

[BCs]
  [./constant_injection_porepressure]
    type = DirichletBC
    variable = porepressure
    value = 1E6
    boundary = injection_area
  [../]
[]

[Modules]
  [./FluidProperties]
    [./the_simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2E9
      viscosity = 1.0E-3
      density0 = 1000.0
    [../]
  [../]
[]

[Materials]
  [./porosity]
    type = PorousFlowPorosity
    porosity_zero = 0.1
  [../]
  [./biot_modulus]
    type = PorousFlowConstantBiotModulus
    biot_coefficient = 0.8
    solid_bulk_compliance = 2E-7
    fluid_bulk_modulus = 1E7
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityConst
    block = aquifer
    permeability = &#x27;1E-14 0 0   0 1E-14 0   0 0 1E-14&#x27;
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityConst
    block = caps
    permeability = &#x27;1E-15 0 0   0 1E-15 0   0 0 1E-16&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E6
  dt = 1E5
  nl_abs_tol = 1E-13
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="57e97537-4a2a-486c-8f54-4f745b62bba4"><div class="modal-content"><h4>test/tests/transfers/multiapp_userobject_transfer/two_pipe_master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    xmin = 0
    xmax = 5
    nx = 5

    ymin = 0
    ymax = 5
    ny = 5

    zmin = 0
    zmax = 5
    nz = 5
  []
  [./blocks]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;1 1 0&#x27;
    top_right = &#x27;4 4 5&#x27;
  [../]
[]

[AuxVariables]
  [./from_sub_app_var]
    order = CONSTANT
    family = MONOMIAL
    block = 1
    initial_condition = 0
  [../]
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
  [td]
    type = TimeDerivative
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = front
    value = -1
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = back
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 2
  dt = 5

  solve_type = &#x27;NEWTON&#x27;
  l_tol = 1e-8
  nl_rel_tol = 1e-10
[]

[Outputs]
  exodus = true
  execute_on = final
[]

[MultiApps]
  [sub_app]
    type = TransientMultiApp
    positions = &#x27;0 0 0&#x27;
    input_files = two_pipe_sub.i
    app_type = MooseTestApp
    execute_on = TIMESTEP_END
  []
[]

[Transfers]
  [layered_transfer_from_sub_app]
    type = MultiAppUserObjectTransfer
    direction = from_multiapp
    user_object = sub_app_uo
    variable = from_sub_app_var
    multi_app = sub_app
    displaced_source_mesh = true
    skip_bounding_box_check = true
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="e9d0822d-82d3-4ed1-af0e-e2a4056fecb2"><div class="modal-content"><h4>test/tests/meshgenerators/sidesets_between_subdomains_generator/sideset_between_subdomains.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    xmax = 3
    ymax = 3
    zmax = 3
    nx = 3
    ny = 3
    nz = 3
  []

  [./central_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 2
    bottom_left = &#x27;1 1 1&#x27;
    top_right = &#x27;2 2 2&#x27;
  []

  [./central_boundary]
    type = SideSetsBetweenSubdomainsGenerator
    input = central_block
    primary_block = 2
    paired_block = 0
    new_boundary = 7
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="48714d13-4841-49b0-a109-95933cca7fcf"><div class="modal-content"><h4>modules/tensor_mechanics/test/tests/action/two_block_new.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [generated_mesh]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    input = generated_mesh
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    input = block1
  []
[]

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Modules/TensorMechanics/Master]
  # parameters that apply to all subblocks are specified at this level. They
  # can be overwritten in the subblocks.
  add_variables = true
  strain = FINITE
  generate_output = &#x27;stress_xx&#x27;

  [./block1]
    # the `block` parameter is only valid insde a subblock.
    block = 1
  [../]
  [./block2]
    block = 2
    # the `additional_generate_output` parameter is also only valid inside a
    # subblock. Values specified here are appended to the `generate_output`
    # parameter values.
    additional_generate_output = &#x27;strain_yy&#x27;
  [../]
[]

[AuxVariables]
  [./stress_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_theta]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [./stress_theta]
    type = RankTwoAux
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    variable = stress_theta
    execute_on = timestep_end
  [../]
  [./strain_theta]
    type = RankTwoAux
    rank_two_tensor = total_strain
    index_i = 2
    index_j = 2
    variable = strain_theta
    execute_on = timestep_end
  [../]
[]

[Materials]
  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e10
    poissons_ratio = 0.345
  [../]
  [./_elastic_stress1]
    type = ComputeFiniteStrainElasticStress
    block = 1
  [../]
  [./_elastic_stress2]
    type = ComputeFiniteStrainElasticStress
    block = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    boundary = &#x27;left&#x27;
    variable = disp_x
    value = 0.0
  [../]
  [./top]
    type = DirichletBC
    boundary = &#x27;top&#x27;
    variable = disp_y
    value = 0.0
  [../]
  [./right]
    type = DirichletBC
    boundary = &#x27;right&#x27;
    variable = disp_x
    value = 0.01
  [../]
  [./bottom]
    type = DirichletBC
    boundary = &#x27;bottom&#x27;
    variable = disp_y
    value = 0.01
  [../]
[]

[Debug]
  show_var_residual_norms = true
[]

[Executioner]
  type = Steady

  petsc_options_iname = &#x27;-ksp_gmres_restart -pc_type -pc_hypre_type -pc_hypre_boomeramg_max_iter&#x27;
  petsc_options_value = &#x27;  201               hypre    boomeramg      10&#x27;

  line_search = &#x27;none&#x27;

  nl_rel_tol = 5e-9
  nl_abs_tol = 1e-10
  nl_max_its = 15

  l_tol = 1e-3
  l_max_its = 50
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1575d0cc-d4af-49eb-85a2-4ed70074d21b"><div class="modal-content"><h4>test/tests/meshgenerators/rename_block_generator/rename_block2.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    ny = 2
    nz = 2
    xmin = -1
    xmax = 1
    ymin = -1
    ymax = 1
    zmin = -1
    zmax = 1
  []

  [./sbb1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;-1 -1 -1&#x27;
    top_right = &#x27;0 0 0&#x27;
  []
  [./sbb2]
    type = SubdomainBoundingBoxGenerator
    input = sbb1
    block_id = 2
    bottom_left = &#x27;0 -1 -1&#x27;
    top_right = &#x27;1 0 0&#x27;
  []
  [./sbb3]
    type = SubdomainBoundingBoxGenerator
    input = sbb2
    block_id = 3
    bottom_left = &#x27;-1 0 -1&#x27;
    top_right = &#x27;0 1 0&#x27;
  []
  [./sbb4]
    type = SubdomainBoundingBoxGenerator
    input = sbb3
    block_id = 4
    bottom_left = &#x27;0 0 -1&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
  [./sbb5]
    type = SubdomainBoundingBoxGenerator
    input = sbb4
    block_id = 5
    bottom_left = &#x27;-1 -1 0&#x27;
    top_right = &#x27;0 0 1&#x27;
  []
  [./sbb6]
    type = SubdomainBoundingBoxGenerator
    input = sbb5
    block_id = 6
    bottom_left = &#x27;0 -1 0&#x27;
    top_right = &#x27;1 0 1&#x27;
  []
  [./sbb7]
    type = SubdomainBoundingBoxGenerator
    input = sbb6
    block_id = 7
    bottom_left = &#x27;-1 0 0&#x27;
    top_right = &#x27;0 1 1&#x27;
  []
  [./sbb8]
    type = SubdomainBoundingBoxGenerator
    input = sbb7
    block_id = 8
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
  []

  [./re0]
    type = RenameBlockGenerator
    input = sbb8
    old_block_id = &#x27;12345    1   2   3     4&#x27;
    new_block_name = &#x27;nill  one two three four&#x27;
  []

  [./re1]
    type = RenameBlockGenerator
    old_block_id = &#x27;12345    1          2&#x27;
    new_block_name = &#x27;nill  one_and_two one_and_two&#x27;
    input = re0
  []

  [./does_nothing_there_is_no_block_2_now]
    type = RenameBlockGenerator
    old_block_id = 2
    new_block_id = 9
    input = re1
  []

  [./re2]
    type = RenameBlockGenerator
    old_block_id = &#x27;1 2     3 4 5 8&#x27;
    new_block_id = &#x27;1 12345 4 4 4 7&#x27;  # note this makes block_id=4 have name &quot;three&quot;, since the first occurance of new_block_id=4 has name &quot;three&quot;
    input = does_nothing_there_is_no_block_2_now
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./bottom]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 0
  [../]
  [./top]
    type = DirichletBC
    variable = u
    boundary = top
    value = 0
  [../]
[]

[Executioner]
  type = Steady

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3c4d0779-1e11-4229-a5ec-040cdec74263"><div class="modal-content"><h4>test/tests/interfacekernels/2d_interface/coupled_value_coupled_flux.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]

[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 right top&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="21b06e4d-8ee1-4d62-91f5-3647f16de890"><div class="modal-content"><h4>test/tests/interfacekernels/1d_interface/single_variable_coupled_flux.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 10
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 1.0 0&#x27;
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./interface_again]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff0]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff1]
    type = CoeffParamDiffusion
    variable = u
    D = 2
    block = 1
  [../]
[]

[InterfaceKernels]
  [./interface]
    type = InterfaceDiffusion
    variable = u
    neighbor_var = u
    boundary = primary0_interface
    D = 4
    D_neighbor = 2
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    value = 1
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = &#x27;right&#x27;
    value = 0
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="50c86f52-7b89-475e-a364-f5c86900f3e3"><div class="modal-content"><h4>test/tests/interfacekernels/adaptivity/adaptivity.i</h4><pre class="moose-pre"><code class="language-text"># This input file is used for two tests:
# 1) Check that InterfaceKernels work with mesh adaptivity
# 2) Error out when InterfaceKernels are used with adaptivity
#    and stateful material prpoerties

[Mesh]
  parallel_type = &#x27;replicated&#x27;
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 1
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = subdomain1
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./break_boundary]
    input = interface
    type = BreakBoundaryOnSubdomainGenerator
  [../]
[]

[Variables]
  [./u]
    [./InitialCondition]
      type = ConstantIC
      value = 1
    [../]
    block = 0
  [../]
  [./u_neighbor]
    [./InitialCondition]
      type = ConstantIC
      value = 1
    [../]
    block = 1
  [../]
[]

[Functions]
  [./forcing_fn]
    type = ParsedFunction
    value = (x*x*x)-6.0*x
  [../]

  [./bc_fn]
    type = ParsedFunction
    value = (x*x*x)
  [../]
[]

[Kernels]
  [./diff]
    type = MatDiffusionTest
    variable = u
    prop_name = diffusivity
    block = 0
  [../]
  [./abs]
    type = Reaction
    variable = u
    block = 0
  [../]
  [./forcing]
    type = BodyForce
    variable = u
    function = forcing_fn
    block = 0
  [../]
  [./diffn]
    type = MatDiffusionTest
    variable = u_neighbor
    prop_name = diffusivity
    block = 1
  [../]
  [./absn]
    type = Reaction
    variable = u_neighbor
    block = 1
  [../]
  [./forcingn]
    type = BodyForce
    variable = u_neighbor
    function = forcing_fn
    block = 1
  [../]
[]

[InterfaceKernels]
  [./flux_match]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = u_neighbor
    boundary = primary0_interface
    penalty = 1e6
  [../]
[]

[BCs]
  [./u]
    type = FunctionDirichletBC
    variable = u
    boundary = &#x27;left&#x27;
    function = bc_fn
  [../]
  [./u_neighbor]
    type = FunctionDirichletBC
    variable = u_neighbor
    boundary = &#x27;right&#x27;
    function = bc_fn
  [../]
[]

[Materials]
  active = &#x27;constant&#x27;
  [./stateful]
    type = StatefulTest
    prop_names = &#x27;diffusivity&#x27;
    prop_values = &#x27;1&#x27;
    block = &#x27;0 1&#x27;
  [../]
  [./constant]
    type = GenericConstantMaterial
    prop_names = &#x27;diffusivity&#x27;
    prop_values = &#x27;1&#x27;
    block = &#x27;0 1&#x27;
  [../]
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;NEWTON&#x27;
[]

[Adaptivity]
  marker = &#x27;marker&#x27;
  steps = 1
  [./Markers]
    [./marker]
      type = BoxMarker
      bottom_left = &#x27;0 0 0&#x27;
      top_right = &#x27;1 1 0&#x27;
      inside = refine
      outside = coarsen
    [../]
  [../]
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="110ce5b5-b3db-4f14-9358-e00149829162"><div class="modal-content"><h4>test/tests/transfers/multiapp_interpolation_transfer/fromrestrictedsub_sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [file]
    type = FileMeshGenerator
    file = 2subdomains.e
  []
  [boundary_fuel_side]
    input = file
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;0.2 0 0&#x27;
    top_right = &#x27;0.3 1 0&#x27;
  []
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [elemental]
    block = &#x27;2&#x27;
    order = CONSTANT
    family = MONOMIAL
  []
  [nodal]
    block = &#x27;2&#x27;
  []
[]


[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[AuxKernels]
  [elemaux]
    type = CoupledAux
    variable = elemental
    coupled = u
    block = &#x27;2&#x27;
  []
  [nodaux]
    type = CoupledAux
    variable = nodal
    coupled = u
    block = &#x27;2&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1624adbd-8cb9-4d9c-874e-1a7b2baee928"><div class="modal-content"><h4>modules/phase_field/test/tests/feature_volume_vpp_test/boundary_area_3D.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 6
    ny = 25
    nz = 15
    xmin = 20
    xmax = 30
    ymin = 0
    ymax = 50
    zmin = 10
    zmax = 40
    elem_type = HEX8
  []
  [./left_side]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;24.9 50 50&#x27;
  [../]
  [./right_side]
    input = left_side
    type = SubdomainBoundingBoxGenerator
    block_id = 2
    bottom_left = &#x27;25.1 0 0&#x27;
    top_right = &#x27;50 50 50&#x27;
  [../]
  [./iface_u]
    input = right_side
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = 1
    paired_block = 2
    new_boundary = 10
  [../]
[]

[Variables]
  [./c]
    order = FIRST
    family = LAGRANGE
  []
[]

[ICs]
  [./c]
    type = SpecifiedSmoothCircleIC
    variable = c
    invalue = 1.0
    outvalue = 0.0
    radii =       &#x27;4    5  10&#x27;
    x_positions = &#x27;25   25 25&#x27;
    y_positions = &#x27;40 25 0&#x27;
    z_positions = &#x27;25   25 25&#x27;
    int_width = 2.0
  []
[]

[Postprocessors]
  [./flood_count]
    type = FeatureFloodCount
    variable = c

    # Must be turned on to build data structures necessary for FeatureVolumeVPP
    compute_var_to_feature_map = true
    threshold = 0.001
    execute_on = INITIAL
  [../]
[]

[VectorPostprocessors]
  [./features]
    type = FeatureVolumeVectorPostprocessor
    flood_counter = flood_count

    # Turn on centroid output
    output_centroids = true
    execute_on = INITIAL
    boundary = 10
    single_feature_per_element = false
  [../]
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = c
  []
[]

[Problem]
  solve = false
[]

[Executioner]
  type = Steady
[]

[Outputs]
  csv = true
  execute_on = INITIAL
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="d9019917-1b13-43ef-a9ec-5f926775d7cd"><div class="modal-content"><h4>test/tests/meshgenerators/block_deletion_generator/block_deletion_test7.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 4
    xmin = 0
    xmax = 4
    ymin = 0
    ymax = 4
  []

  [./SubdomainBoundingBox1]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
  [../]
  [./SubdomainBoundingBox2]
    type = SubdomainBoundingBoxGenerator
    input = SubdomainBoundingBox1
    block_id = 1
    bottom_left = &#x27;2 2 0&#x27;
    top_right = &#x27;3 3 1&#x27;
  [../]
  [./ed0]
    type = BlockDeletionGenerator
    block_id = 1
    input = SubdomainBoundingBox2
  [../]
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./dt]
    type = TimeDerivative
    variable = u
  [../]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./top]
    type = DirichletBC
    variable = u
    boundary = bottom
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 10
  dt = 10

  solve_type = NEWTON

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="76762851-5865-427e-9405-a12e5a7501b0"><div class="modal-content"><h4>test/tests/misc/subdomain_setup/mat_prop_block.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [./generator]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 2
    ny = 2
  [../]
  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    input = generator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.5 0.5 0&#x27;
    block_id = 1
  [../]
  [./subdomain2]
    type = SubdomainBoundingBoxGenerator
    input = subdomain1
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 0.5 0&#x27;
    block_id = 2
  [../]
  [./subdomain3]
    type = SubdomainBoundingBoxGenerator
    input = subdomain2
    bottom_left = &#x27;0 0.5 0&#x27;
    top_right = &#x27;0.5 1 0&#x27;
    block_id = 3
  [../]
  [./subdomain4]
    type = SubdomainBoundingBoxGenerator
    input = subdomain3
    bottom_left = &#x27;0.5 0.5 0&#x27;
    top_right = &#x27;1 1 0&#x27;
    block_id = 4
  [../]
[]

[Debug]
  show_material_props = true
[]

[Variables]
  [./dummy]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./dummy]
    type = Diffusion
    variable = dummy
  [../]
[]

[BCs]
  [./dummy_left]
    type = DirichletBC
    variable = dummy
    boundary = left
    value = 0
  [../]

  [./dummy_right]
    type = DirichletBC
    variable = dummy
    boundary = right
    value = 1
  [../]
[]

[AuxVariables]
  [./var1]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./var2]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./var3]
    family = MONOMIAL
    order = CONSTANT
  [../]
[../]

[AuxKernels]
  [./var1]
    variable = var1
    type = MaterialPropertyBlockAux
    mat_prop_name = prop1
  [../]
  [./var2]
    variable = var2
    type = MaterialPropertyBlockAux
    mat_prop_name = prop2
  [../]
  [./var3]
    variable = var3
    type = MaterialRealAux
    property = prop3
    block = &#x27;2 3 4&#x27;
  [../]
[]

[Materials]
  [./mat1]
    type = GenericConstantMaterial
    block = &#x27;1 2 4&#x27;
    prop_names = &#x27;prop1&#x27;
    prop_values = &#x27;0&#x27;
  [../]
  [./mat2]
    type = GenericConstantMaterial
    block = &#x27;2 3 4&#x27;
    prop_names = &#x27;prop2&#x27;
    prop_values = &#x27;0&#x27;
  [../]
  [./mat3]
    type = SubdomainConstantMaterial
    block = &#x27;2 3 4&#x27;
    mat_prop_name = &#x27;prop3&#x27;
    values = &#x27;4 2 1&#x27;
  [../]
[]

[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="40d61c8a-227a-4035-983c-e0726b788eef"><div class="modal-content"><h4>modules/porous_flow/examples/tutorial/11_2D.i</h4><pre class="moose-pre"><code class="language-text"># Two-phase borehole injection problem in RZ coordinates
[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    xmin = 1.0
    xmax = 10
    bias_x = 1.4
    ny = 3
    ymin = -6
    ymax = 6
  []
  [./aquifer]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0 -2 0&#x27;
    top_right = &#x27;10 2 0&#x27;
  [../]
  [./injection_area]
    type = ParsedGenerateSideset
    combinatorial_geometry = &#x27;x&lt;1.0001&#x27;
    included_subdomain_ids = 1
    new_sideset_name = &#x27;injection_area&#x27;
    input = &#x27;aquifer&#x27;
  [../]
  [./rename]
    type = RenameBlockGenerator
    old_block_id = &#x27;0 1&#x27;
    new_block_name = &#x27;caps aquifer&#x27;
    input = &#x27;injection_area&#x27;
  [../]
[]

[Problem]
  coord_type = RZ
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pwater pgas T disp_r&#x27;
    number_fluid_phases = 2
    number_fluid_components = 2
  [../]
  [./pc]
    type = PorousFlowCapillaryPressureVG
    alpha = 1E-6
    m = 0.6
  [../]
[]

[GlobalParams]
  displacements = &#x27;disp_r disp_z&#x27;
  gravity = &#x27;0 0 0&#x27;
  biot_coefficient = 1.0
  PorousFlowDictator = dictator
[]

[Variables]
  [./pwater]
    initial_condition = 20E6
  [../]
  [./pgas]
    initial_condition = 20.1E6
  [../]
  [./T]
    initial_condition = 330
    scaling = 1E-5
  [../]
  [./disp_r]
    scaling = 1E-5
  [../]
[]

[Kernels]
  [./mass_water_dot]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./flux_water]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./vol_strain_rate_water]
    type = PorousFlowMassVolumetricExpansion
    fluid_component = 0
    use_displaced_mesh = false
    variable = pwater
  [../]
  [./mass_co2_dot]
    type = PorousFlowMassTimeDerivative
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./flux_co2]
    type = PorousFlowAdvectiveFlux
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./vol_strain_rate_co2]
    type = PorousFlowMassVolumetricExpansion
    fluid_component = 1
    use_displaced_mesh = false
    variable = pgas
  [../]
  [./energy_dot]
    type = PorousFlowEnergyTimeDerivative
    use_displaced_mesh = false
    variable = T
  [../]
  [./advection]
    type = PorousFlowHeatAdvection
    use_displaced_mesh = false
    variable = T
  [../]
  [./conduction]
    type = PorousFlowHeatConduction
    use_displaced_mesh = false
    variable = T
  [../]
  [./vol_strain_rate_heat]
    type = PorousFlowHeatVolumetricExpansion
    use_displaced_mesh = false
    variable = T
  [../]
  [./grad_stress_r]
    type = StressDivergenceRZTensors
    temperature = T
    variable = disp_r
    eigenstrain_names = thermal_contribution
    use_displaced_mesh = false
    component = 0
  [../]
  [./poro_r]
    type = PorousFlowEffectiveStressCoupling
    variable = disp_r
    use_displaced_mesh = false
    component = 0
  [../]
[]

[AuxVariables]
  [./disp_z]
  [../]
  [./effective_fluid_pressure]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./mass_frac_phase0_species0]
    initial_condition = 1 # all water in phase=0
  [../]
  [./mass_frac_phase1_species0]
    initial_condition = 0 # no water in phase=1
  [../]
  [./sgas]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./swater]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_rr]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_tt]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./stress_zz]
    family = MONOMIAL
    order = CONSTANT
  [../]
  [./porosity]
    family = MONOMIAL
    order = CONSTANT
  [../]
[]

[AuxKernels]
  [./effective_fluid_pressure]
    type = ParsedAux
    args = &#x27;pwater pgas swater sgas&#x27;
    function = &#x27;pwater * swater + pgas * sgas&#x27;
    variable = effective_fluid_pressure
  [../]
  [./swater]
    type = PorousFlowPropertyAux
    variable = swater
    property = saturation
    phase = 0
    execute_on = timestep_end
  [../]
  [./sgas]
    type = PorousFlowPropertyAux
    variable = sgas
    property = saturation
    phase = 1
    execute_on = timestep_end
  [../]
  [./stress_rr_aux]
    type = RankTwoAux
    variable = stress_rr
    rank_two_tensor = stress
    index_i = 0
    index_j = 0
  [../]
  [./stress_tt]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_tt
    index_i = 2
    index_j = 2
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 1
    index_j = 1
  [../]
  [./porosity]
    type = PorousFlowPropertyAux
    variable = porosity
    property = porosity
    execute_on = timestep_end
  [../]
[]


[BCs]
  [./pinned_top_bottom_r]
    type = DirichletBC
    variable = disp_r
    value = 0
    boundary = &#x27;top bottom&#x27;
  [../]
  [./cavity_pressure_r]
    type = Pressure
    boundary = injection_area
    variable = disp_r
    component = 0
    postprocessor = constrained_effective_fluid_pressure_at_wellbore
    use_displaced_mesh = false
  [../]

  [./cold_co2]
    type = DirichletBC
    boundary = injection_area
    variable = T
    value = 290  # injection temperature
    use_displaced_mesh = false
  [../]
  [./constant_co2_injection]
    type = PorousFlowSink
    boundary = injection_area
    variable = pgas
    fluid_phase = 1
    flux_function = -1E-4
    use_displaced_mesh = false
  [../]

  [./outer_water_removal]
    type = PorousFlowPiecewiseLinearSink
    boundary = right
    variable = pwater
    fluid_phase = 0
    pt_vals = &#x27;0 1E9&#x27;
    multipliers = &#x27;0 1E8&#x27;
    PT_shift = 20E6
    use_mobility = true
    use_relperm = true
    use_displaced_mesh = false
  [../]
  [./outer_co2_removal]
    type = PorousFlowPiecewiseLinearSink
    boundary = right
    variable = pgas
    fluid_phase = 1
    pt_vals = &#x27;0 1E9&#x27;
    multipliers = &#x27;0 1E8&#x27;
    PT_shift = 20.1E6
    use_mobility = true
    use_relperm = true
    use_displaced_mesh = false
  [../]
[]

[Modules]
  [./FluidProperties]
    [./true_water]
      type = Water97FluidProperties
    [../]
    [./tabulated_water]
      type = TabulatedFluidProperties
      fp = true_water
      temperature_min = 275
      pressure_max = 1E8
      fluid_property_file = water97_tabulated_11.csv
    [../]
    [./true_co2]
      type = CO2FluidProperties
    [../]
    [./tabulated_co2]
      type = TabulatedFluidProperties
      fp = true_co2
      temperature_min = 275
      pressure_max = 1E8
      fluid_property_file = co2_tabulated_11.csv
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
    temperature = T
  [../]
  [./saturation_calculator]
    type = PorousFlow2PhasePP
    phase0_porepressure = pwater
    phase1_porepressure = pgas
    capillary_pressure = pc
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
    mass_fraction_vars = &#x27;mass_frac_phase0_species0 mass_frac_phase1_species0&#x27;
  [../]
  [./water]
    type = PorousFlowSingleComponentFluid
    fp = tabulated_water
    phase = 0
  [../]
  [./co2]
    type = PorousFlowSingleComponentFluid
    fp = tabulated_co2
    phase = 1
  [../]
  [./relperm_water]
    type = PorousFlowRelativePermeabilityCorey
    n = 4
    s_res = 0.1
    sum_s_res = 0.2
    phase = 0
  [../]
  [./relperm_co2]
    type = PorousFlowRelativePermeabilityBC
    nw_phase = true
    lambda = 2
    s_res = 0.1
    sum_s_res = 0.2
    phase = 1
  [../]
  [./porosity]
    type = PorousFlowPorosity
    fluid = true
    mechanical = true
    thermal = true
    porosity_zero = 0.1
    reference_temperature = 330
    reference_porepressure = 20E6
    thermal_expansion_coeff = 15E-6 # volumetric
    solid_bulk = 8E9 # unimportant since biot = 1
  [../]
  [./permeability_aquifer]
    type = PorousFlowPermeabilityKozenyCarman
    block = aquifer
    poroperm_function = kozeny_carman_phi0
    phi0 = 0.1
    n = 2
    m = 2
    k0 = 1E-12
  [../]
  [./permeability_caps]
    type = PorousFlowPermeabilityKozenyCarman
    block = caps
    poroperm_function = kozeny_carman_phi0
    phi0 = 0.1
    n = 2
    m = 2
    k0 = 1E-15
    k_anisotropy = &#x27;1 0 0  0 1 0  0 0 0.1&#x27;
  [../]
  [./rock_thermal_conductivity]
    type = PorousFlowThermalConductivityIdeal
    dry_thermal_conductivity = &#x27;2 0 0  0 2 0  0 0 2&#x27;
  [../]
  [./rock_internal_energy]
    type = PorousFlowMatrixInternalEnergy
    specific_heat_capacity = 1100
    density = 2300
  [../]

  [./elasticity_tensor]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 5E9
    poissons_ratio = 0.0
  [../]
  [./strain]
    type = ComputeAxisymmetricRZSmallStrain
    eigenstrain_names = &#x27;thermal_contribution initial_stress&#x27;
  [../]
  [./thermal_contribution]
    type = ComputeThermalExpansionEigenstrain
    temperature = T
    thermal_expansion_coeff = 5E-6 # this is the linear thermal expansion coefficient
    eigenstrain_name = thermal_contribution
    stress_free_temperature = 330
  [../]
  [./initial_strain]
    type = ComputeEigenstrainFromInitialStress
    initial_stress = &#x27;20E6 0 0  0 20E6 0  0 0 20E6&#x27;
    eigenstrain_name = initial_stress
  [../]
  [./stress]
    type = ComputeLinearElasticStress
  [../]

  [./effective_fluid_pressure]
    type = PorousFlowEffectiveFluidPressure
  [../]
  [./volumetric_strain]
    type = PorousFlowVolumetricStrain
  [../]
[]

[Postprocessors]
  [./effective_fluid_pressure_at_wellbore]
    type = PointValue
    variable = effective_fluid_pressure
    point = &#x27;1 0 0&#x27;
    execute_on = timestep_begin
    use_displaced_mesh = false
  [../]
  [./constrained_effective_fluid_pressure_at_wellbore]
    type = FunctionValuePostprocessor
    function = constrain_effective_fluid_pressure
    execute_on = timestep_begin
  [../]
[]

[Functions]
  [./constrain_effective_fluid_pressure]
    type = ParsedFunction
    vars = effective_fluid_pressure_at_wellbore
    vals = effective_fluid_pressure_at_wellbore
    value = &#x27;max(effective_fluid_pressure_at_wellbore, 20E6)&#x27;
  [../]
[]

[Preconditioning]
  active = basic
  [./basic]
    type = SMP
    full = true
    petsc_options = &#x27;-ksp_diagonal_scale -ksp_diagonal_scale_fix&#x27;
    petsc_options_iname = &#x27;-pc_type -sub_pc_type -sub_pc_factor_shift_type -pc_asm_overlap&#x27;
    petsc_options_value = &#x27; asm      lu           NONZERO                   2&#x27;
  [../]
  [./preferred_but_might_not_be_installed]
    type = SMP
    full = true
    petsc_options_iname = &#x27;-pc_type -pc_factor_mat_solver_package&#x27;
    petsc_options_value = &#x27; lu       mumps&#x27;
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  end_time = 1E3
  [./TimeStepper]
    type = IterationAdaptiveDT
    dt = 1E3
    growth_factor = 1.2
    optimal_iterations = 10
  [../]
  nl_abs_tol = 1E-7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="edecd565-280a-4264-824b-124b67a3e0f7"><div class="modal-content"><h4>modules/porous_flow/test/tests/gravity/grav01d.i</h4><pre class="moose-pre"><code class="language-text"># Test illustrating that PorousFlow allows block-restricted relative permeabilities and capillarities
# and automatically adds appropriate Joiners.
# Physically, this test is checking that gravity head is established
# for 1phase, vanGenuchten, constant fluid-bulk, constant viscosity, constant permeability, Corey relative perm
# For better agreement with the analytical solution (ana_pp), just increase nx

[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 100
    xmin = -1
    xmax = 0
  []
  [./define_block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;-1 -1 -1&#x27;
    top_right = &#x27;-0.5 1 1&#x27;
  [../]
[]

[GlobalParams]
  PorousFlowDictator = dictator
[]

[Variables]
  [./pp]
    [./InitialCondition]
      type = RandomIC
      min = -1
      max = 1
    [../]
  [../]
[]

[Kernels]
  [./dot]
    type = PorousFlowMassTimeDerivative
    fluid_component = 0
    variable = pp
  [../]
  [./flux0]
    type = PorousFlowAdvectiveFlux
    fluid_component = 0
    variable = pp
    gravity = &#x27;-1 0 0&#x27;
  [../]
[]

[Functions]
  [./ana_pp]
    type = ParsedFunction
    vars = &#x27;g B p0 rho0&#x27;
    vals = &#x27;1 2 -1 1&#x27;
    value = &#x27;-B*log(exp(-p0/B)+g*rho0*x/B)&#x27; # expected pp at base
  [../]
[]

[BCs]
  [./z]
    type = DirichletBC
    variable = pp
    boundary = right
    value = -1
  [../]
[]

[UserObjects]
  [./dictator]
    type = PorousFlowDictator
    porous_flow_vars = &#x27;pp&#x27;
    number_fluid_phases = 1
    number_fluid_components = 1
  [../]
  [./pc_0]
    type = PorousFlowCapillaryPressureVG
    m = 0.5
    alpha = 1
  [../]
  [./pc_1]
    type = PorousFlowCapillaryPressureVG
    m = 0.6
    alpha = 2
  [../]
[]

[Modules]
  [./FluidProperties]
    [./simple_fluid]
      type = SimpleFluidProperties
      bulk_modulus = 2
      density0 = 1
      viscosity = 1
      thermal_expansion = 0
    [../]
  [../]
[]

[Materials]
  [./temperature]
    type = PorousFlowTemperature
  [../]
  [./ppss_0]
    type = PorousFlow1PhaseP
    block = 0
    porepressure = pp
    capillary_pressure = pc_0
  [../]
  [./ppss_1]
    type = PorousFlow1PhaseP
    block = 1
    porepressure = pp
    capillary_pressure = pc_1
  [../]
  [./massfrac]
    type = PorousFlowMassFraction
  [../]
  [./simple_fluid]
    type = PorousFlowSingleComponentFluid
    fp = simple_fluid
    phase = 0
  [../]
  [./porosity]
    type = PorousFlowPorosityConst
    porosity = 0.1
  [../]
  [./permeability]
    type = PorousFlowPermeabilityConst
    permeability = &#x27;1 0 0  0 2 0  0 0 3&#x27;
  [../]
  [./relperm_0]
    type = PorousFlowRelativePermeabilityCorey
    block = 0
    n = 1
    phase = 0
  [../]
  [./relperm_1]
    type = PorousFlowRelativePermeabilityCorey
    block = 1
    n = 2
    phase = 0
  [../]
[]

[Postprocessors]
  [./pp_base]
    type = PointValue
    variable = pp
    point = &#x27;-1 0 0&#x27;
  [../]
  [./pp_analytical]
    type = FunctionValuePostprocessor
    function = ana_pp
    point = &#x27;-1 0 0&#x27;
  [../]
[]

[Preconditioning]
  active = andy
  [./andy]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  solve_type = Newton
  dt = 1E6
  end_time = 1E6
[]

[Outputs]
  execute_on = &#x27;timestep_end&#x27;
  file_base = grav01d
  csv = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="75340dbd-90f2-45ed-9055-c4a0992104f7"><div class="modal-content"><h4>modules/ray_tracing/test/tests/outputs/ray_tracing_mesh_output/ray_mesh_output_3d.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 5
    ny = 5
    nz = 5
    xmax = 5
    ymax = 5
    zmax = 5
    elem_type = HEX8
  []

  [middle_block]
    type = SubdomainBoundingBoxGenerator
    input = gmg
    block_id = 1
    bottom_left = &#x27;2 0 0&#x27;
    top_right = &#x27;3 5 5&#x27;
  []

  [middle_block_sideset]
    type = SideSetsBetweenSubdomainsGenerator
    input = middle_block
    master_block = 1
    paired_block = 0
    new_boundary = 7
  []
[]

[RayBCs]
  [kill]
    type = &#x27;KillRayBC&#x27;
    boundary = &#x27;top right front left&#x27;
    rays = &#x27;to_top_right
            along_edge
            within&#x27;
  []
  [kill_left]
    type = &#x27;KillRayBC&#x27;
    boundary = &#x27;left&#x27;
    rays = &#x27;reflect_three_times
            reflect_at_nodes
            reflect_internal&#x27;
  []
  [reflect]
    type = &#x27;ReflectRayBC&#x27;
    boundary = &#x27;back right top&#x27;
    rays = &#x27;reflect_three_times
            reflect_at_nodes&#x27;
  []
  [reflect_internal]
    type = &#x27;ReflectRayBC&#x27;
    boundary = 7
    rays = &#x27;reflect_internal&#x27;
  []
  [kill_internal]
    type = &#x27;KillRayBC&#x27;
    boundary = 7
    rays = &#x27;kill_internal&#x27;
  []
  [nothing_internal]
    type = &#x27;NullRayBC&#x27;
    boundary = 7
    rays = &#x27;to_top_right
            reflect_three_times
            reflect_at_nodes&#x27;
  []
[]

[UserObjects/study]
  type = RepeatableRayStudy
  ray_kernel_coverage_check = false
  start_points = &#x27;0 0 0
                  0 5 0
                  0.6 0.6 0
                  0 1.2 0.8
                  3 0 1
                  0 1.3 2.5
                  5 0 2&#x27;
  directions = &#x27;1 1 1
                0 0 1
                0 0 1
                1 0.6 -0.4
                2 2 1
                0.8 0.5 0.4
                -1 1 1&#x27;
  names = &#x27;to_top_right
           along_edge
           within
           reflect_three_times
           reflect_at_nodes
           reflect_internal
           kill_internal&#x27;
  execute_on = initial
  always_cache_traces = true
  use_internal_sidesets = true
[]

[Executioner]
  type = Steady
[]

[Problem]
  solve = false
[]

[Outputs]
  exodus = false
  [rays]
    type = RayTracingExodus
    study = study
    execute_on = final
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="456e9903-a37f-47b5-b347-8398613d6990"><div class="modal-content"><h4>test/tests/interfacekernels/3d_interface/coupled_value_coupled_flux_with_jump_material.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 2
    xmax = 2
    ny = 2
    ymax = 2
    nz = 2
    zmax = 2
  []
  [./subdomain1]
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;1 1 1&#x27;
    block_id = 1
    input = gen
  [../]
  [./break_boundary]
    input = subdomain1
    type = BreakBoundaryOnSubdomainGenerator
  [../]
  [./interface]
    type = SideSetsBetweenSubdomainsGenerator
    input = break_boundary
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    block = 0
  [../]

  [./v]
    order = FIRST
    family = LAGRANGE
    block = 1
  [../]
[]



[Kernels]
  [./diff_u]
    type = CoeffParamDiffusion
    variable = u
    D = 4
    block = 0
  [../]
  [./diff_v]
    type = CoeffParamDiffusion
    variable = v
    D = 2
    block = 1
  [../]
  [./source_u]
    type = BodyForce
    variable = u
    value = 1
  [../]
[]

[AuxVariables]
  [./jump_var]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[AuxKernels]
  [jump_aux]
    type = MaterialRealAux
    boundary = primary0_interface
    property = jump
    variable = jump_var
  []
[]


[InterfaceKernels]
  [./interface]
    type = PenaltyInterfaceDiffusion
    variable = u
    neighbor_var = v
    boundary = primary0_interface
    penalty = 1e6
    jump_prop_name = jump
  [../]
[]

[Materials]
  [./jump]
    type = JumpInterfaceMaterial
    var = u
    neighbor_var = v
    boundary = primary0_interface
  [../]
[]

[BCs]
  [./u]
    type = VacuumBC
    variable = u
    boundary = &#x27;left_to_0 bottom_to_0 back_to_0 right top front&#x27;
  [../]
  [./v]
    type = VacuumBC
    variable = v
    boundary = &#x27;left_to_1 bottom_to_1 back_to_1&#x27;
  [../]
[]

[Postprocessors]
  [./u_int]
    type = ElementIntegralVariablePostprocessor
    variable = u
    block = 0
  [../]
  [./v_int]
    type = ElementIntegralVariablePostprocessor
    variable = v
    block = 1
  [../]
  [interface_var_jump]
    type = InterfaceAverageVariableValuePostprocessor
    interface_value_type = jump_abs
    variable = u
    neighbor_variable = v
    execute_on = TIMESTEP_END
    boundary = primary0_interface
  []
[]

[Preconditioning]
  [./smp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c65a0144-0478-48ae-9265-86a3594f36cb"><div class="modal-content"><h4>test/tests/dgkernels/dg_block_restrict/1d_dg_block_restrict.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 1
    nx = 100
    xmax = 2
  []
  [./subdomain1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    bottom_left = &#x27;1.0 0 0&#x27;
    block_id = 1
    top_right = &#x27;2.0 0 0&#x27;
  [../]
  [./interface]
    input = subdomain1
    type = SideSetsBetweenSubdomainsGenerator
    primary_block = &#x27;0&#x27;
    paired_block = &#x27;1&#x27;
    new_boundary = &#x27;primary0_interface&#x27;
  [../]
  [./interface_again]
    type = SideSetsBetweenSubdomainsGenerator
    input = interface
    primary_block = &#x27;1&#x27;
    paired_block = &#x27;0&#x27;
    new_boundary = &#x27;primary1_interface&#x27;
  [../]
[]

[Variables]
  [./u]
    order = FIRST
    family = MONOMIAL
    block = 0
  [../]
  [./v]
    order = FIRST
    family = MONOMIAL
    block = 1
  [../]
[]

[Kernels]
  [./test_u]
    type = Diffusion
    variable = u
    block = 0
  [../]
  [./adv_u]
    type = ConservativeAdvection
    variable = u
    velocity = &#x27;1 0 0&#x27;
    block = 0
  [../]
  [./test_v]
    type = Diffusion
    variable = v
    block = 1
  [../]
  [./adv_v]
    type = ConservativeAdvection
    variable = v
    velocity = &#x27;1 0 0&#x27;
    block = 1
  [../]
[]

[DGKernels]
  [./dg_advection_u]
    type = DGConvection
    variable = u
    velocity = &#x27;1 0 0&#x27;
    block = 0
  [../]
  [./dg_diffusion_u]
    type = DGDiffusion
    variable = u
    sigma = 0
    epsilon = -1
    block = 0
  [../]
  [./dg_advection_v]
    type = DGConvection
    variable = v
    velocity = &#x27;1 0 0&#x27;
    block = 1
  [../]
  [./dg_diffusion_v]
    type = DGDiffusion
    variable = v
    sigma = 0
    epsilon = -1
    block = 1
  [../]
[]

[BCs]
  [./left]
    type = InflowBC
    variable = u
    boundary = &#x27;left&#x27;
    inlet_conc = 2
    velocity = &#x27;1 0 0&#x27;
  [../]
  [./primary0_inteface]
    type = RobinBC
    variable = u
    boundary = &#x27;primary0_interface&#x27;
  [../]
  [./primary1_interface]
   type = InflowBC
   variable = v
   boundary = &#x27;primary1_interface&#x27;
   inlet_conc = 4
   velocity = &#x27;1 0 0&#x27;
  [../]
  [./right]
    type = RobinBC
    variable = v
    boundary = &#x27;right&#x27;
  [../]
[]

[ICs]
  [./u_ic]
    type = ConstantIC
    variable = u
    value = 0
  [../]
  [./v_ic]
    type = ConstantIC
    variable = v
    value = 0
  [../]
[]

[Preconditioning]
  [./fdp]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Steady
  nl_abs_tol = 1e-12
  solve_type = NEWTON
[]

[Outputs]
  exodus = true
  print_linear_residuals = false
[]

[Debug]
  show_var_residual_norms = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#e7afa666-8ffc-44b8-a96a-a4fe35fbba6e" class="tooltipped" data-position="left" data-tooltip="Overview">Overview</a></li><li><a href="#be5679a3-e2db-4dd8-a09b-1e35b044c3e3" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#cbd39abd-743d-47ed-8eba-57c6f39611dc" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>