<!DOCTYPE html><head><meta charset="UTF-8"><title>BreakMeshByBlock.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="d0fccaac-4eeb-4388-8466-a8464f013a73"><i class="material-icons">menu</i></a><ul class="sidenav" id="d0fccaac-4eeb-4388-8466-a8464f013a73"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshmodifiers</span><a href="#" class="breadcrumb">BreakMeshByBlock</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="803aa373-b2b1-4e22-9173-9f7f456c3627" data-section-level="1" data-section-text="Break Mesh By Block"><h1 id="break-mesh-by-block">Break Mesh By Block</h1><p>Break boundaries based on the subdomains to which their sides are attached. Naming convention for the new boundaries will be the old boundary name plus &quot;_to_&quot; plus the subdomain name. At the momentthis only works on REPLICATED mesh</p><p>This class implement a MeshModifiers to split a monolithic mesh by blocks similar to what is proposed by VP Nguyen <a href="#Nguyen2014">Nguyen (2014)</a>.</p><p>To split the mesh, nodes shared by multiple blocks are duplicated N-1 times (where N is the number of blocks sharing a particular node). Each duplicated nodes is assigned to one block and all the element sharing that node are updated. A new sideset identifying the new interface is added and it is always linked to elements belonging to blocks with the lower id.</p><p>As an option, the interface can be split into <span tex="Q" bookmark="moose-equation-52149f78-a49d-4e0d-8b47-35648be99d78" recursive="True" class="moose-katex-inline-equation" id="moose-equation-52149f78-a49d-4e0d-8b47-35648be99d78"><script>var element = document.getElementById("moose-equation-52149f78-a49d-4e0d-8b47-35648be99d78");katex.render("Q", element, {displayMode:false,throwOnError:false});</script></span> different sidesets. <span tex="Q" bookmark="moose-equation-5fae5955-db7a-4e69-b0a1-c848468e83a4" recursive="True" class="moose-katex-inline-equation" id="moose-equation-5fae5955-db7a-4e69-b0a1-c848468e83a4"><script>var element = document.getElementById("moose-equation-5fae5955-db7a-4e69-b0a1-c848468e83a4");katex.render("Q", element, {displayMode:false,throwOnError:false});</script></span> is the number of adjacent block pairs. This is achieved by setting  <code>split_interface=true</code>. This is useful when modeling interfaces with different parameters.</p><section class="scrollspy" id="13b6b632-2c36-4325-86ad-f56197c44f9b" data-section-level="2" data-section-text="Example Input File Syntax"><h2 id="example-input-file-syntax">Example Input File Syntax</h2><section id="381feeeb-00b8-4307-9e96-57a71446cb88" data-section-level="3" data-section-text="Single interface"><h3 id="single-interface">Single interface</h3><pre class="moose-pre"><code class="language-text">[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
  [../]
[]
</code></pre><a href="#8ed6d430-085d-45ed-8f24-2c3084055f4e" class="modal-trigger">(test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_Auto.i)</a><div class="modal moose-modal" id="8ed6d430-085d-45ed-8f24-2c3084055f4e"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = 4ElementJunction.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section id="fffd8c2e-a7f3-471a-a1be-7aa677507987" data-section-level="3" data-section-text="Multiple interfaces"><h3 id="multiple-interfaces">Multiple interfaces</h3><p>When <code>split_interface=true</code> the new generated interface is split by block pairs and named by joining the block names . For instance if one has two neighboring blocks one named <code>wood</code> and named <code>steel</code> with <code>blockID</code> equal to <code>1</code> and <code>2</code>, respectively,  the new interface will be named <code>wood_steel</code>. The naming order follwos the block ID order. For this simple example the new sideset will be on the block named <code>wood</code>. If one block is not named, its name will default to <code>Block</code> plus the <code>blockID</code>. For instance, if block 2 is not named the new interface will be named <code>wood_Block2</code>.</p><pre class="moose-pre"><code class="language-text">[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = true
  [../]
[]
</code></pre><a href="#8d54a46b-4e5b-4340-9c30-9d8a3f07d702" class="modal-trigger">(test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_splitTrue_Auto.i)</a><div class="modal moose-modal" id="8d54a46b-4e5b-4340-9c30-9d8a3f07d702"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_splitTrue_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = 4ElementJunction.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = true
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section><section class="scrollspy" id="d2b9f91c-f25c-4909-adb3-40aaa4ffee2f" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#46b4c4d5-193e-449f-9e4f-9c967e2db311" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2D_polycrystal.i</a></li><li><a href="#3065d61e-9193-4d81-b1bd-e142a350e704" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_polycrystal.i</a></li><li><a href="#65b2f1c5-041f-490b-8948-cb9555b1cdad" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_splitTrue_Auto.i</a></li><li><a href="#f023c9e3-993c-4cc9-acbc-9ed2b83ad215" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_Auto.i</a></li><li><a href="#9daa8f35-02e4-4c87-a5a6-04e44c921d0d" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_3Block_splitTrue_Auto.i</a></li><li><a href="#a9be074b-6bad-4544-b33b-8242c20372e9" class="modal-trigger">test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_3Block_Auto.i</a></li></ul><div class="modal moose-modal" id="46b4c4d5-193e-449f-9e4f-9c967e2db311"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2D_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = poly.msh
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = false
  [../]
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="3065d61e-9193-4d81-b1bd-e142a350e704"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_polycrystal.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = poly.msh
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = false
  [../]
[]

</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="65b2f1c5-041f-490b-8948-cb9555b1cdad"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_splitTrue_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = 4ElementJunction.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = true
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f023c9e3-993c-4cc9-acbc-9ed2b83ad215"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/2D/TestBreakMesh_2DJunction_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = 4ElementJunction.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="9daa8f35-02e4-4c87-a5a6-04e44c921d0d"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_3Block_splitTrue_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = coh3D_3Blocks.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
    split_interface = true
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a9be074b-6bad-4544-b33b-8242c20372e9"><div class="modal-content"><h4>test/tests/mesh_modifiers/break_mesh_by_blocks/3D/TestBreakMesh_3D_3Block_Auto.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  file = coh3D_3Blocks.e
  parallel_type = REPLICATED
[]

[MeshModifiers]
  [./breakmesh]
    type = BreakMeshByBlock
  [../]
[]

# This input file is intended to be run with the &quot;--mesh-only&quot; option so
# no other sections are required
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section class="scrollspy" id="63bf40b2-f95b-4384-88e3-8d632de1e029" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="3b3c1542-08a2-4d01-950f-ed2f59f57127" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">depends_on</span><span class="moose-parameter-header-description">The MeshModifiers that this modifier relies upon (i.e. must execute before this one)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The MeshModifiers that this modifier relies upon (i.e. must execute before this one)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">force_prepare</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Normally all MeshModifiers run before the mesh is prepared for use. This flag can be set on an individual modifier to force preparation between modifiers where they might be needed.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Normally all MeshModifiers run before the mesh is prepared for use. This flag can be set on an individual modifier to force preparation between modifiers where they might be needed.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">interface_name</span><span class="moose-parameter-header-default">interface</span><span class="moose-parameter-header-description">the name of the new interface. Cannot be used whit `split_interface=true`</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>interface</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>the name of the new interface. Cannot be used whit `split_interface=true`</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">split_interface</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">If true, it create a different interface for each block pair.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>If true, it create a different interface for each block pair.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="ced42601-6c34-4b35-b553-42bf043bf535" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="d890fe59-7b5b-4898-8f54-d267a483f752" data-section-level="2" data-section-text="References"><h2 id="references">References</h2><div class="moose-bibliography"><ol><li id="Nguyen2014">Vinh&nbsp;Phu Nguyen.
<span class="bibtex-protected">An open source program to generate zero-thickness cohesive interface elements</span>.
<em>Advances in Engineering Software</em>, 74:27–39, 2014.
<a href="https://doi.org/10.1016/j.advengsoft.2014.04.002">doi:10.1016/j.advengsoft.2014.04.002</a>.<a href="#e7492ce5-f9c5-4fba-8ed1-1839cfd8adf2" class="modal-trigger moose-bibtex-modal" style="padding-left:10px;">[BibTeX]</a><div class="modal" id="e7492ce5-f9c5-4fba-8ed1-1839cfd8adf2"><div class="modal-content"><pre style="line-height:1.25;"><code class="language-latex">@article{Nguyen2014,
    author = "Nguyen, Vinh Phu",
    abstract = "An open source program to generate zero-thickness cohesive interface elements in existing finite element discretizations is presented. This contribution fills the gap in the literature that, to the best of the author's knowledge, there is no such program exists. The program is useful in numerical modeling of material/structure failure using cohesive interface elements. The program is able to generate one/two dimensional, linear/quadratic cohesive elements (i) at all inter-element boundaries, (ii) at material interfaces and (iii) at grain boundaries in polycrystalline materials. Algorithms and utilization of the program is discussed. Several two dimensional and three dimensional fracture mechanics problems are given including debonding process of material interfaces, multiple delamination of composite structures, crack propagation in polycrystalline structures.",
    doi = "10.1016/j.advengsoft.2014.04.002",
    issn = "09659978",
    journal = "Advances in Engineering Software",
    mendeley-groups = "Moose",
    pages = "27--39",
    title = "{An open source program to generate zero-thickness cohesive interface elements}",
    volume = "74",
    year = "2014"
}
</code></pre></div></div></li></ol></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#13b6b632-2c36-4325-86ad-f56197c44f9b" class="tooltipped" data-position="left" data-tooltip="Example Input File Syntax">Example Input File Syntax</a></li><li><a href="#d2b9f91c-f25c-4909-adb3-40aaa4ffee2f" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li><li><a href="#63bf40b2-f95b-4384-88e3-8d632de1e029" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#d890fe59-7b5b-4898-8f54-d267a483f752" class="tooltipped" data-position="left" data-tooltip="References">References</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>