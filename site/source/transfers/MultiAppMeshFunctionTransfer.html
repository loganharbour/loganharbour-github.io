<!DOCTYPE html><head><meta charset="UTF-8"><title>MultiAppMeshFunctionTransfer.md|MOOSE Ray Tracing Module</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="/modules/ray_tracing" class="left moose-logo hide-on-med-and-down">MOOSE Ray Tracing Module</a><a href="https://github.com/idaholab/moose" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="236b203b-98f3-433b-9ccd-e5033c78042b"><i class="material-icons">menu</i></a><ul class="sidenav" id="236b203b-98f3-433b-9ccd-e5033c78042b"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/modules/ray_tracing" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">transfers</span><a href="#" class="breadcrumb">MultiAppMeshFunctionTransfer</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="1a1e0617-9e9a-4093-a273-fb4da81638a8" data-section-level="1" data-section-text="MultiAppMeshFunctionTransfer"><h1 id="multiappmeshfunctiontransfer">MultiAppMeshFunctionTransfer</h1><p>Performs a transfer of field data to/from postprocessor data within sub-applications at locations specified by the sub-application position. The transfer utilizes the finite element function of the master application, via a <code>libMesh::MeshFunction</code> object, to perform the transfer.</p><section class="scrollspy" id="35552ba1-0b2c-43a0-88f0-7f4e7d823cf5" data-section-level="2" data-section-text="Example Input File Syntax"><h2 id="example-input-file-syntax">Example Input File Syntax</h2><p>The following examples demonstrate the use the MultiAppMeshFunctionTransfer for transferring data to (<a href="#tosub">Listing 1</a>) and from (<a href="#fromsub">Listing 2</a>) sub-applications.</p><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 1: </span><span class="moose-caption-text">Example use of MultiAppMeshFunctionTransfer for transferring data <strong>to</strong> sub-applications.</span></p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[Transfers]
  [to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []

  [elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre><a href="#e0d07240-6454-4e85-97cd-098ea8bf121e" class="modal-trigger">(test/tests/transfers/multiapp_mesh_function_transfer/tosub.i)</a></div></div><div class="modal moose-modal" id="e0d07240-6454-4e85-97cd-098ea8bf121e"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/transfers/multiapp_mesh_function_transfer/tosub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [sub]
    positions = &#x27;.1 .1 0 0.6 0.6 0 0.6 0.1 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = tosub_sub.i
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []

  [elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 2: </span><span class="moose-caption-text">Example use of MultiAppMeshFunctionTransfer for transferring data <strong>from</strong> sub-applications.</span></p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[Transfers]
  [from_sub]
    source_variable = &#x27;sub_u sub_u&#x27;
    direction = from_multiapp
    variable = &#x27;transferred_u elemental_transferred_u&#x27;
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre><a href="#f8f30e27-f57e-4cbf-bdc0-e2c21c6bd9d4" class="modal-trigger">(test/tests/transfers/multiapp_mesh_function_transfer/fromsub.i)</a></div></div><div class="modal moose-modal" id="f8f30e27-f57e-4cbf-bdc0-e2c21c6bd9d4"><div class="modal-content"><h4>/Users/harblh/projects/moc/private_moose/test/tests/transfers/multiapp_mesh_function_transfer/fromsub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [transferred_u]
  []
  [elemental_transferred_u]
    order = CONSTANT
    family = MONOMIAL
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [sub]
    positions = &#x27;.099 .099 0 .599 .599 0 0.599 0.099 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = fromsub_sub.i
  []
[]

[Transfers]
  [from_sub]
    source_variable = &#x27;sub_u sub_u&#x27;
    direction = from_multiapp
    variable = &#x27;transferred_u elemental_transferred_u&#x27;
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section><section class="scrollspy" id="5f1525bc-7c15-4075-86da-69bf95a9cac8" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="e5d71955-4b62-4473-b9f5-c6ed46f3dad4" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">direction</span><span class="moose-parameter-header-description">Whether this Transfer will be 'to' or 'from' a MultiApp, or bidirectional, by providing both FROM_MULTIAPP and TO_MULTIAPP.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>to_multiapp from_multiapp</p><p class="moose-parameter-description"><span>Description:</span>Whether this Transfer will be 'to' or 'from' a MultiApp, or bidirectional, by providing both FROM_MULTIAPP and TO_MULTIAPP.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">multi_app</span><span class="moose-parameter-header-description">The name of the MultiApp to use.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiAppName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of the MultiApp to use.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">source_variable</span><span class="moose-parameter-header-description">The variable to transfer from.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<VariableName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The variable to transfer from.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">variable</span><span class="moose-parameter-header-description">The auxiliary variable to store the transferred values in.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<AuxVariableName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The auxiliary variable to store the transferred values in.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="61ebdc10-a28e-4cb1-95de-e8c2fafb6751" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">check_multiapp_execute_on</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">When false the check between the multiapp and transfer execute on flags is not preformed.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>When false the check between the multiapp and transfer execute on flags is not preformed.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">displaced_source_mesh</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to use the displaced mesh for the source mesh.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not to use the displaced mesh for the source mesh.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">displaced_target_mesh</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to use the displaced mesh for the target mesh.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not to use the displaced mesh for the target mesh.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">error_on_miss</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to error in the case that a target point is not found in the source domain.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not to error in the case that a target point is not found in the source domain.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">execute_on</span><span class="moose-parameter-header-default">SAME_AS_MULTIAPP</span><span class="moose-parameter-header-description">The list of flag(s) indicating when this object should be executed, the available options include NONE, INITIAL, LINEAR, NONLINEAR, TIMESTEP_END, TIMESTEP_BEGIN, FINAL, CUSTOM, SAME_AS_MULTIAPP.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>SAME_AS_MULTIAPP</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>ExecFlagEnum</p><p class="moose-parameter-description-options"><span>Options:</span>NONE INITIAL LINEAR NONLINEAR TIMESTEP_END TIMESTEP_BEGIN FINAL CUSTOM SAME_AS_MULTIAPP</p><p class="moose-parameter-description"><span>Description:</span>The list of flag(s) indicating when this object should be executed, the available options include NONE, INITIAL, LINEAR, NONLINEAR, TIMESTEP_END, TIMESTEP_BEGIN, FINAL, CUSTOM, SAME_AS_MULTIAPP.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">from_postprocessors_to_be_preserved</span><span class="moose-parameter-header-description">The name of the Postprocessor in the from-app to evaluate an adjusting factor.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<PostprocessorName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of the Postprocessor in the from-app to evaluate an adjusting factor.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">to_postprocessors_to_be_preserved</span><span class="moose-parameter-header-description">The name of the Postprocessor in the to-app to evaluate an adjusting factor.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<PostprocessorName></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The name of the Postprocessor in the to-app to evaluate an adjusting factor.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="b077bbb3-f7a9-4d12-aa8c-620ab4d6897e" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_displaced_mesh</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not this object should use the displaced mesh for computation.  Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not this object should use the displaced mesh for computation.  Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section><section class="scrollspy" id="09f92249-3ac8-4801-b6e3-4d6cc5d3e509" data-section-level="2" data-section-text="Input Files"><h2 id="input-files">Input Files</h2><ul class="moose-list-inputs browser-default"><li><a href="#7bb06196-14d4-4ae1-938e-cad759220906" class="modal-trigger">test/tests/restart/restart_transient_from_steady/steady_with_sub.i</a></li><li><a href="#62fddc51-4300-4e67-86fd-960d62a07015" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/exec_on_mismatch.i</a></li><li><a href="#bcdbf305-d5e6-430b-8e49-7ff48a736906" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/master_conservative_transfer.i</a></li><li><a href="#b4610e6c-7831-4fe6-87ac-ec9dcf3cb2c0" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/fromsub_target_displaced.i</a></li><li><a href="#1ba53e14-dc00-4d16-9efa-ba7ca90f10f1" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/tosub_source_displaced.i</a></li><li><a href="#7a76ba5d-2c1e-4a56-a16b-e3da7e35278c" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/tosub.i</a></li><li><a href="#4b45f6c8-e70b-4144-9cd0-df5285677c4f" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/fromsub.i</a></li><li><a href="#eb295478-ba52-42e7-9ab8-fbcdf5bf921c" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/master_nearest_point.i</a></li><li><a href="#a9dec2e7-cfec-4c3a-8f06-61c45f6b0318" class="modal-trigger">modules/external_petsc_solver/test/tests/external_petsc_problem/moose_as_master.i</a></li><li><a href="#cee4d05a-ec41-4aa7-bd03-c8f692ba13e3" class="modal-trigger">test/tests/multiapps/picard_multilevel/fullsolve_multilevel/sub_level1.i</a></li><li><a href="#048c40b1-20da-43aa-8b2b-d81c0f4ebfd2" class="modal-trigger">test/tests/transfers/get_transfers_from_feproblem/master.i</a></li><li><a href="#c072b221-2295-4bb6-af3e-b09e812ebd54" class="modal-trigger">test/tests/multiapps/picard_multilevel/2level_picard/sub_level1.i</a></li><li><a href="#07ec24d8-273f-41bf-a986-053c4ebddfb1" class="modal-trigger">test/tests/restart/restart_transient_from_steady/restart_trans_with_sub.i</a></li><li><a href="#f339215c-4a39-434f-98ac-e2605fa21bf8" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/fromsub_source_displaced.i</a></li><li><a href="#c77bb9fd-f437-4d66-a917-34d0c7238ef0" class="modal-trigger">test/tests/multiapps/picard_multilevel/2level_picard/mutilevel_app.i</a></li><li><a href="#4c6d6d64-802e-4d90-be4b-09c7c38eb6b9" class="modal-trigger">test/tests/multiapps/grid-sequencing/fine.i</a></li><li><a href="#249de6f6-afd5-4680-b806-484eeaf3fe92" class="modal-trigger">test/tests/transfers/multiapp_high_order_variable_transfer/master_L2_Lagrange_conservative.i</a></li><li><a href="#179d5d52-1da6-4fea-80eb-4dba7860fa2b" class="modal-trigger">test/tests/multiapps/grid-sequencing/vi-coarse.i</a></li><li><a href="#61c04599-0775-47e4-9123-404e078ba850" class="modal-trigger">test/tests/transfers/multiapp_high_order_variable_transfer/master_L2_Lagrange.i</a></li><li><a href="#f19d0067-27f8-4797-9652-3db609dd3fee" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/tosub_target_displaced.i</a></li><li><a href="#85aec777-729a-43b2-81dd-214392df7d14" class="modal-trigger">test/tests/transfers/multiapp_mesh_function_transfer/missing_master.i</a></li><li><a href="#5287a63d-29a4-46f9-860a-4d1d26035eea" class="modal-trigger">test/tests/transfers/multiapp_conservative_transfer/master_power_density.i</a></li><li><a href="#966c75a7-4a62-4586-8b59-aed8080a3f12" class="modal-trigger">test/tests/multiapps/grid-sequencing/vi-fine.i</a></li><li><a href="#8c41c83c-0c6d-465a-9b93-04c0af57af4b" class="modal-trigger">modules/external_petsc_solver/test/tests/external_petsc_problem/petsc_transient_as_master.i</a></li><li><a href="#678c642d-2a8d-493b-84b6-509debe05611" class="modal-trigger">test/tests/multiapps/picard_multilevel/fullsolve_multilevel/master.i</a></li><li><a href="#5798afa0-ade0-4ee9-8f96-043cf33729c4" class="modal-trigger">test/tests/transfers/transfer_interpolation/master.i</a></li></ul><div class="modal moose-modal" id="7bb06196-14d4-4ae1-938e-cad759220906"><div class="modal-content"><h4>test/tests/restart/restart_transient_from_steady/steady_with_sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[AuxVariables]
  [Tf]
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[Postprocessors]
  [pwr_avg]
    type = ElementAverageValue
    variable = power_density
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [temp_avg]
    type = ElementAverageValue
    variable = Tf
    execute_on = &#x27;initial final&#x27;
  []
  [temp_max]
    type = ElementExtremeValue
    value_type = max
    variable = Tf
    execute_on = &#x27;initial final&#x27;
  []
  [temp_min]
    type = ElementExtremeValue
    value_type = min
    variable = Tf
    execute_on = &#x27;initial final&#x27;
  []
[]

[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-12

  picard_rel_tol = 1E-7
  picard_abs_tol = 1.0e-07
  picard_max_its = 12
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files  = steady_with_sub_sub.i
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Transfers]
  [p_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = power_density
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
  []
  [t_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = temp
    variable = Tf
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
  checkpoint = true
  execute_on = &#x27;INITIAL TIMESTEP_END FINAL&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="62fddc51-4300-4e67-86fd-960d62a07015"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/exec_on_mismatch.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [transferred_u]
  []
  [elemental_transferred_u]
    order = CONSTANT
    family = MONOMIAL
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [sub]
    positions = &#x27;.099 .099 0 .599 .599 0 0.599 0.099 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = fromsub_sub.i
    execute_on = &#x27;initial timestep_begin&#x27;
  []
[]

[Transfers]
  [from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [elemental_from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="bcdbf305-d5e6-430b-8e49-7ff48a736906"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/master_conservative_transfer.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [./sub]
    type = FullSolveMultiApp
    input_files = sub_conservative_transfer.i
    execute_on = timestep_end
  [../]
[]

[Postprocessors]
  [./from_postprocessor]
    type = ElementIntegralVariablePostprocessor
    variable = u
    execute_on = &#x27;Nonlinear TIMESTEP_END&#x27;
  [../]
[]

[Transfers]
  [./to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = u
    variable = aux_u
    multi_app = sub
    from_postprocessors_to_be_preserved  = &#x27;from_postprocessor&#x27;
    to_postprocessors_to_be_preserved  = &#x27;to_postprocessor&#x27;
  [../]
[]

[Outputs]
  exodus = true
  [./console]
    type = Console
    execute_postprocessors_on = &#x27;INITIAL nonlinear TIMESTEP_END&#x27;
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="b4610e6c-7831-4fe6-87ac-ec9dcf3cb2c0"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/fromsub_target_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  displacements = &#x27;x_disp y_disp&#x27;
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./transferred_u]
  [../]
  [./elemental_transferred_u]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./x_disp]
    initial_condition = -0.1
  [../]
  [./y_disp]
    initial_condition = -0.1
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub]
    positions = &#x27;.099 .099 0 .599 .599 0 0.599 0.099 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = fromsub_sub.i
  [../]
[]

[Transfers]
  [./from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_target_mesh = true
  [../]
  [./elemental_from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_target_mesh = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="1ba53e14-dc00-4d16-9efa-ba7ca90f10f1"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/tosub_source_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  displacements = &#x27;x_disp y_disp&#x27;
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./x_disp]
    initial_condition = -0.1
  [../]
  [./y_disp]
    initial_condition = -0.1
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub]
    positions = &#x27;.1 .1 0 0.6 0.6 0 0.6 0.1 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = tosub_sub.i
    execute_on = timestep_end
  [../]
[]

[Transfers]
  [./to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    #displaced_source_mesh = true
  [../]

  [./elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    #displaced_source_mesh = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="7a76ba5d-2c1e-4a56-a16b-e3da7e35278c"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/tosub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [sub]
    positions = &#x27;.1 .1 0 0.6 0.6 0 0.6 0.1 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = tosub_sub.i
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []

  [elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4b45f6c8-e70b-4144-9cd0-df5285677c4f"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/fromsub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [transferred_u]
  []
  [elemental_transferred_u]
    order = CONSTANT
    family = MONOMIAL
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = u
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  []
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [sub]
    positions = &#x27;.099 .099 0 .599 .599 0 0.599 0.099 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = fromsub_sub.i
  []
[]

[Transfers]
  [from_sub]
    source_variable = &#x27;sub_u sub_u&#x27;
    direction = from_multiapp
    variable = &#x27;transferred_u elemental_transferred_u&#x27;
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="eb295478-ba52-42e7-9ab8-fbcdf5bf921c"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/master_nearest_point.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = 1
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[AuxVariables]
  [from_sub]
  []
[]

[VectorPostprocessors]
  [from_nearest_point]
    type = NearestPointIntegralVariablePostprocessor
    variable = power_density
    points = &#x27;0 0.5 0 1 0.5 0&#x27;
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []

  [to_nearest_point]
    type = NearestPointIntegralVariablePostprocessor
    variable = from_sub
    points = &#x27;0 0.5 0 1 0.5 0&#x27;
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    input_files = sub_nearest_point.i
    positions = &#x27;0 0 0 0.5 0 0&#x27;
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = from_master
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # 1 NearestPointIntegralVariablePostprocessor is specified on the master
    # side with N points, where N is the number of subapps
    # 1 pp is specified on the subapp side
    from_postprocessors_to_be_preserved = &#x27;from_nearest_point&#x27;
    to_postprocessors_to_be_preserved = &#x27;from_master_pp&#x27;
  []

  [from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = sink
    variable = from_sub
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # 1 NearestPointIntegralVariablePostprocessor is specified on the master
    # with N points, where N is the number of subapps
    # 1 pp is specified on the subapp side
    to_postprocessors_to_be_preserved = &#x27;to_nearest_point&#x27;
    from_postprocessors_to_be_preserved = &#x27;sink&#x27;
  []
[]

[Outputs]
  csv = true
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="a9dec2e7-cfec-4c3a-8f06-61c45f6b0318"><div class="modal-content"><h4>modules/external_petsc_solver/test/tests/external_petsc_problem/moose_as_master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./v]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [./td]
    type = TimeDerivative
    variable = u
  [../]
  [./cf]
    type = CoupledForce
    coef = 10000
    variable = u
    v=v
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 10
  dt = 0.2

  solve_type = &#x27;PJFNK&#x27;

  picard_max_its = 10
  picard_rel_tol = 1e-8
  picard_abs_tol = 1e-9
  nl_rel_tol = 1e-6
  nl_abs_tol = 1e-12

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[Postprocessors]
  [./picard_its]
    type = NumPicardIterations
    execute_on = &#x27;initial timestep_end&#x27;
  [../]
[]

[MultiApps]
  [./sub_app]
    type = TransientMultiApp
    input_files = &#x27;petsc_transient_as_sub.i&#x27;
    app_type = ExternalPetscSolverApp
    library_path = &#x27;../../../../external_petsc_solver/lib&#x27;
  [../]
[]

[Transfers]
  [./fromsub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    multi_app = sub_app
    source_variable = u
    variable = v
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="cee4d05a-ec41-4aa7-bd03-c8f692ba13e3"><div class="modal-content"><h4>test/tests/multiapps/picard_multilevel/fullsolve_multilevel/sub_level1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = 0
  xmax = 1
  ymin = 0
  ymax = 1
  nx = 10
  ny = 10
[]

[Variables]
  [v]
  []
[]

[AuxVariables]
  [u]
  []
  [w]
  []
[]

[Kernels]
  [time_derivative]
    type = TimeDerivative
    variable = v
  []
  [diffusion]
    type = Diffusion
    variable = v
  []
  [source]
    type = CoupledForce
    variable = v
    v = u
  []
[]

[BCs]
  [dirichlet0]
    type = DirichletBC
    variable = v
    boundary = &#x27;0&#x27;
    value = 0
  []
  [dirichlet]
    type = DirichletBC
    variable = v
    boundary = &#x27;2&#x27;
    value = 100
  []
[]

[Postprocessors]
  [avg_u]
    type = ElementAverageValue
    variable = u
    execute_on = &#x27;initial linear&#x27;
  []
  [avg_v]
    type = ElementAverageValue
    variable = v
    execute_on = &#x27;initial linear&#x27;
  []
  [avg_w]
    type = ElementAverageValue
    variable = w
    execute_on = &#x27;initial linear&#x27;
  []
[]

[Executioner]
  type = Transient

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  end_time = 0.1
  dt = 0.02
  # picard_max_its = 5
  # accept_on_max_picard_iteration = true
  # nl_rel_tol = 1e-8
  # nl_abs_tol = 1e-9
  # picard_rel_tol = 1e-3
  # picard_abs_tol = 1e-7
[]


[MultiApps]
  [level2-]
    type = TransientMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files = sub_level2.i
    execute_on = &#x27;timestep_end&#x27;
    # sub_cycling = true
  []
[]

[Transfers]
  [v_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = v
    variable = v
    multi_app = level2-
    execute_on = &#x27;timestep_end&#x27;
  []
  [w_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = w
    variable = w
    multi_app = level2-
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
  # print_linear_residuals = false
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="048c40b1-20da-43aa-8b2b-d81c0f4ebfd2"><div class="modal-content"><h4>test/tests/transfers/get_transfers_from_feproblem/master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  # This test currently diffs when run in parallel with DistributedMesh enabled,
  # most likely due to the fact that it uses some geometric search stuff.
  # For more information, see #2121.
  parallel_type = replicated
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[UserObjects]
  [./layered_average]
    type = GetTransferUserObject
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1
  nl_rel_tol = 1e-10

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [./sub]
    type = TransientMultiApp
    app_type = MooseTestApp
    execute_on = timestep_end
    positions = &#x27;0 0 0&#x27;
    input_files = sub.i
  [../]
[]

[Transfers]
  [./nearest_node]
    type = MultiAppNearestNodeTransfer
    direction = to_multiapp
    multi_app = sub
    source_variable = u
    variable = nearest_node
  [../]
  [./mesh_function]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    multi_app = sub
    source_variable = u
    variable = mesh_function
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c072b221-2295-4bb6-af3e-b09e812ebd54"><div class="modal-content"><h4>test/tests/multiapps/picard_multilevel/2level_picard/sub_level1.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = 0
  xmax = 1
  ymin = 0
  ymax = 1
  nx = 10
  ny = 10
[]

[Variables]
  [v]
  []
[]

[AuxVariables]
  [u]
  []
  [w]
  []
[]

[Kernels]
  [time_derivative]
    type = TimeDerivative
    variable = v
  []
  [diffusion]
    type = Diffusion
    variable = v
  []
  [source]
    type = CoupledForce
    variable = v
    v = u
  []
[]

[BCs]
  [dirichlet0]
    type = DirichletBC
    variable = v
    boundary = &#x27;0&#x27;
    value = 0
  []
  [dirichlet]
    type = DirichletBC
    variable = v
    boundary = &#x27;2&#x27;
    value = 100
  []
[]

[Postprocessors]
  [avg_u]
    type = ElementAverageValue
    variable = u
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  []
  [avg_v]
    type = ElementAverageValue
    variable = v
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  []
  [avg_w]
    type = ElementAverageValue
    variable = w
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  []
[]

[Executioner]
  type = Transient

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  end_time = 0.1
  dt = 0.02
[]


[MultiApps]
  [level2-]
    type = TransientMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files = sub_level2.i
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Transfers]
  [v_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = v
    variable = v
    multi_app = level2-
    execute_on = &#x27;timestep_end&#x27;
  []
  [w_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = w
    variable = w
    multi_app = level2-
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
  [screen]
    type = Console
    execute_postprocessors_on= &quot;timestep_end timestep_begin&quot;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="07ec24d8-273f-41bf-a986-053c4ebddfb1"><div class="modal-content"><h4>test/tests/restart/restart_transient_from_steady/restart_trans_with_sub.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Problem]
  restart_file_base = steady_with_sub_out_cp/LATEST
  skip_additional_restart_data = true
[]

[AuxVariables]
  [Tf]
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27; # increase this function to drive transient
  []
[]

[Kernels]
  [timedt]
    type = TimeDerivative
    variable = power_density
  []

  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[Postprocessors]
  [pwr_avg]
    type = ElementAverageValue
    block = &#x27;0&#x27;
    variable = power_density
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [temp_avg]
    type = ElementAverageValue
    variable = Tf
    block = &#x27;0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [temp_max]
    type = ElementExtremeValue
    value_type = max
    variable = Tf
    block = &#x27;0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  []
  [temp_min]
    type = ElementExtremeValue
    value_type = min
    variable = Tf
    block = &#x27;0&#x27;
    execute_on = &#x27;initial timestep_end&#x27;
  []
[]

[Executioner]
  type = Transient
  start_time = 0
  end_time = 3
  dt = 1.0

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-7

  picard_rel_tol = 1e-7
  picard_abs_tol = 1e-07
  picard_max_its = 4

  line_search = none
[]

[MultiApps]
  [./sub]
    type = TransientMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files  = restart_trans_with_sub_sub.i
    execute_on = &#x27;timestep_end&#x27;
  [../]
[]

[Transfers]
  [p_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = power_density
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
  []
  [t_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = temp
    variable = Tf
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f339215c-4a39-434f-98ac-e2605fa21bf8"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/fromsub_source_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[AuxVariables]
  [./transferred_u]
  [../]
  [./elemental_transferred_u]
    order = CONSTANT
    family = MONOMIAL
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub]
    positions = &#x27;.099 .099 0 .599 .599 0 0.599 0.099 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = fromsub_sub.i
  [../]
[]

[Transfers]
  [./from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_source_mesh = true
  [../]
  [./elemental_from_sub]
    source_variable = sub_u
    direction = from_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_source_mesh = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="c77bb9fd-f437-4d66-a917-34d0c7238ef0"><div class="modal-content"><h4>test/tests/multiapps/picard_multilevel/2level_picard/mutilevel_app.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = 0
  xmax = 1
  ymin = 0
  ymax = 1
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [v]
    initial_condition = 50
  []
[]

[Kernels]
  [diffusion]
    type = Diffusion
    variable = u
  []
  [source]
    type = CoupledForce
    variable = u
    v = v
  []
[]

[BCs]
  [dirichlet0]
    type = DirichletBC
    variable = u
    boundary = &#x27;3&#x27;
    value = 0
  []
  [dirichlet]
    type = DirichletBC
    variable = u
    boundary = &#x27;1&#x27;
    value = 100
  []
[]

[Postprocessors]
  [avg_u]
    type = ElementAverageValue
    variable = u
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  []
  [avg_v]
    type = ElementAverageValue
    variable = v
    execute_on = &#x27;initial timestep_begin timestep_end&#x27;
  []
[]


[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  picard_rel_tol = 1E-3
  picard_abs_tol = 1.0e-05
  picard_max_its = 2
[]

[MultiApps]
  [level1-]
    type = FullSolveMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files = sub_level1.i
    execute_on = &#x27;timestep_end&#x27;
    keep_solution_during_restore = true
  []
[]

[Transfers]
  [u_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = u
    variable = u
    multi_app = level1-
    execute_on = &#x27;timestep_end&#x27;
  []
  [v_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = v
    variable = v
    multi_app = level1-
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
  [screen]
    type = Console
    execute_postprocessors_on= &quot;timestep_end timestep_begin&quot;
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="4c6d6d64-802e-4d90-be4b-09c7c38eb6b9"><div class="modal-content"><h4>test/tests/multiapps/grid-sequencing/fine.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 40
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [./diff]
    type = Diffusion
    variable = u
  [../]
  [rxn]
    type = Reaction
    variable = u
  []
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]


[Executioner]
  type = Transient
  num_steps = 2
  dt = 1

  solve_type = &#x27;PJFNK&#x27;
  petsc_options = &#x27;-snes_monitor_solution&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./coarse]
    type = TransientMultiApp
    app_type = MooseTestApp
    execute_on = timestep_begin
    positions = &#x27;0 0 0&#x27;
    input_files = coarse.i
  [../]
[]

[Transfers]
  [./mesh_function_begin]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    multi_app = coarse
    source_variable = u
    variable = u
    execute_on = timestep_begin
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="249de6f6-afd5-4680-b806-484eeaf3fe92"><div class="modal-content"><h4>test/tests/transfers/multiapp_high_order_variable_transfer/master_L2_Lagrange_conservative.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [power_density]
    family = L2_LAGRANGE
    order = FIRST
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Reaction
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[Postprocessors]
  [pwr_avg]
    type = ElementAverageValue
    block = &#x27;0&#x27;
    variable = power_density
    execute_on = &#x27;initial timestep_end&#x27;
  []
[]

[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-12
[]

[Postprocessors]
  [./from_postprocessor]
    type = ElementIntegralVariablePostprocessor
    variable = power_density
    execute_on = &#x27;Nonlinear TIMESTEP_END&#x27;
  [../]
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files  = sub_L2_Lagrange_conservative.i
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Transfers]
  [p_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = power_density
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
    from_postprocessors_to_be_preserved  = &#x27;from_postprocessor&#x27;
    to_postprocessors_to_be_preserved  = &#x27;pwr_density&#x27;
  []
[]

[Outputs]
  exodus = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="179d5d52-1da6-4fea-80eb-4dba7860fa2b"><div class="modal-content"><h4>test/tests/multiapps/grid-sequencing/vi-coarse.i</h4><pre class="moose-pre"><code class="language-text">l=10
nx=40
num_steps=2

[Mesh]
  type = GeneratedMesh
  dim = 1
  xmax = ${l}
  nx = ${nx}
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [bounds][]
[]

[Bounds]
  [./u_upper_bound]
    type = ConstantBoundsAux
    variable = bounds
    bounded_variable = u
    bound_type = upper
    bound_value = ${l}
  [../]
  [./u_lower_bound]
    type = ConstantBoundsAux
    variable = bounds
    bounded_variable = u
    bound_type = lower
    bound_value = 0
  [../]
[]

[ICs]
  [u]
    type = FunctionIC
    variable = u
    function = &#x27;x&#x27;
  []
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [diff]
    type = Diffusion
    variable = u
  []
  [ffn]
    type = BodyForce
    variable = u
    function = &#x27;if(x&lt;5,-1,1)&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    boundary = left
    value = 0
    variable = u
  []
  [right]
    type = DirichletBC
    boundary = right
    value = ${l}
    variable = u
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient
  num_steps = ${num_steps}
  solve_type = NEWTON
  dtmin = 1
  petsc_options = &#x27;-snes_vi_monitor&#x27;
  petsc_options_iname = &#x27;-snes_max_linear_solve_fail -ksp_max_it -pc_type -sub_pc_factor_levels -snes_linesearch_type -snes_type&#x27;
  petsc_options_value = &#x27;0                           30          asm      16                    basic                 vinewtonrsls&#x27;
[]

[Outputs]
  exodus = true
  [csv]
    type = CSV
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
  [dof]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]

[Debug]
  show_var_residual_norms = true
[]

[Postprocessors]
  active = &#x27;upper_violations lower_violations&#x27;
  [upper_violations]
    type = GreaterThanLessThanPostprocessor
    variable = u
    execute_on = &#x27;nonlinear timestep_end&#x27;
    value = ${fparse 10+1e-8}
    comparator = &#x27;greater&#x27;
  []
  [lower_violations]
    type = GreaterThanLessThanPostprocessor
    variable = u
    execute_on = &#x27;nonlinear timestep_end&#x27;
    value = -1e-8
    comparator = &#x27;less&#x27;
  []
  [nls]
    type = NumNonlinearIterations
  []
  [cum_nls]
    type = CumulativeValuePostprocessor
    postprocessor = nls
  []
[]

[MultiApps]
  [./coarser]
    type = TransientMultiApp
    app_type = MooseTestApp
    execute_on = timestep_begin
    positions = &#x27;0 0 0&#x27;
    input_files = vi-coarser.i
  [../]
[]

[Transfers]
  [./mesh_function_begin]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    multi_app = coarser
    source_variable = u
    variable = u
    execute_on = timestep_begin
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="61c04599-0775-47e4-9123-404e078ba850"><div class="modal-content"><h4>test/tests/transfers/multiapp_high_order_variable_transfer/master_L2_Lagrange.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 20
  ny = 20
[]

[Variables]
  [power_density]
    family = L2_LAGRANGE
    order = FIRST
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Reaction
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[Postprocessors]
  [pwr_avg]
    type = ElementAverageValue
    block = &#x27;0&#x27;
    variable = power_density
    execute_on = &#x27;initial timestep_end&#x27;
  []
[]

[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  nl_abs_tol = 1e-8
  nl_rel_tol = 1e-12
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files  = sub_L2_Lagrange.i
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Transfers]
  [p_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = power_density
    multi_app = sub
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="f19d0067-27f8-4797-9652-3db609dd3fee"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/tosub_target_displaced.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub]
    positions = &#x27;.1 .1 0 0.6 0.6 0 0.6 0.1 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = tosub_sub.i
    execute_on = timestep_end
  [../]
[]

[Transfers]
  [./to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_target_mesh = true
  [../]
  [./elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    displaced_target_mesh = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="85aec777-729a-43b2-81dd-214392df7d14"><div class="modal-content"><h4>test/tests/transfers/multiapp_mesh_function_transfer/missing_master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub]
    positions = &#x27;0.9 0.5 0&#x27;
    type = TransientMultiApp
    app_type = MooseTestApp
    input_files = tosub_sub.i
    execute_on = timestep_end
  [../]
[]

[Transfers]
  [./to_sub]
    source_variable = u
    direction = to_multiapp
    variable = transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    error_on_miss = true
  [../]
  [./elemental_to_sub]
    source_variable = u
    direction = to_multiapp
    variable = elemental_transferred_u
    type = MultiAppMeshFunctionTransfer
    multi_app = sub
    error_on_miss = true
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5287a63d-29a4-46f9-860a-4d1d26035eea"><div class="modal-content"><h4>test/tests/transfers/multiapp_conservative_transfer/master_power_density.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  [gen]
    type = GeneratedMeshGenerator
    dim = 2
    xmax = 1
    ymax = 1
    nx = 10
    ny = 10
  []
  [block1]
    input = gen
    type = SubdomainBoundingBoxGenerator
    block_id = 1
    bottom_left = &#x27;0.5 0 0&#x27;
    top_right = &#x27;1 1 0&#x27;
  []
[]

[Variables]
  [power_density]
  []
[]

[Functions]
  [pwr_func]
    type = ParsedFunction
    value = &#x27;1e3*x*(1-x)+5e2&#x27;
  []
[]

[Kernels]
  [diff]
    type = Diffusion
    variable = power_density
  []

  [coupledforce]
    type = BodyForce
    variable = power_density
    function = pwr_func
  []
[]

[BCs]
  [left]
    type = DirichletBC
    variable = power_density
    boundary = left
    value = 0
  []
  [right]
    type = DirichletBC
    variable = power_density
    boundary = right
    value = 1e3
  []
[]

[AuxVariables]
  [from_sub]
  []
[]

[Postprocessors]
  [pwr0]
    type = ElementIntegralVariablePostprocessor
    block = 0
    variable = power_density
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [pwr1]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = power_density
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_sub0]
    type = ElementIntegralVariablePostprocessor
    block = 0
    variable = from_sub
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
  [from_sub1]
    type = ElementIntegralVariablePostprocessor
    block = 1
    variable = from_sub
    execute_on = &#x27;transfer nonlinear TIMESTEP_END&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = &#x27;PJFNK&#x27;
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[MultiApps]
  [sub]
    type = FullSolveMultiApp
    input_files = sub_power_density.i
    positions = &#x27;0 0 0 0.5 0 0&#x27;
    execute_on = timestep_end
  []
[]

[Transfers]
  [to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = power_density
    variable = from_master
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # N pps are specified on the master side, where N is the number of subapps
    # 1 pp is specified on the subapp side
    from_postprocessors_to_be_preserved = &#x27;pwr0 pwr1&#x27;
    to_postprocessors_to_be_preserved = &#x27;from_master_pp&#x27;
  []

  [from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = sink
    variable = from_sub
    multi_app = sub
    execute_on = timestep_end

    # The following inputs specify what postprocessors should be conserved
    # N pps are specified on the master side, where N is the number of subapps
    # 1 pp is specified on the subapp side
    to_postprocessors_to_be_preserved = &#x27;from_sub0 from_sub1&#x27;
    from_postprocessors_to_be_preserved = &#x27;sink&#x27;
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="966c75a7-4a62-4586-8b59-aed8080a3f12"><div class="modal-content"><h4>test/tests/multiapps/grid-sequencing/vi-fine.i</h4><pre class="moose-pre"><code class="language-text">l=10
nx=80
num_steps=2

[Mesh]
  type = GeneratedMesh
  dim = 1
  xmax = ${l}
  nx = ${nx}
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [bounds][]
[]

[Bounds]
  [./u_upper_bounds]
    type = ConstantBoundsAux
    variable = bounds
    bounded_variable = u
    bound_type = upper
    bound_value = ${l}
  [../]
  [./u_lower_bounds]
    type = ConstantBoundsAux
    variable = bounds
    bounded_variable = u
    bound_type = lower
    bound_value = 0
  [../]
[]

[ICs]
  [u]
    type = FunctionIC
    variable = u
    function = &#x27;x&#x27;
  []
[]

[Kernels]
  [time]
    type = TimeDerivative
    variable = u
  []
  [diff]
    type = Diffusion
    variable = u
  []
  [ffn]
    type = BodyForce
    variable = u
    function = &#x27;if(x&lt;5,-1,1)&#x27;
  []
[]

[BCs]
  [left]
    type = DirichletBC
    boundary = left
    value = 0
    variable = u
  []
  [right]
    type = DirichletBC
    boundary = right
    value = ${l}
    variable = u
  []
[]

[Preconditioning]
  [smp]
    type = SMP
    full = true
  []
[]

[Executioner]
  type = Transient
  num_steps = ${num_steps}
  solve_type = NEWTON
  dtmin = 1
  petsc_options = &#x27;-snes_vi_monitor&#x27;
  petsc_options_iname = &#x27;-snes_max_linear_solve_fail -ksp_max_it -pc_type -sub_pc_factor_levels -snes_linesearch_type -snes_type&#x27;
  petsc_options_value = &#x27;0                           30          asm      16                    basic                 vinewtonrsls&#x27;
[]

[Outputs]
  exodus = true
  [csv]
    type = CSV
    execute_on = &#x27;nonlinear timestep_end&#x27;
  []
  [dof]
    type = DOFMap
    execute_on = &#x27;initial&#x27;
  []
[]

[Debug]
  show_var_residual_norms = true
[]

[Postprocessors]
  active = &#x27;upper_violations lower_violations&#x27;
  [upper_violations]
    type = GreaterThanLessThanPostprocessor
    variable = u
    execute_on = &#x27;nonlinear timestep_end&#x27;
    value = ${fparse 10+1e-8}
    comparator = &#x27;greater&#x27;
  []
  [lower_violations]
    type = GreaterThanLessThanPostprocessor
    variable = u
    execute_on = &#x27;nonlinear timestep_end&#x27;
    value = -1e-8
    comparator = &#x27;less&#x27;
  []
  [nls]
    type = NumNonlinearIterations
  []
  [cum_nls]
    type = CumulativeValuePostprocessor
    postprocessor = nls
  []
[]

[MultiApps]
  [./coarse]
    type = TransientMultiApp
    app_type = MooseTestApp
    execute_on = timestep_begin
    positions = &#x27;0 0 0&#x27;
    input_files = vi-coarse.i
  [../]
[]

[Transfers]
  [./mesh_function_begin]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    multi_app = coarse
    source_variable = u
    variable = u
    execute_on = timestep_begin
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="8c41c83c-0c6d-465a-9b93-04c0af57af4b"><div class="modal-content"><h4>modules/external_petsc_solver/test/tests/external_petsc_problem/petsc_transient_as_master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  # It is a mirror of PETSc mesh (DMDA)
  type = PETScDMDAMesh
[]

[AuxVariables]
  [./u]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Problem]
  type = ExternalPETScProblem
  sync_variable = u
[]

[Executioner]
  type = Transient
  num_steps = 10
  [./TimeStepper]
    type = ExternalPetscTimeStepper
  [../]
[]

[AuxVariables]
  [pid]
    family = MONOMIAL
    order = CONSTANT
  []
[]

[AuxKernels]
  [pid_aux]
    type = ProcessorIDAux
    variable = pid
    execute_on = &#x27;INITIAL&#x27;
  []
[]

[Outputs]
  exodus = true
[]

[MultiApps]
  [./sub_app]
    type = TransientMultiApp
    input_files = &#x27;moose_as_sub.i&#x27;
    app_type = ExternalPetscSolverTestApp
  [../]
[]

[Transfers]
  [./tosub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    multi_app = sub_app
    source_variable = u
    variable = v
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="678c642d-2a8d-493b-84b6-509debe05611"><div class="modal-content"><h4>test/tests/multiapps/picard_multilevel/fullsolve_multilevel/master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  xmin = 0
  xmax = 1
  ymin = 0
  ymax = 1
  nx = 10
  ny = 10
[]

[Variables]
  [u]
  []
[]

[AuxVariables]
  [v]
    initial_condition = 50
  []
[]

[Kernels]
  [diffusion]
    type = Diffusion
    variable = u
  []
  [source]
    type = CoupledForce
    variable = u
    v = v
  []
[]

[BCs]
  [dirichlet0]
    type = DirichletBC
    variable = u
    boundary = &#x27;3&#x27;
    value = 0
  []
  [dirichlet]
    type = DirichletBC
    variable = u
    boundary = &#x27;1&#x27;
    value = 100
  []
[]

[Postprocessors]
  [avg_u]
    type = ElementAverageValue
    variable = u
    execute_on = &#x27;initial linear&#x27;
  []
  [avg_v]
    type = ElementAverageValue
    variable = v
    execute_on = &#x27;initial linear&#x27;
  []
[]


[Executioner]
  type = Steady
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart &#x27;
  petsc_options_value = &#x27;hypre boomeramg 100&#x27;

  picard_rel_tol = 1E-3
  picard_abs_tol = 1.0e-05
  picard_max_its = 12
[]

[MultiApps]
  [level1-]
    type = FullSolveMultiApp
    app_type = MooseTestApp
    positions = &#x27;0 0 0&#x27;
    input_files = sub_level1.i
    execute_on = &#x27;timestep_end&#x27;

    # We have to make backups of the full tree in order to do a proper restore for the Picard iteration.
    no_backup_and_restore = false
  []
[]

[Transfers]
  [u_to_sub]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    source_variable = u
    variable = u
    multi_app = level1-
    execute_on = &#x27;timestep_end&#x27;
  []
  [v_from_sub]
    type = MultiAppMeshFunctionTransfer
    direction = from_multiapp
    source_variable = v
    variable = v
    multi_app = level1-
    execute_on = &#x27;timestep_end&#x27;
  []
[]

[Outputs]
  exodus = true
  csv = true
  perf_graph = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="modal moose-modal" id="5798afa0-ade0-4ee9-8f96-043cf33729c4"><div class="modal-content"><h4>test/tests/transfers/transfer_interpolation/master.i</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
  # This test currently diffs when run in parallel with DistributedMesh enabled,
  # most likely due to the fact that it uses some geometric search stuff.
  # For more information, see #2121.
  parallel_type = replicated
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[UserObjects]
  [./layered_average]
    type = LayeredAverage
    variable = u
    direction = x
    num_layers = 3
  [../]
[]

[Executioner]
  type = Transient
  num_steps = 1
  dt = 1
  nl_rel_tol = 1e-10

  solve_type = &#x27;PJFNK&#x27;

  petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
  petsc_options_value = &#x27;hypre boomeramg&#x27;
[]

[Outputs]
  exodus = true
[]
[MultiApps]
  [./sub]
    type = TransientMultiApp
    app_type = MooseTestApp
    execute_on = timestep_end
    positions = &#x27;0 0 0&#x27;
    input_files = sub.i
    sub_cycling = true
    interpolate_transfers = true
    output_sub_cycles = true
  [../]
[]

[Transfers]
  [./nearest_node]
    type = MultiAppNearestNodeTransfer
    direction = to_multiapp
    multi_app = sub
    source_variable = u
    variable = nearest_node
  [../]
  [./mesh_function]
    type = MultiAppMeshFunctionTransfer
    direction = to_multiapp
    multi_app = sub
    source_variable = u
    variable = mesh_function
  [../]
  [./user_object]
    type = MultiAppUserObjectTransfer
    direction = to_multiapp
    multi_app = sub
    variable = user_object
    user_object = layered_average
  [../]
  [./interpolation]
    type = MultiAppInterpolationTransfer
    direction = to_multiapp
    multi_app = sub
    source_variable = u
    variable = interpolation
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#35552ba1-0b2c-43a0-88f0-7f4e7d823cf5" class="tooltipped" data-position="left" data-tooltip="Example Input File Syntax">Example Input File Syntax</a></li><li><a href="#5f1525bc-7c15-4075-86da-69bf95a9cac8" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li><li><a href="#09f92249-3ac8-4801-b6e3-4d6cc5d3e509" class="tooltipped" data-position="left" data-tooltip="Input Files">Input Files</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>